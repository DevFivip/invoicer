(this["webpackJsonpinvoicer-front"]=this["webpackJsonpinvoicer-front"]||[]).push([[0],{220:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/features-bg.69c5091d.png"},221:function(e,t,n){"use strict";n.r(t),t.default="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA+gAAABYCAMAAABRXy0+AAAC/VBMVEVHcEz///////9mZmb///////////////////////8zMzMAcPQHCw5ra2tIu3j+/v8KDRGUlJT8/Pzx8fG3t7eZmZmVOivj4+NycnIGdPWPNysYDA6BKCF1dXV7e3v8+vloaGjh4eHR0dHGxsb7Z0qBMiv29vZ/uPq5ubmGvPqDg4M5OTnX19fOzs6LMijU1NSzs7Pz8/Pt7e2IOC6fn5+tra2Hh4cSDQ+NSjpEFhWVPy82NjawsLCGKyM7kvf5+fmTNCbY2NiAgIBubm5NHBn7YUX8bFC8vLyaRzb2+/+aQzFyKSRCQUK/v78xDRG+2/2UQzWZPi1nKySGMSiPPTB5JCDCwsLF6tWoqKiMjIyfTDp0Ih/7Wz+1tbXn5+d9KSPb29s8ExOx1Pybm5trIR7v7++Pj48dCQ4pCg6YSz1xHRuenp6fRzTf398NERYjCg4ZFBf5VDuhVEK6kYXp6ent9v9CHh6haFaNLiOkpKRNTU13d3cRevWmXk3IyMg9PT2vgXOyiH3l8f5lIx4gERH9dFdZIBx2MSbr6+uhoaFbWlsaf/Y6CxEmGxxiHBtrMiyeUD+HQTZHR0diYmLS5/6izPxMvXssExSkcmZ2s/rM4/2Swvv9f2U0IyR/IR2JiYlJmvhUHBkrifeweWlODRPBmpG55cx9PTZvR0CaamJZOTRPnfjRr6hprPmax/teJh80GRp9PCije26NZFhTU1O5hXVXofiYUkZXJyarc1+aXERMKCfdGhzMFBjd7P7KnI7ElYV4Nyv6Qi5qPjmKVkeVXVHJycnHx8fhx8Jepvn8TjSs0fx8WlHsFxlKSkpGChF9TkHvJyOqg330NizXu7SraVjucVv1RTfd3d3OpJr25eP90cnDinjyYEizIR/RSjnfMShcw4fLoJb+vK/p2NXCoJu52f3PXka7RDTO7duamppBlvfLy8s/LSyXFxpgxYr/7OjgjXn8qJr7kYLj0M7FxcXZd2Flxo6dnZ39nYioTDphERWeLif9oItxBhFFmBtRAAAACnRSTlMAvf//K5QG89WPJLo67wAAGPRJREFUeAHs00cBwzAQALDLZfpl/mxbCun0kDgo7tjKdSZw23mVLfpw7DVfBNT96OL5ksAblh6m7wm8ZY/mbTXfAtQtWlfyTUCJ1l35JuCK1p35JuCM1uXbANGhGaIDogOitw9EB0QHRAdEf6oP9uwCRG4lDOA4DA6BzbMB5rnkoe9c53k1JMhEamd1STlC2Kwh54ZtL4vUXc/dD6m7e4vW8EWLWye1ZZEKnuX7xdCg/2Tk+YB7JD43HW6IH3EHnodQjgEAQv/yYkuDZ8kyY0xhKTOPEDZ58UuUOwCA0H98VEVTTFEUjDHFWFJX/01wHmFPf0S5AQAIPTRgYVwsmZhSrM7oM90zI7HOYVVabRgVAyEEQA6A0C/GmSWzigpmEinm2P4h2rbt7IvFdIlMX0SBBwCE/qgq7DFMLYthaZ/NiYL9VrkzMixJLgo2ACD0f49o9VWyhjHF2BjxM+ehiyK/8we/lS/SZ3p/RwEGAIT+uAFjSigPHeclljm26Pct+Hef/3T2zXSde4wCCwAI/fG9KmwYxCSE/P3dd51+2Fn85mPdKdOC0gMLQOj/3qMYU59CSV6ezrsWsvHyv52RDGM6qKN3ACD0IyQvgRWSIK/9pwoZmdDFHbq6ddlOBEAgQehuHib/YfLdd4k8whilZkwQuazQbUFw5nVV7TqGAAggCP2lxWSOWSmTyeGGsHdi3nEcW8gOXRTaZ06liovNiwiAwIHQQ7OeV1VVVV/veRbvvcqr6D7T05dMpp1yIcMWy9d2dhnffbd6OoQACBoI/a6i8Mw1jmLNJEZFfGd8fLynr2+fyGUm6e1ty5at3r962eoBBEDAQOg/TiuKQjHGGi0upkQ6O+m23B4bu9rTk0zuszNb6c6ObRvU1cXFxVLqRwRAsEDojyxLNouJXGWx1HTYO+e+OHbMbRkbv9nTcybt2GJSEAWufKRTl4qLTcZYxQACgfPLHw9RbolC6J/hy4awV1XlhbmGeLyhofkY597moZ+52uek9yXTSafc4a0vWr1aMoy/DY59+dG31r5i7zyA2sjSBFz1v4pPo+lVA0YOqAQuyTaIbJFBtkQVJtqLMQOmECIIp/H6ygZsHIhTBOMc1hjnCYfDOudxnW+d8LrsCbeRy5lNXD4up79fP4mGRoLz1ZS5gm9ChxdaEz79/wuSysvDYAoMl5d3wVsQhw+wgRdXeXkx+KW8PAu+YZqaBuBtMTc1RcNbENzU5ISJsQ00NZnBQxwhVmCEFltL8l3w7hk6zhhqg7dByNBkCADHjh8/Niv6FPgBjs1zvj1n1Yc5OR8eWpuzp3XbttbWllu9t998/eZiw5n9N86cwRQeTc9Mr6gpW7OmDFnzY5iEEUrplzAF9JQufCsxminNBy8OShPAL5TmwTcMIVp4W4IJSYC3IIaQQJgQi4EQEgweigmxsAfpCKMUi94xGRrO7ozj8L9mJTZcCbBIo1kyK/rkCHdxcD5nWdQ81P3DnKio7S2t21pbWlpuXbr95mLhjfmJ8+djQEfX3ztRk9uZuya3Jje3rKwXJsFAkchvUHSwU2oAD+5USsNgAhrz8rrfuehZev3iqYuubPP2opsbCaIQ/VdEK+IhVIt3jdLftM5pIzpy3ldYP7V794QiC9k9mp7sWdGVfPCnf/NLn6KvmhdVUbG6aNWCigULTKbD23tv/fCHP9zWcuvWpa+vJ5/4aP5HiYmJ30n8zm9868YTk8kUX3RYmo6LF8Av5giKhH+Tor+ktNkMHCulO2EiNlFa/c5FLyckZsqiK9u8vehhuwhxaBWiC3pSiwcz3q8dFIXQUkLs4rsX/eTr169PXZWM3+0jAV+i0SyCiU0fyoZZ0RX85vvvv//P4IO/2LB1K26VWfthSlF8/IpDz56/uHzm8ps3l3q3P7/ZUXnio4/mz0fTcYj+rRumigX4poDgKts/gl/KKT2aSvNs36Do4hFKs4BjpDRoVnQF6LPOHaIQPZSQxXgYJuQc89uGNULfvehVwKjq0WgyJhddzazoSs/9if49KWXHZXTcL7P20IoNz5O+brh8a1vL7edJh28WZqLozHRpia2gbM3q1QsOdByowaH6X4JftJTmO7iI8oxRF4A7Ky16VH1btDVwMxed1xDDluZziy1p5RYbeHFL80dxMIZaSkNApgsz91DgdI2UDAQAY3mTnVJ7U9OgV3SXNSsUVIihxSODysdF51vMwLFYXNKrXegGidjI4kFBURAQhlXVouPtaDdXzNJNyCaLxakuYrgj8y02pejqNpsHshYOghezayQ/LG6c6LEWi8U8Krp+GEApeqB8btXrB4CBqX3xtBEd6ndrNMeB01Z1yjNB1zf0SqN5NTR0jFerunbqNS+CoaGVY0SvX3ntVFXbDBWde/5dn6n7H8xZNgctR3JWfBh/+fmL55mPcF2t/ybS2c5MR9elkN6A+9w7Ow8e7D+I/BD8geI122Io1YNMEKWBdXspcicMZEoiKGKwcdGxRkxYHldXrGWFRwI9KhjYdYSB+8stxjtm3hmle0Em+g6VOBrMp+gYdi56SR5FeDdeRKuWIPrFItfKTiTO1Xn0NQCrER4LceGKEkJCIMtBkKW2saLzHoKYzzois1RdhMSdI8iu6FHRVW0GDETCMAwMWxp7pvFXbqXosdjvJvBijYWxotfiix1DybQSHU5pND3c7Y81EveYsuc1Mq+YyffmapC59+pBAs8Uomcv2s3bzUjRuecfgC9+In2f84pVK9auXVGUs+rRm95LmWf2npm/JTMp6WZn4YUbXHQM6Q8OJ93fkJS04X4S0gv+aJTcio2gEQFe0dOY5+hmMJ+sk9k1Knrjl1QWvY5X9cy2Be+kSKqkrw0UoNLlwDhKaQl/MlZjNC9Wi17MCwkoiUsgHJ0ASJaRyDiGPaIXE0Yt2sSwC1z0EcJvuJWi52s9PYQqpVUVIYN6wtCO+BQ9jWkt/RUJiMDKpG7ssaOim8Px5YugYKzoNi2pBiWifRql7oiIyXsbM57JjOzuGyf6Y6wik5GtEl24okGkth/XzzzRJ/dc2LNhA9vgjtk7Hg7fbm25fTlv/41nt+8+TGK5O2bu81lEby9aNW9HOn4tRXr6atN98AeaOgIQQqnVK3pz81LL8u4IHuWzULfwYWfxUdrsFT0iNXzxcKQ8bN/7MrYrJo8voGnxOqbLbUXfu0HBUkodIOGkNDVOjudSv5HugRDsrg7A7dRRWut0BjDRU5uPFocOYxEbUiilClnYFVesl5XZjAo1umItQWiTR1/tpkFnILql1y4Ojt6EFV7KBUZHyMK64MVY0q0QPdRIjDFOWyj2EC4AxMZZCbHGxZnVRSCgbrsW1oUGah1K0ZVtBgmeuUQX5vIOqckAthiOFaPP4W2v6LZSQmpF8C16NCEjoCAAX4EOpo/oTOkhPPShrYuOZffdQ2MFgPq2kzhj19ZWL9f4+Fpb/bUeVFsl+nHMCF7XZw9lYPWZJvrkniNbpW9wX4YrbHNwNX3H1tbW1h/evvj1wz/4/raHSU+uJ2+Z/9GNG/sT5+On0dsXLFhwFllTtrG9ox/8MIjRU2Q2H/WKTiO54BECgHiHz5HZUGIuumw1MozNRCZMBP3SBhCbsPfLLp6g64Hj8TuAJxAOb2gPAiYQTweUk3GUCIDoxy4HWNDzOEAWEiI1OcdnwYSlRA6ChOfEgXjSxEe3JXIBbzmI+jpHRUfpwkAC3cxXTqypixaitW7+KnxMxg3r9OxE5Nri0wcAcdt1iz2iizocT9jAj+hWQtzAEYOCErTouW1aiX5VozmlvPeKXSsm4+qvftzTxrP8KyrRr/IxftvH55fMPNEn9xy+vUxmzryoecsOfbatpQVd//5vb7v7yfakzuuZDcmZDQ0NJxIT35tftho/z5KeXpHb3vHg8kHwg07evWLDaO30iK4FxhF2KxIH4KI3BC9U1mD5tgsY5yi1gAQKinRhK1BCKE3jCUSgp7cjNrku5g5x40WPBIkmNH5sQOcBvqS62gyDaK8oBz2UIUD22QmIEz0WAAlDSbjo5cCoJiTNK/pmuRiJxTOltOqiUtl3ROdLdA6fPePP4nDRBSlBMIM/0cOJHTyIRCJQhGklOup7FaCPS4xe8zMuOkMA5jIGb5Xo9xTVZoTov/zTP/1gyp4jW9euyMGfa8CB+qpVRS8u3Xq45yHujWvBn17DzL3wYH9nZeL69esxdW8oWlVUlFIUFR9/+HBS0mHww5fcKQOl/+IRvZaHXFaURmkpyOz0iq7ztPbqHMMFZthcOozgoAS7kcwK9qyoK/t14IPGi272JAI7xy5EKR0Z4eFads8lZ+jMCTdGfI+upVz0Om9iHOQVfYQJyTCwFlxadZHy4S8nEd0dZpDfV7LwKSXBY0Tv5uN136IH8H8qPjy3S9N5+shpJfoiZuo1jeYayPRoPlaK7iH72Ek0XCX6Kby6emwGif6nXO0peg4P9+zZg9vcD+Fm9z17kipPZNZ8/gnTvLOmo6Ow//CTE4mVyesS31uXG5WOLDi7cWNZRdlGE/iExWsBkGJK73hEXwoMLfMPlW0EGeIVndcwo5ERMqncfjE/4WgeRcaJjtN9qW42Vrd7V9xKQKaUUus40SOA0TVGdBshelBg5TGWz0t79VWLzt8BeLAP99a04n2tDK/BpVUX4cMdIOPyLXpceZAB6yPlTFOChAQVx3pEl6zNB7+iD/Ahgxd3iRFvTSfRX7HcW5KYg/Nq2WNFF6quZshT62rRs9lcfc+Va/UzR3SUe8qew9ZlcxD8mKqUvt+//OjR5c+3S9E890BmZfL1J086TjR0VM5/770LODrfiJKvaT9Qg8d+8E24R1UUlVomEt1OaQzIhIwXPZQqYAZHH5ElN44XnU/3Yeb+0rvxdjHI/AulQVMRvY7r6wEz4+FR19L8i+6xNADN89asJkq6FNKqirqwy8k2zAiNqCQSEi6LDrYSNBsxWkUmOsPh9Ct6NzHa1Lt4DNNJdLzoYxm4gsdjRO/rkSX/tVp0JPsqfw84mT0jRP/gu5LfH0zVc/jJDiQ9fQfj80u9vbd6k3ABveNCMtLRfv36wcLkgvmJDTW5pnhTZ6fJ1G+qwE+rbgef2PKoglK16MprODpedFsq/XLYyyAq0IwZQkKWywYq0fMpJbDZO+BXZgo4vk+biuiikXvMSeNDdjmij/gXnXB7QpmlvCb2kLbciyKiq4sUD4/2JXoJKl2a5XKj0kx0RAyzlkohvoSLbq0lxG7zJ/oucg7GYTMS4p4+oj/GCF7PIvqilV7GRPTHKHLP1dfHskEtOiO76uSvpTzg6gwQnZuOgk/Rc7ibjpvcKypwRh1PXly69OLF8/52ZnlmZibq/nXv18nr1z06bIrHMXy8yYSSm5BW8EkWihcus4s5qBa93JtsC3lK0fmoPVUEBSWU7hIAEVWii3k0tetXngkA1m/46KbYsKmIDgZC4mCUJkIaQQb1GZxE9FBvZlztrfmSK6qWVl1kkEM+ku9LdD3RbubvElx0hrtRfp9B0TdBACq91I/oTk9nYlhYmAAyenz500d0DOXn8XCca81Rio6j8HsCIKJadC9tV1nGPxNEF2XTp+i58L2i1VHzioqk30EvOtz/7NmjyuSO65mVlZUoenJy5fo3n/V/tX5LTRTucMePp5bV1GD2joe/9Lt7Xefp/QjTWCW6Ba1z83cFleh670Jb6KAo5+MDctBTiQ4JlJbcoXQ5yLgobY6Vm2LdWFn0IP+iB3k+py2W2u1mKYV2mD1JvdE8ieiNPH1gDvKaofIaOSK4YpVjgAmKdJ6Hg10tehp/FTwY6/gYPVj+pxX1qLFnHX05hucR36LnEzLotdsFHvm14rQR/Rpa+1heRv+Y/xtaWT9W9HvyQjvWmXCMfmylHNYx7vfNCNFBYKZzzyflL1Lm4Sp6SsoyZMMPf3jp4oOGB9czk9F01Lxg/bqGwk/3bSmQFJdG6DUHkI1lG2v+EXwREEHpIIxOiRnUorOEfZeIx7o7atGjUcQuQJx5NCKazbAxGQSjWvRISvMovaN8k7FL/ZqNPMxbKdX7Fx3lc7j4tFa47NMmqQtbLcuN/YuutXCPHAGjNXXMPcTKV9OK+VFdZPE8fDFRiK5sYyZkF/NxOWGi2xyEMNNjtTju5qKzgzbYp+g64hC9b2v2ANY8nP9TTAPRhWPnNR6dz3sC9Em+vHYNj54b11ht9Rhd9puZXj9XM3cmRHQe06fsOQgpUaj4vKh0KXnvf5BcmVlY2JGJjkus37Jl36df7Su4wBSvKcvNralpL8TpuE4BfGH17Dvn0jabVaIzQenRxuJffZm6UyU62NHe7uHIaizaKwf95k3RzuK9VC06YB1FSwiOoJRYI0uwbl4sIBaKpldH+hEdlqIj1rARnVHeD1OnRQOKXVkogt48iejGEGNJ5Eg1KpimqOk0oqTDoS834f0w3oDoYlwTFdViG+wiiBiUoivb2KUW7s0xWmxaLr/cXYGbB8uxgQ68ogvYkcHmQ3TRgVVlnBjSHd1ZWY0OPDrfvegZV65c+XiuBnnF9BSksfr5133HX+GtKjl+o+mLUOLXuCt2Sd/jKmylFh2wfs+Svr4lH2NzmBGi85jOPZ+c3qh0Nkhfc/bsgtwHjzI7CjFzx1iOoOfrP/30q08vlJVVmDpz8QvjiuLxs+ur1/j74gkM1pvGiFiuEh1ZmkoZOrta9IAQyrnjVH40xZqnFl1HEaciEOZRmZ3RnhiPhPsT3RxEOCUgEYYuMAyDMInoWouRMHQ2Zc1IPeEEKrauN05U1GUnjBCXUnRlm0H+CDufjDOHE47BPCo6G6ZX+xDdpVh+W+4gHH30NPriiZ4q4LzereHwofcVDXJVse/92u4JRK9Hw5GZtdcdTf8b/lUTkyL8QPogOmKKSt9R9OL5k4OFF5IxlDPWrSv49NNPL2RuxHn51fFF86KiolYvQM7+GHzhRK+Cx4ioVYuODOxF1Zu7QS06EnMHC2mezi2bqIuQrkpgAtE3j/+MSleIpPqR8FiPxrXYeK8f0ZFiuySTPQxk3EF6Sb1uM0wqOkQbsOquxcqavAek1qOSrUTLPVYXdUvXpc44hehj2ywPZw3c+bLoYE7TM0/LzaAQHVxG1FktOq9TBxxsHkKQEKsZponoPedPKle/2+4x1X89BAwh+yQG+Qx+glH9FKhFR+oXSc0w6PvwfPbLIdfilz3npBTNm4MZfGehFM8lz9cxpMy9MjP57B8tWJOLlmN+X4ED9BqTCP93zJEuG/jCZhl2iqNVLcUWG0wV53AXKBCDQydtaxscNIOCruVumATuteCjqtsSrOxR7KoTfRRBnSsAFKjbxFkscWMLXC43TJ1zZBcoMYduNsN0pm2ob1RXQRAeP86WTiC7r6ovG3whPF65sg18MCs6/Bnuf52Ho/R5uJD+71/t21fALJ+PSKLjCD35wG/9yR/tyMWvm6ioyWzPLSx88pcwCxf9/wFmI+mGWWZ/wCHJtBpTchOm5vMq/v2rAm45sm7L+oJ9BQWVG3/n6dM/+eNfzEmv6HxwEBfRN/wPe/cAY0cQBnA8mTjFphdXp8nFKt81KGdrxs3WdienoG6nZlCebft2s6/m4fFsBrXdb3qxG8/1+8XmfzEMJOrA0EPkYj/034eueR271i5adPXbt72rZ/348epX6k55etTfziF0mGbruPfsmYfz9sGhvY6pMDifSxSCoQeEhWkE4d1r2uG9Q4Of/P72rs5OyzJrOy7e2CFDl53DupmkeOic32vkTLD2wc7OocMaQQqFjjD0YU/8saDddHlMy6o1UycU3jhw6sCBFSD85MmtQwY3DBm6znUhYmNbiYS2bx9HkCowdNAbK0S7abpk565XO2YWFhZC5Js2XdyUdObuHG4wajzj3KCGDqX3EoTUg6GDr5S6au91WZbH40kdPTMahMNHe+rlM0VTOymQL3XGGNXFT4KQmjD0wFhee6/Rslz8XtfOCTeia2oWJJ1es/SMo7p6EOrWKTMAhE5jA4maEMLQtTeNtYZpmpzzjgX3719Zs2bN0rvXHNWHfYPtVAeMGZxB6voboiaEMHTQojeatS5q8FeZWQ/hmhaHowIyT2nzy84pMyiXoceq3DlCGLoW6Ie/dJ01viopvpkVI/lSyso+UQqdQ+g6f8aM94FEWQhh6EDT3tcagjZ2pMhbk1OqqiDzCKefDYfOZOjviNIQwtCB1hor9MausoiI4xFlVWVtbU7n2+EXOmVUcNFKFIcQhg40SL3R05aWlubNLXM6nbYtX+iyc0ZjezWiPoQwdCnwHf9k22n9x9ts2+55C50DSkVvIBkhEMLQQUCrt9l2Rtg9Pc1vdSaErouvrQEEoZEEQ5e29T3x5uY2x4rY9+96WzSCkGIw9H+gaX/ap68CC4EgAGDDAFu+1r/b03CPDomH5CVAdEB0QHRA9NsA0QHRAdGBuLuawEY17q4lsFGLu+sJbNTj7paRwCZjidtbE9hkjfsrUwIbTCUeoKwjgR+NtcQzLL3VBP6ttr7Ehf4AP3uCHzYXz3oAAAAASUVORK5CYII="},451:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/hero-image.cf7f7105.png"},452:function(e,t,n){"use strict";n.r(t),t.default="data:image/jpeg;base64,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"},453:function(e,t,n){},460:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=460},572:function(e,t){},574:function(e,t){},604:function(e,t){},605:function(e,t){},680:function(e,t){},842:function(e,t,n){"use strict";n.r(t);var o=n(2),i=n.n(o),a=n(61),c=n.n(a),r=n(396),l=n.n(r),s=n(16),d=(n(428),n(429),n(31)),u=n(8),j=n(108),b=n.n(j);n(169);var m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"any";return"any"===e?"https://invoice-api.fivipsystem.com/index.php/api/v1":"public"===e?"https://invoice-api.fivipsystem.com":void 0},x=b.a.create({baseURL:m()});x.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),x.interceptors.response.use((function(e){return e}),(function(e){var t,n;return 401===(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)&&d.b.error("Error de Credenciales!"),421===(null===e||void 0===e||null===(n=e.response)||void 0===n?void 0:n.status)&&(d.b.error("Usuario desactivado por falta de Pago"),window.localStorage.removeItem("jwt")),Promise.reject(e)}));var h=x;h.defaults.headers.common.Authorization=localStorage.getItem("jwt")?"Bearer "+localStorage.getItem("jwt"):null;var p={Login:function(e){return new Promise((function(t,n){h.post("/login",e).then((function(e){h.defaults.headers.common.Authorization="Bearer "+e.data[0].token,t(e.data[0].token)}),(function(e){n(new Error(e))}))}))},Me:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return h.defaults.headers.common.Authorization="Bearer "+e,new Promise((function(e,t){h.get("/me").then((function(t){e(t.data)}))}))},Out:function(){return new Promise((function(e,t){h.get("/logout").then((function(t){e(t.data)}))}))}},v=n(0),O=i.a.createContext({});function f(e){var t=e.children,n=Object(o.useState)({}),i=Object(u.a)(n,2),a=i[0],c=i[1],r=Object(o.useState)((function(){return window.localStorage.getItem("jwt")})),l=Object(u.a)(r,2),s=l[0],d=l[1];return Object(o.useEffect)((function(){return s?(p.Me(s).then((function(e){c(e)})),function(){return!1}):c({})}),[s]),Object(v.jsx)(O.Provider,{value:{me:a,jwt:s,setMe:c,setJwt:d},children:t})}var g=O,w=i.a.createContext({});function _(e){var t=e.children,n=Object(o.useState)(JSON.parse(localStorage.getItem("print_setting"))||{size:"A4"}),i=Object(u.a)(n,2),a=i[0],c=i[1],r=Object(o.useState)(JSON.parse(window.localStorage.getItem("logo"))),l=Object(u.a)(r,2),s=l[0],d=l[1],j=Object(o.useState)(JSON.parse(window.localStorage.getItem("empresa"))),b=Object(u.a)(j,2),m=b[0],x=b[1];return Object(v.jsx)(w.Provider,{value:{empresa:m,setEmpresa:x,logo:s,setLogo:d,impresion:a,setImpresion:c},children:t})}var C=w,y=n(24),k=n(411);var N=function(){var e=Object(o.useState)(!0),t=Object(u.a)(e,2),n=t[0],i=t[1];return Object(o.useEffect)((function(){var e=function(){window.pageYOffset>10?i(!1):i(!0)};return window.addEventListener("scroll",e),function(){return window.removeEventListener("scroll",e)}}),[n]),Object(v.jsx)("header",{className:"fixed w-full z-30 md:bg-opacity-90 transition duration-300 ease-in-out ".concat(!n&&"bg-white blur shadow-lg"),children:Object(v.jsx)("div",{className:"max-w-6xl mx-auto px-5 sm:px-6",children:Object(v.jsxs)("div",{className:"flex items-center justify-between h-16 md:h-20",children:[Object(v.jsx)("div",{className:"flex-shrink-0 mr-4",children:Object(v.jsx)(s.b,{to:"/",className:"block","aria-label":"Cruip",children:Object(v.jsxs)("svg",{className:"w-8 h-8",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:[Object(v.jsx)("defs",{children:Object(v.jsxs)("radialGradient",{cx:"21.152%",cy:"86.063%",fx:"21.152%",fy:"86.063%",r:"79.941%",id:"header-logo",children:[Object(v.jsx)("stop",{stopColor:"#4FD1C5",offset:"0%"}),Object(v.jsx)("stop",{stopColor:"#81E6D9",offset:"25.871%"}),Object(v.jsx)("stop",{stopColor:"#338CF5",offset:"100%"})]})}),Object(v.jsx)("rect",{width:"32",height:"32",rx:"16",fill:"url(#header-logo)",fillRule:"nonzero"})]})})}),Object(v.jsx)("nav",{className:"flex flex-grow",children:Object(v.jsxs)("ul",{className:"flex flex-grow justify-end flex-wrap items-center",children:[Object(v.jsx)("li",{children:Object(v.jsx)(s.b,{to:"/registro",className:"font-medium text-gray-600 hover:text-gray-900 px-5 py-3 flex items-center transition duration-150 ease-in-out",children:"Registrate"})}),Object(v.jsx)("li",{children:Object(v.jsxs)(s.b,{to:"/ingresar",className:"btn-sm text-gray-200 bg-gray-900 hover:bg-gray-800 ml-3",children:[Object(v.jsx)("span",{children:"Ingresa"}),Object(v.jsx)("svg",{className:"w-3 h-3 fill-current text-gray-400 flex-shrink-0 ml-2 -mr-1",viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg",children:Object(v.jsx)("path",{d:"M11.707 5.293L7 .586 5.586 2l3 3H0v2h8.586l-3 3L7 11.414l4.707-4.707a1 1 0 000-1.414z",fillRule:"nonzero"})})]})})]})})]})})})};var S=function(){return Object(v.jsxs)("section",{className:"relative",children:[Object(v.jsx)("div",{className:"absolute left-1/2 transform -translate-x-1/2 bottom-0 pointer-events-none","aria-hidden":"true",children:Object(v.jsxs)("svg",{width:"1360",height:"578",viewBox:"0 0 1360 578",xmlns:"http://www.w3.org/2000/svg",children:[Object(v.jsx)("defs",{children:Object(v.jsxs)("linearGradient",{x1:"50%",y1:"0%",x2:"50%",y2:"100%",id:"illustration-01",children:[Object(v.jsx)("stop",{stopColor:"#FFF",offset:"0%"}),Object(v.jsx)("stop",{stopColor:"#EAEAEA",offset:"77.402%"}),Object(v.jsx)("stop",{stopColor:"#DFDFDF",offset:"100%"})]})}),Object(v.jsxs)("g",{fill:"url(#illustration-01)",fillRule:"evenodd",children:[Object(v.jsx)("circle",{cx:"1232",cy:"128",r:"128"}),Object(v.jsx)("circle",{cx:"155",cy:"443",r:"64"})]})]})}),Object(v.jsx)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6",children:Object(v.jsxs)("div",{className:"pt-32 pb-12 md:pt-40 md:pb-20",children:[Object(v.jsxs)("div",{className:"text-center pb-12 md:pb-16",children:[Object(v.jsxs)("h1",{className:"text-5xl md:text-6xl font-extrabold leading-tighter tracking-tighter mb-4","data-aos":"zoom-y-out",children:["Make your website ",Object(v.jsx)("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-teal-400",children:"wonderful"})]}),Object(v.jsxs)("div",{className:"max-w-3xl mx-auto",children:[Object(v.jsx)("p",{className:"text-xl text-gray-600 mb-8","data-aos":"zoom-y-out","data-aos-delay":"150",children:"Our landing page template works on all devices, so you only have to set it up once, and get beautiful results forever."}),Object(v.jsxs)("div",{className:"max-w-xs mx-auto sm:max-w-none sm:flex sm:justify-center","data-aos":"zoom-y-out","data-aos-delay":"300",children:[Object(v.jsx)("div",{children:Object(v.jsx)("a",{className:"btn text-white bg-blue-600 hover:bg-blue-700 w-full mb-4 sm:w-auto sm:mb-0",href:"#0",children:"Start free trial"})}),Object(v.jsx)("div",{children:Object(v.jsx)("a",{className:"btn text-white bg-gray-900 hover:bg-gray-800 w-full sm:w-auto sm:ml-4",href:"#0",children:"Learn more"})})]})]})]}),Object(v.jsx)("div",{children:Object(v.jsx)("div",{className:"relative flex justify-center mb-8","data-aos":"zoom-y-out","data-aos-delay":"450",children:Object(v.jsxs)("div",{className:"flex flex-col justify-center",children:[Object(v.jsx)("img",{className:"mx-auto",src:n(451).default,width:"768",height:"432",alt:"Hero"}),Object(v.jsxs)("svg",{className:"absolute inset-0 max-w-full mx-auto md:max-w-none h-auto",width:"768",height:"432",viewBox:"0 0 768 432",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[Object(v.jsxs)("defs",{children:[Object(v.jsxs)("linearGradient",{x1:"50%",y1:"0%",x2:"50%",y2:"100%",id:"hero-ill-a",children:[Object(v.jsx)("stop",{stopColor:"#FFF",offset:"0%"}),Object(v.jsx)("stop",{stopColor:"#EAEAEA",offset:"77.402%"}),Object(v.jsx)("stop",{stopColor:"#DFDFDF",offset:"100%"})]}),Object(v.jsxs)("linearGradient",{x1:"50%",y1:"0%",x2:"50%",y2:"99.24%",id:"hero-ill-b",children:[Object(v.jsx)("stop",{stopColor:"#FFF",offset:"0%"}),Object(v.jsx)("stop",{stopColor:"#EAEAEA",offset:"48.57%"}),Object(v.jsx)("stop",{stopColor:"#DFDFDF",stopOpacity:"0",offset:"100%"})]}),Object(v.jsxs)("radialGradient",{cx:"21.152%",cy:"86.063%",fx:"21.152%",fy:"86.063%",r:"79.941%",id:"hero-ill-e",children:[Object(v.jsx)("stop",{stopColor:"#4FD1C5",offset:"0%"}),Object(v.jsx)("stop",{stopColor:"#81E6D9",offset:"25.871%"}),Object(v.jsx)("stop",{stopColor:"#338CF5",offset:"100%"})]}),Object(v.jsx)("circle",{id:"hero-ill-d",cx:"384",cy:"216",r:"64"})]}),Object(v.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[Object(v.jsx)("circle",{fillOpacity:".04",fill:"url(#hero-ill-a)",cx:"384",cy:"216",r:"128"}),Object(v.jsx)("circle",{fillOpacity:".16",fill:"url(#hero-ill-b)",cx:"384",cy:"216",r:"96"}),Object(v.jsxs)("g",{fillRule:"nonzero",children:[Object(v.jsx)("use",{fill:"#000",xlinkHref:"#hero-ill-d"}),Object(v.jsx)("use",{fill:"url(#hero-ill-e)",xlinkHref:"#hero-ill-d"})]})]})]})]})})})]})})]})},A=n(6),V=n(21),D=n(261),P=n(874),T=["show","enter","enterStart","enterEnd","leave","leaveStart","leaveEnd","appear","unmountOnExit","tag","children"],F=["show","appear"],E=i.a.createContext({parent:{}});function I(e){var t=e.show,n=e.enter,o=void 0===n?"":n,a=e.enterStart,c=void 0===a?"":a,r=e.enterEnd,l=void 0===r?"":r,s=e.leave,d=void 0===s?"":s,u=e.leaveStart,j=void 0===u?"":u,b=e.leaveEnd,m=void 0===b?"":b,x=e.appear,h=e.unmountOnExit,p=e.tag,O=void 0===p?"div":p,f=e.children,g=Object(D.a)(e,T),w=o.split(" ").filter((function(e){return e.length})),_=c.split(" ").filter((function(e){return e.length})),C=l.split(" ").filter((function(e){return e.length})),y=d.split(" ").filter((function(e){return e.length})),k=j.split(" ").filter((function(e){return e.length})),N=m.split(" ").filter((function(e){return e.length})),S=h;function F(e,t){var n;t.length&&(n=e.classList).add.apply(n,Object(V.a)(t))}function E(e,t){var n;t.length&&(n=e.classList).remove.apply(n,Object(V.a)(t))}var I=i.a.useRef(null),z=O;return Object(v.jsx)(P.a,{appear:x,nodeRef:I,unmountOnExit:S,in:t,addEndListener:function(e){I.current.addEventListener("transitionend",e,!1)},onEnter:function(){S||(I.current.style.display=null),F(I.current,[].concat(Object(V.a)(w),Object(V.a)(_)))},onEntering:function(){E(I.current,_),F(I.current,C)},onEntered:function(){E(I.current,[].concat(Object(V.a)(C),Object(V.a)(w)))},onExit:function(){F(I.current,[].concat(Object(V.a)(y),Object(V.a)(k)))},onExiting:function(){E(I.current,k),F(I.current,N)},onExited:function(){E(I.current,[].concat(Object(V.a)(N),Object(V.a)(y))),S||(I.current.style.display="none")},children:Object(v.jsx)(z,Object(A.a)(Object(A.a)({ref:I},g),{},{style:{display:S?null:"none"},children:f}))})}var z=function(e){var t=e.show,n=e.appear,i=Object(D.a)(e,F),a=Object(o.useContext)(E).parent,c=function(){var e=Object(o.useRef)(!0);return Object(o.useEffect)((function(){e.current=!1}),[]),e.current}();return void 0===t?Object(v.jsx)(I,Object(A.a)({appear:a.appear||!a.isInitialRender,show:a.show},i)):Object(v.jsx)(E.Provider,{value:{parent:{show:t,isInitialRender:c,appear:n}},children:Object(v.jsx)(I,Object(A.a)({appear:n,show:t},i))})};var R=function(){var e=Object(o.useState)(1),t=Object(u.a)(e,2),i=t[0],a=t[1],c=Object(o.useRef)(null);return Object(o.useEffect)((function(){c.current.children[i]&&(c.current.style.height=c.current.children[i-1].offsetHeight+"px")}),[i]),Object(v.jsxs)("section",{className:"relative",children:[Object(v.jsx)("div",{className:"absolute inset-0 bg-gray-100 pointer-events-none mb-16","aria-hidden":"true"}),Object(v.jsx)("div",{className:"absolute left-0 right-0 m-auto w-px p-px h-20 bg-gray-200 transform -translate-y-1/2"}),Object(v.jsx)("div",{className:"relative max-w-6xl mx-auto px-4 sm:px-6",children:Object(v.jsxs)("div",{className:"pt-12 md:pt-20",children:[Object(v.jsxs)("div",{className:"max-w-3xl mx-auto text-center pb-12 md:pb-16",children:[Object(v.jsx)("h1",{className:"h2 mb-4",children:"Realiza Ventas"}),Object(v.jsx)("p",{className:"text-xl text-gray-600",children:"Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur excepteur sint occaecat cupidatat."})]}),Object(v.jsxs)("div",{className:"md:grid md:grid-cols-12 md:gap-6",children:[Object(v.jsxs)("div",{className:"max-w-xl md:max-w-none md:w-full mx-auto md:col-span-7 lg:col-span-6 md:mt-6","data-aos":"fade-right",children:[Object(v.jsxs)("div",{className:"md:pr-4 lg:pr-12 xl:pr-16 mb-8",children:[Object(v.jsx)("h3",{className:"h3 mb-3",children:"Controla tus ventas "}),Object(v.jsx)("p",{className:"text-xl text-gray-600",children:"Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa."})]}),Object(v.jsxs)("div",{className:"mb-8 md:mb-0",children:[Object(v.jsxs)("a",{className:"flex items-center text-lg p-5 rounded border transition duration-300 ease-in-out mb-3 ".concat(1!==i?"bg-white shadow-md border-gray-200 hover:shadow-lg":"bg-gray-200 border-transparent"),href:"#0",onClick:function(e){e.preventDefault(),a(1)},children:[Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{className:"font-bold leading-snug tracking-tight mb-1",children:"Building the Simple ecosystem"}),Object(v.jsx)("div",{className:"text-gray-600",children:"Take collaboration to the next level with security and administrative features built for teams."})]}),Object(v.jsx)("div",{className:"flex justify-center items-center w-8 h-8 bg-white rounded-full shadow flex-shrink-0 ml-3",children:Object(v.jsx)("svg",{className:"w-3 h-3 fill-current",viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg",children:Object(v.jsx)("path",{d:"M11.953 4.29a.5.5 0 00-.454-.292H6.14L6.984.62A.5.5 0 006.12.173l-6 7a.5.5 0 00.379.825h5.359l-.844 3.38a.5.5 0 00.864.445l6-7a.5.5 0 00.075-.534z"})})})]}),Object(v.jsxs)("a",{className:"flex items-center text-lg p-5 rounded border transition duration-300 ease-in-out mb-3 ".concat(2!==i?"bg-white shadow-md border-gray-200 hover:shadow-lg":"bg-gray-200 border-transparent"),href:"#0",onClick:function(e){e.preventDefault(),a(2)},children:[Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{className:"font-bold leading-snug tracking-tight mb-1",children:"Building the Simple ecosystem"}),Object(v.jsx)("div",{className:"text-gray-600",children:"Take collaboration to the next level with security and administrative features built for teams."})]}),Object(v.jsx)("div",{className:"flex justify-center items-center w-8 h-8 bg-white rounded-full shadow flex-shrink-0 ml-3",children:Object(v.jsx)("svg",{className:"w-3 h-3 fill-current",viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg",children:Object(v.jsx)("path",{d:"M11.854.146a.5.5 0 00-.525-.116l-11 4a.5.5 0 00-.015.934l4.8 1.921 1.921 4.8A.5.5 0 007.5 12h.008a.5.5 0 00.462-.329l4-11a.5.5 0 00-.116-.525z",fillRule:"nonzero"})})})]}),Object(v.jsxs)("a",{className:"flex items-center text-lg p-5 rounded border transition duration-300 ease-in-out mb-3 ".concat(3!==i?"bg-white shadow-md border-gray-200 hover:shadow-lg":"bg-gray-200 border-transparent"),href:"#0",onClick:function(e){e.preventDefault(),a(3)},children:[Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{className:"font-bold leading-snug tracking-tight mb-1",children:"Building the Simple ecosystem"}),Object(v.jsx)("div",{className:"text-gray-600",children:"Take collaboration to the next level with security and administrative features built for teams."})]}),Object(v.jsx)("div",{className:"flex justify-center items-center w-8 h-8 bg-white rounded-full shadow flex-shrink-0 ml-3",children:Object(v.jsx)("svg",{className:"w-3 h-3 fill-current",viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg",children:Object(v.jsx)("path",{d:"M11.334 8.06a.5.5 0 00-.421-.237 6.023 6.023 0 01-5.905-6c0-.41.042-.82.125-1.221a.5.5 0 00-.614-.586 6 6 0 106.832 8.529.5.5 0 00-.017-.485z",fill:"#191919",fillRule:"nonzero"})})})]})]})]}),Object(v.jsx)("div",{className:"max-w-xl md:max-w-none md:w-full mx-auto md:col-span-5 lg:col-span-6 mb-8 md:mb-0 md:order-1","data-aos":"zoom-y-out",ref:c,children:Object(v.jsxs)("div",{className:"relative flex flex-col text-center lg:text-right",children:[Object(v.jsx)(z,{show:1===i,appear:!0,className:"w-full",enter:"transition ease-in-out duration-700 transform order-first",enterStart:"opacity-0 translate-y-16",enterEnd:"opacity-100 translate-y-0",leave:"transition ease-in-out duration-300 transform absolute",leaveStart:"opacity-100 translate-y-0",leaveEnd:"opacity-0 -translate-y-16",children:Object(v.jsxs)("div",{className:"relative inline-flex flex-col",children:[Object(v.jsx)("img",{className:"md:max-w-none mx-auto rounded",src:n(220).default,width:"500",height:"462",alt:"Features bg"}),Object(v.jsx)("img",{className:"md:max-w-none absolute w-full left-0 transform animate-float",src:n(221).default,width:"500",height:"44",alt:"Element",style:{top:"30%"}})]})}),Object(v.jsx)(z,{show:2===i,appear:!0,className:"w-full",enter:"transition ease-in-out duration-700 transform order-first",enterStart:"opacity-0 translate-y-16",enterEnd:"opacity-100 translate-y-0",leave:"transition ease-in-out duration-300 transform absolute",leaveStart:"opacity-100 translate-y-0",leaveEnd:"opacity-0 -translate-y-16",children:Object(v.jsxs)("div",{className:"relative inline-flex flex-col",children:[Object(v.jsx)("img",{className:"md:max-w-none mx-auto rounded",src:n(220).default,width:"500",height:"462",alt:"Features bg"}),Object(v.jsx)("img",{className:"md:max-w-none absolute w-full left-0 transform animate-float",src:n(221).default,width:"500",height:"44",alt:"Element",style:{top:"30%"}})]})}),Object(v.jsx)(z,{show:3===i,appear:!0,className:"w-full",enter:"transition ease-in-out duration-700 transform order-first",enterStart:"opacity-0 translate-y-16",enterEnd:"opacity-100 translate-y-0",leave:"transition ease-in-out duration-300 transform absolute",leaveStart:"opacity-100 translate-y-0",leaveEnd:"opacity-0 -translate-y-16",children:Object(v.jsxs)("div",{className:"relative inline-flex flex-col",children:[Object(v.jsx)("img",{className:"md:max-w-none mx-auto rounded",src:n(220).default,width:"500",height:"462",alt:"Features bg"}),Object(v.jsx)("img",{className:"md:max-w-none absolute w-full left-0 transform animate-float",src:n(221).default,width:"500",height:"44",alt:"Element",style:{top:"30%"}})]})})]})})]})]})})]})},L=n.p+"static/media/24_hours.20646d38.png",B=n.p+"static/media/box_1.a79147b3.png",M=n.p+"static/media/calculator.71c56ee9.png",G=n.p+"static/media/dollar.ba0acd4a.png",q=n.p+"static/media/email.be4fd4d8.png",H=n.p+"static/media/invoice_0.a4c75711.png",U=(n.p,n.p,n.p,n.p,{width:"40px"});var Y=function(){return Object(v.jsxs)("section",{className:"relative",children:[Object(v.jsx)("div",{className:"absolute inset-0 top-1/2 md:mt-24 lg:mt-0 bg-gray-900 pointer-events-none","aria-hidden":"true"}),Object(v.jsx)("div",{className:"absolute left-0 right-0 bottom-0 m-auto w-px p-px h-20 bg-gray-200 transform translate-y-1/2"}),Object(v.jsx)("div",{className:"relative max-w-6xl mx-auto px-4 sm:px-6",children:Object(v.jsxs)("div",{className:"py-12 md:py-20",children:[Object(v.jsxs)("div",{className:"max-w-3xl mx-auto text-center pb-12 md:pb-20",children:[Object(v.jsx)("h2",{className:"h2 mb-4",children:"Asi de simple Funciona"}),Object(v.jsx)("p",{className:"text-xl text-gray-500",children:"Conoce algunas de las caracteristicas principales con las que cuenta nuestro sistema"})]}),Object(v.jsxs)("div",{className:"max-w-sm mx-auto grid gap-6 md:grid-cols-2 lg:grid-cols-3 items-start md:max-w-2xl lg:max-w-none",children:[Object(v.jsxs)("div",{className:"relative flex flex-col items-center p-6 bg-white rounded shadow-xl",children:[Object(v.jsx)("img",{style:U,src:L,alt:"soporte"}),Object(v.jsx)("h4",{className:"text-xl font-bold leading-snug tracking-tight mb-1",children:"Soporte las 24 horas"}),Object(v.jsx)("p",{className:"text-gray-600 text-center",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit."})]}),Object(v.jsxs)("div",{className:"relative flex flex-col items-center p-6 bg-white rounded shadow-xl",children:[Object(v.jsx)("img",{style:U,src:B,alt:"producto"}),Object(v.jsx)("h4",{className:"text-xl font-bold leading-snug tracking-tight mb-1",children:"Productos"}),Object(v.jsx)("p",{className:"text-gray-600 text-center",children:"Gestiona tus productos \xf3 servicios sus precios, categorias, subcategorias"})]}),Object(v.jsxs)("div",{className:"relative flex flex-col items-center p-6 bg-white rounded shadow-xl",children:[Object(v.jsx)("img",{style:U,src:M,alt:"Calculadora"}),Object(v.jsx)("h4",{className:"text-xl font-bold leading-snug tracking-tight mb-1",children:"Reportes"}),Object(v.jsx)("p",{className:"text-gray-600 text-center",children:"Genera Reportes de tus documentos de venta, en formato excel"})]}),Object(v.jsxs)("div",{className:"relative flex flex-col items-center p-6 bg-white rounded shadow-xl",children:[Object(v.jsx)("img",{style:U,src:G,alt:"Dollar"}),Object(v.jsx)("h4",{className:"text-xl font-bold leading-snug tracking-tight mb-1",children:"Multiples Monedas"}),Object(v.jsx)("p",{className:"text-gray-600 text-center",children:"Realiza Documentos con tu moneda local y monedas de diferentes Paises"})]}),Object(v.jsxs)("div",{className:"relative flex flex-col items-center p-6 bg-white rounded shadow-xl",children:[Object(v.jsx)("img",{style:U,src:q,alt:"Email"}),Object(v.jsx)("h4",{className:"text-xl font-bold leading-snug tracking-tight mb-1",children:"Enviar Comprobantes"}),Object(v.jsx)("p",{className:"text-gray-600 text-center",children:"Cliente de correos SMTP envia directamente los comprobantes a tus clientes."})]}),Object(v.jsxs)("div",{className:"relative flex flex-col items-center p-6 bg-white rounded shadow-xl",children:[Object(v.jsx)("img",{style:U,src:H,alt:"INVOICERS"}),Object(v.jsx)("h4",{className:"text-xl font-bold leading-snug tracking-tight mb-1",children:"Facturaci\xf3n Electr\xf3nica"}),Object(v.jsx)("p",{className:"text-gray-600 text-center",children:"Envia los comprobantes Electr\xf3nico a la Administraci\xf3n tributaria de tu pais (\ud83c\uddf5\ud83c\uddea)"})]})]})]})})]})};var K=function(){return Object(v.jsx)("section",{children:Object(v.jsx)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6  mt-16",children:Object(v.jsx)("div",{className:"pb-12 md:pb-20",children:Object(v.jsxs)("div",{className:"relative bg-gray-900 rounded py-10 px-8 md:py-16 md:px-12 shadow-2xl overflow-hidden","data-aos":"zoom-y-out",children:[Object(v.jsx)("div",{className:"absolute right-0 bottom-0 pointer-events-none hidden lg:block","aria-hidden":"true",children:Object(v.jsxs)("svg",{width:"428",height:"328",xmlns:"http://www.w3.org/2000/svg",children:[Object(v.jsx)("defs",{children:Object(v.jsxs)("radialGradient",{cx:"35.542%",cy:"34.553%",fx:"35.542%",fy:"34.553%",r:"96.031%",id:"ni-a",children:[Object(v.jsx)("stop",{stopColor:"#DFDFDF",offset:"0%"}),Object(v.jsx)("stop",{stopColor:"#4C4C4C",offset:"44.317%"}),Object(v.jsx)("stop",{stopColor:"#333",offset:"100%"})]})}),Object(v.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[Object(v.jsxs)("g",{fill:"#FFF",children:[Object(v.jsx)("ellipse",{fillOpacity:".04",cx:"185",cy:"15.576",rx:"16",ry:"15.576"}),Object(v.jsx)("ellipse",{fillOpacity:".24",cx:"100",cy:"68.402",rx:"24",ry:"23.364"}),Object(v.jsx)("ellipse",{fillOpacity:".12",cx:"29",cy:"251.231",rx:"29",ry:"28.231"}),Object(v.jsx)("ellipse",{fillOpacity:".64",cx:"29",cy:"251.231",rx:"8",ry:"7.788"}),Object(v.jsx)("ellipse",{fillOpacity:".12",cx:"342",cy:"31.303",rx:"8",ry:"7.788"}),Object(v.jsx)("ellipse",{fillOpacity:".48",cx:"62",cy:"126.811",rx:"2",ry:"1.947"}),Object(v.jsx)("ellipse",{fillOpacity:".12",cx:"78",cy:"7.072",rx:"2",ry:"1.947"}),Object(v.jsx)("ellipse",{fillOpacity:".64",cx:"185",cy:"15.576",rx:"6",ry:"5.841"})]}),Object(v.jsx)("circle",{fill:"url(#ni-a)",cx:"276",cy:"237",r:"200"})]})]})}),Object(v.jsx)("div",{className:"relative flex flex-col lg:flex-row justify-between items-center",children:Object(v.jsxs)("div",{className:"text-center lg:text-left lg:max-w-xl",children:[Object(v.jsx)("h3",{className:"h3 text-white mb-2",children:"Impulsa tu negocio"}),Object(v.jsx)("p",{className:"text-gray-300 text-lg mb-6",children:"Recibe mas Informacion."}),Object(v.jsxs)("form",{className:"w-full lg:w-auto",children:[Object(v.jsxs)("div",{className:"flex flex-col sm:flex-row justify-center max-w-xs mx-auto sm:max-w-md lg:mx-0 ",children:[Object(v.jsx)("input",{type:"email",className:"w-full appearance-none bg-gray-800 border border-gray-700 focus:border-gray-600 rounded-sm px-4 py-3 mb-2 sm:mb-0 sm:mr-2 text-white placeholder-gray-500",placeholder:"Tu Email \xf3 Numero de Tel\xe9fono","aria-label":"Tu Email \xf3 Numero de Tel\xe9fono"}),Object(v.jsx)("a",{className:"btn text-white bg-blue-600 hover:bg-blue-700 shadow",href:"#0",children:"Suscribete"})]}),Object(v.jsx)("p",{className:"text-sm text-gray-400 mt-3",children:"Adquiere 30 dias gratis, sin contratos ni registro de tarjeta de cr\xe9dito."})]})]})})]})})})})};var W=function(){return Object(v.jsx)("footer",{children:Object(v.jsxs)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6",children:[Object(v.jsxs)("div",{className:"grid sm:grid-cols-12 gap-8 py-8 md:py-12 border-t border-gray-200",children:[Object(v.jsxs)("div",{className:"sm:col-span-12 lg:col-span-3",children:[Object(v.jsx)("div",{className:"mb-2",children:Object(v.jsx)(s.b,{to:"/",className:"inline-block","aria-label":"Cruip",children:Object(v.jsxs)("svg",{className:"w-8 h-8",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:[Object(v.jsx)("defs",{children:Object(v.jsxs)("radialGradient",{cx:"21.152%",cy:"86.063%",fx:"21.152%",fy:"86.063%",r:"79.941%",id:"footer-logo",children:[Object(v.jsx)("stop",{stopColor:"#4FD1C5",offset:"0%"}),Object(v.jsx)("stop",{stopColor:"#81E6D9",offset:"25.871%"}),Object(v.jsx)("stop",{stopColor:"#338CF5",offset:"100%"})]})}),Object(v.jsx)("rect",{width:"32",height:"32",rx:"16",fill:"url(#footer-logo)",fillRule:"nonzero"})]})})}),Object(v.jsxs)("div",{className:"text-sm text-gray-600",children:[Object(v.jsx)(s.b,{to:"#",className:"text-gray-600 hover:text-gray-900 hover:underline transition duration-150 ease-in-out",children:"Terms"})," \xb7 ",Object(v.jsx)(s.b,{to:"#",className:"text-gray-600 hover:text-gray-900 hover:underline transition duration-150 ease-in-out",children:"Privacy Policy"})]})]}),Object(v.jsxs)("div",{className:"sm:col-span-6 md:col-span-3 lg:col-span-2",children:[Object(v.jsx)("h6",{className:"text-gray-800 font-medium mb-2",children:"Productos"}),Object(v.jsxs)("ul",{className:"text-sm",children:[Object(v.jsx)("li",{className:"mb-2",children:Object(v.jsx)(s.b,{to:"#",className:"text-gray-600 hover:text-gray-900 transition duration-150 ease-in-out",children:"Remesas"})}),Object(v.jsx)("li",{className:"mb-2",children:Object(v.jsx)(s.b,{to:"#",className:"text-gray-600 hover:text-gray-900 transition duration-150 ease-in-out",children:"Encomiendas"})}),Object(v.jsx)("li",{className:"mb-2",children:Object(v.jsx)(s.b,{to:"#",className:"text-gray-600 hover:text-gray-900 transition duration-150 ease-in-out",children:"Pasajes"})}),Object(v.jsx)("li",{className:"mb-2",children:Object(v.jsx)(s.b,{to:"#",className:"text-gray-600 hover:text-gray-900 transition duration-150 ease-in-out",children:"Facturaci\xf3n"})})]})]}),Object(v.jsx)("div",{className:"sm:col-span-6 md:col-span-3 lg:col-span-2"}),Object(v.jsx)("div",{className:"sm:col-span-6 md:col-span-3 lg:col-span-2"}),Object(v.jsxs)("div",{className:"sm:col-span-6 md:col-span-3 lg:col-span-3",children:[Object(v.jsx)("h6",{className:"text-gray-800 font-medium mb-2",children:"Subscribe"}),Object(v.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Obten las ultimas noticias \xf3 novedades."}),Object(v.jsx)("form",{children:Object(v.jsx)("div",{className:"flex flex-wrap mb-4",children:Object(v.jsxs)("div",{className:"w-full",children:[Object(v.jsx)("label",{className:"block text-sm sr-only",htmlFor:"newsletter",children:"Email"}),Object(v.jsxs)("div",{className:"relative flex items-center max-w-xs",children:[Object(v.jsx)("input",{id:"newsletter",type:"email",className:"form-input w-full text-gray-800 px-3 py-2 pr-12 text-sm",placeholder:"Tu email",required:!0}),Object(v.jsxs)("button",{type:"submit",className:"absolute inset-0 left-auto","aria-label":"Subscribe",children:[Object(v.jsx)("span",{className:"absolute inset-0 right-auto w-px -ml-px my-2 bg-gray-300","aria-hidden":"true"}),Object(v.jsx)("svg",{className:"w-3 h-3 fill-current text-blue-600 mx-3 flex-shrink-0",viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg",children:Object(v.jsx)("path",{d:"M11.707 5.293L7 .586 5.586 2l3 3H0v2h8.586l-3 3L7 11.414l4.707-4.707a1 1 0 000-1.414z",fillRule:"nonzero"})})]})]})]})})})]})]}),Object(v.jsxs)("div",{className:"md:flex md:items-center md:justify-between py-4 md:py-8 border-t border-gray-200",children:[Object(v.jsxs)("ul",{className:"flex mb-4 md:order-1 md:ml-4 md:mb-0",children:[Object(v.jsx)("li",{children:Object(v.jsx)(s.b,{to:"#",className:"flex justify-center items-center text-gray-600 hover:text-gray-900 bg-white hover:bg-white-100 rounded-full shadow transition duration-150 ease-in-out","aria-label":"Twitter",children:Object(v.jsx)("svg",{className:"w-8 h-8 fill-current",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:Object(v.jsx)("path",{d:"M24 11.5c-.6.3-1.2.4-1.9.5.7-.4 1.2-1 1.4-1.8-.6.4-1.3.6-2.1.8-.6-.6-1.5-1-2.4-1-1.7 0-3.2 1.5-3.2 3.3 0 .3 0 .5.1.7-2.7-.1-5.2-1.4-6.8-3.4-.3.5-.4 1-.4 1.7 0 1.1.6 2.1 1.5 2.7-.5 0-1-.2-1.5-.4 0 1.6 1.1 2.9 2.6 3.2-.3.1-.6.1-.9.1-.2 0-.4 0-.6-.1.4 1.3 1.6 2.3 3.1 2.3-1.1.9-2.5 1.4-4.1 1.4H8c1.5.9 3.2 1.5 5 1.5 6 0 9.3-5 9.3-9.3v-.4c.7-.5 1.3-1.1 1.7-1.8z"})})})}),Object(v.jsx)("li",{className:"ml-4",children:Object(v.jsx)(s.b,{to:"#",className:"flex justify-center items-center text-gray-600 hover:text-gray-900 bg-white hover:bg-white-100 rounded-full shadow transition duration-150 ease-in-out","aria-label":"Github",children:Object(v.jsx)("svg",{className:"w-8 h-8 fill-current",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:Object(v.jsx)("path",{d:"M16 8.2c-4.4 0-8 3.6-8 8 0 3.5 2.3 6.5 5.5 7.6.4.1.5-.2.5-.4V22c-2.2.5-2.7-1-2.7-1-.4-.9-.9-1.2-.9-1.2-.7-.5.1-.5.1-.5.8.1 1.2.8 1.2.8.7 1.3 1.9.9 2.3.7.1-.5.3-.9.5-1.1-1.8-.2-3.6-.9-3.6-4 0-.9.3-1.6.8-2.1-.1-.2-.4-1 .1-2.1 0 0 .7-.2 2.2.8.6-.2 1.3-.3 2-.3s1.4.1 2 .3c1.5-1 2.2-.8 2.2-.8.4 1.1.2 1.9.1 2.1.5.6.8 1.3.8 2.1 0 3.1-1.9 3.7-3.7 3.9.3.4.6.9.6 1.6v2.2c0 .2.1.5.6.4 3.2-1.1 5.5-4.1 5.5-7.6-.1-4.4-3.7-8-8.1-8z"})})})}),Object(v.jsx)("li",{className:"ml-4",children:Object(v.jsx)(s.b,{to:"#",className:"flex justify-center items-center text-gray-600 hover:text-gray-900 bg-white hover:bg-white-100 rounded-full shadow transition duration-150 ease-in-out","aria-label":"Facebook",children:Object(v.jsx)("svg",{className:"w-8 h-8 fill-current",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:Object(v.jsx)("path",{d:"M14.023 24L14 17h-3v-3h3v-2c0-2.7 1.672-4 4.08-4 1.153 0 2.144.086 2.433.124v2.821h-1.67c-1.31 0-1.563.623-1.563 1.536V14H21l-1 3h-2.72v7h-3.257z"})})})})]}),Object(v.jsxs)("div",{className:"text-sm text-gray-600 mr-4",children:["Power By ",Object(v.jsx)("a",{className:"text-blue-600 hover:underline",href:"https://fivip.net/",children:"Fivip"}),". Todos los Derechos Reservados."]})]})]})})};n(453);var Q=function(){var e=Object(y.g)();return Object(o.useEffect)((function(){document.querySelector("html").style.scrollBehavior="auto",window.scroll({top:0}),document.querySelector("html").style.scrollBehavior="",Object(k.a)("outline")}),[e.pathname]),Object(v.jsxs)("div",{className:"flex flex-col min-h-screen overflow-hidden",children:[Object(v.jsx)(N,{}),Object(v.jsxs)("main",{className:"flex-grow",children:[Object(v.jsx)(S,{}),Object(v.jsx)(R,{}),Object(v.jsx)(Y,{}),Object(v.jsx)(K,{style:{marginTop:"50px"}})]}),Object(v.jsx)(W,{})]})},X=n(881),Z=n(879),J=n(868),$=n(412);function ee(){var e=Object(o.useContext)(g),t=e.jwt,n=e.setMe,i=e.setJwt,a=Object(o.useState)({loading:!1,error:!1}),c=Object(u.a)(a,2),r=c[0],l=c[1],s=Object(o.useCallback)((function(e){l({loading:!0,error:!1}),p.Login(e).then((function(e){window.localStorage.setItem("jwt",e),p.Me(e).then((function(e){n(e)})),l({loading:!1,error:!1}),i(e)})).catch((function(e){window.localStorage.removeItem("jwt"),l({loading:!1,error:!0})}))}),[i]),d=Object(o.useCallback)((function(){window.localStorage.removeItem("jwt"),i(null),console.log("bye")}),[i]);return{isLogged:Boolean(t),isLoginLoading:r.loading,hasLoginError:r.error,login:s,logout:d}}var te=i.a.createContext({});function ne(e){var t=e.children,n=Object(o.useState)({}),i=Object(u.a)(n,2),a=i[0],c=i[1],r=Object(o.useState)(JSON.parse(localStorage.getItem("venta_default_content"))),l=Object(u.a)(r,2),s=l[0],j=l[1];return Object(v.jsx)(te.Provider,{value:{documento:a,setDocumento:c,ventaDefaultContent:s,handleDefaultVenta:function(){var e={};e.cliente=a.cliente,e.cliente_id=a.cliente_id,e.almacen=a.almacen,e.almacen_id=a.almacen_id,e.forma_pago=a.forma_pago,e.forma_pago_id=a.forma_pago_id,e.moneda=a.moneda,e.moneda_id=a.moneda_id,localStorage.setItem("venta_default_content",JSON.stringify(e)),j(e),console.log(e),d.b.success("Ajustes Guardados")}},children:t})}var oe=te,ie=function(){var e=Object(o.useState)({width:void 0,height:void 0}),t=Object(u.a)(e,2),n=t[0],i=t[1];return Object(o.useEffect)((function(){function e(){i({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[window.innerHeight]),{windowSize:n}},ae=function(){var e=Object(y.g)(),t=Object(o.useContext)(g).me,n=Object(o.useContext)(C),i=(n.empresa,n.impresion),a=n.setImpresion,c=Object(o.useContext)(oe).handleDefaultVenta,r=ee(),l=r.isLogged,d=r.logout,j=Object(o.useState)(!1),b=Object(u.a)(j,2),m=b[0],x=b[1],h=Object(y.h)(),p=function(e){localStorage.setItem("print_setting",JSON.stringify(Object(A.a)(Object(A.a)({},i),{size:e}))),a(Object(A.a)(Object(A.a)({},i),{size:e}))},O=ie().windowSize;return Object(o.useEffect)((function(){e.pathname.search("/space/ventas/")&&e.pathname.search("/workspace/ventas")?x(!1):x(!0)}),[e]),Object(v.jsxs)(v.Fragment,{children:[!l&&Object(v.jsx)(y.a,{to:"/ingresar"}),O.width>700&&Object(v.jsxs)(Z.a,{fixed:"top",inverted:!0,color:"blue",children:[Object(v.jsx)(s.b,{to:"/workspace/app",children:Object(v.jsx)(Z.a.Item,{as:"a",children:"Inicio"})}),Object(v.jsx)(s.b,{to:"/welcome/empresas",children:Object(v.jsx)(Z.a.Item,{as:"a",children:"Empresas"})}),Object(v.jsx)(s.b,{to:"/workspace/ventas",children:Object(v.jsx)(Z.a.Item,{as:"a",children:"Ventas"})}),Object(v.jsx)(s.b,{to:"/workspace/contactos",children:Object(v.jsx)(Z.a.Item,{as:"a",children:"Contactos"})}),Object(v.jsx)(s.b,{to:"/workspace/productos",children:Object(v.jsx)(Z.a.Item,{as:"a",children:"Productos"})}),Object(v.jsx)(s.b,{to:"/workspace/util",children:Object(v.jsx)(Z.a.Item,{as:"a",children:"Utilidades"})}),Object(v.jsx)(s.b,{to:"/workspace/reportes",children:Object(v.jsx)(Z.a.Item,{as:"a",children:"Reportes"})}),Object(v.jsxs)(Z.a.Menu,{position:"right",children:[m&&Object(v.jsx)(Z.a.Item,{children:Object(v.jsx)(J.a,{as:"a",text:"Ajustes de Documento",style:{color:"white",fontSize:"13px"},children:Object(v.jsxs)(J.a.Menu,{children:[Object(v.jsx)(J.a.Header,{icon:"print",content:"Configuraci\xf3n de Impresi\xf3n"}),Object(v.jsx)(J.a.Item,{active:null===i||void 0===i?void 0:i.after_save,onClick:function(){var e;e=!(null!==i&&void 0!==i&&i.after_save),localStorage.setItem("print_setting",JSON.stringify(Object(A.a)(Object(A.a)({},i),{after_save:e}))),a(Object(A.a)(Object(A.a)({},i),{after_save:e}))},children:"Mostrar impresion despues de generar el documento"}),Object(v.jsx)(J.a.Item,{active:"A4"===(null===i||void 0===i?void 0:i.size),onClick:function(){p("A4")},children:"Impresi\xf3n A4"}),Object(v.jsx)(J.a.Item,{active:"88mm"===(null===i||void 0===i?void 0:i.size),onClick:function(){p("88mm")},children:"Impresi\xf3n Ticket 88 mm"}),Object(v.jsx)(J.a.Item,{disabled:!0,active:"70mm"===(null===i||void 0===i?void 0:i.size),onClick:function(){p("70mm")},children:"Impresi\xf3n Ticket 80 mm"}),Object(v.jsx)(J.a.Item,{disabled:!0,active:"80mm"===(null===i||void 0===i?void 0:i.size),onClick:function(){p("80mm")},children:"Impresi\xf3n Ticket 70 mm"}),Object(v.jsx)(J.a.Divider,{}),Object(v.jsx)(J.a.Item,{onClick:function(){c()},children:"Ajustes Predeterminados"})]})})}),l?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(Z.a.Item,{as:"a",name:"profile",children:t.name}),Object(v.jsx)(Z.a.Item,{as:"a",name:"Logout",onClick:function(){d(),h({pathname:"/ingresar"})},children:"Cerrar Sesi\xf3n"})]}):Object(v.jsx)(s.b,{to:"/ingresar",children:Object(v.jsx)(Z.a.Item,{as:"a",name:"Signup",children:"Sign Up"})})]})]}),O.width<699&&Object(v.jsxs)(Z.a,{fixed:"top",secondary:!0,children:[Object(v.jsx)(J.a,{item:!0,icon:"sidebar",children:Object(v.jsxs)(J.a.Menu,{children:[Object(v.jsx)(s.b,{to:"/workspace/app",className:"item",children:"Dashboard"}),Object(v.jsx)(s.b,{to:"/welcome/empresas",className:"item",children:"Empresa"}),Object(v.jsx)(J.a.Divider,{}),Object(v.jsx)(s.b,{to:"/workspace/ventas",className:"item",children:"Ventas"}),Object(v.jsx)(s.b,{to:"/workspace/contactos",className:"item",children:"Contactos"}),Object(v.jsx)(s.b,{to:"/workspace/productos",className:"item",children:"Productos"}),Object(v.jsx)(J.a.Divider,{}),Object(v.jsx)(s.b,{to:"/workspace/util",className:"item",children:"Utilidades"}),Object(v.jsx)(s.b,{to:"/workspace/reportes",className:"item",children:"Reportes"}),Object(v.jsx)(J.a.Divider,{}),Object(v.jsx)(s.b,{to:"/loginout",className:"item",children:"Cerrar Sesi\xf3n"})]})}),Object(v.jsx)(Z.a.Menu,{position:"right",children:Object(v.jsx)($.a,{style:{marginTop:5,marginRight:5},srcSet:"/logo32.png",alt:"logo fivip",as:"div"})})]})]})},ce=function(){var e=Object(o.useContext)(C).empresa;return Object(v.jsx)(v.Fragment,{children:e?Object(v.jsxs)("div",{children:[Object(v.jsx)(ae,{}),Object(v.jsx)(X.a,{children:Object(v.jsx)(X.a.Row,{children:Object(v.jsx)(y.b,{})})})]}):Object(v.jsx)(y.a,{to:"/welcome/empresas"})})},re=function(){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(ae,{}),Object(v.jsx)(X.a,{children:Object(v.jsx)(X.a.Row,{style:{height:"80rem"},children:Object(v.jsx)(X.a.Column,{width:16,children:Object(v.jsx)(y.b,{})})})})]})},le=n(882),se=n(869),de=n(883),ue=n(269),je=n(877),be=function(){var e=Object(o.useState)({email:"",password:""}),t=Object(u.a)(e,2),n=t[0],i=t[1],a=ee(),c=a.login,r=a.isLogged,l=a.isLoginLoading,s=a.hasLoginError,d=function(e){var t={};t[e.target.name]=e.target.value,i(Object(A.a)(Object(A.a)({},n),t))};return Object(v.jsx)(X.a,{textAlign:"center",style:{height:"100vh"},verticalAlign:"middle",children:Object(v.jsxs)(X.a.Column,{style:{maxWidth:450},children:[Object(v.jsx)(le.a,{as:"h2",color:"teal",textAlign:"center",children:"Log-in to your account"}),Object(v.jsx)(se.a,{size:"large",loading:l,children:Object(v.jsxs)(de.a,{stacked:!0,children:[Object(v.jsx)(se.a.Input,{fluid:!0,icon:"user",iconPosition:"left",placeholder:"E-mail address",name:"email",onChange:d,value:null===n||void 0===n?void 0:n.email}),Object(v.jsx)(se.a.Input,{fluid:!0,icon:"lock",iconPosition:"left",placeholder:"Password",type:"password",name:"password",onChange:d,value:null===n||void 0===n?void 0:n.password}),r&&Object(v.jsx)(y.a,{to:"/welcome/empresas"}),Object(v.jsx)(ue.a,{color:"teal",fluid:!0,size:"large",onClick:function(){c(n)},children:"Login"})]})}),s&&Object(v.jsx)(je.a,{error:!0,header:"Error!",content:"Verifique que haya escrito bien sus credenciales."}),Object(v.jsxs)(je.a,{children:["New to us? ",Object(v.jsx)("a",{href:"#!",children:"Registrate"})]})]})})},me=n(14),xe=n(4),he=n.n(xe),pe=n(257),ve=n.n(pe),Oe=n(863),fe=n(880),ge=n(864),we=n(870),_e=n(80),Ce=n(165),ye=n(872);var ke={show:function(){return new Promise((function(e,t){h.get("/empresa").then((function(t){e(t.data)}),(function(e){t(new Error("bad request"))}))}))},find:function(e){return new Promise((function(t,n){h.get("empresa/"+e).then((function(e){t(e.data)}))}))},create:function(e){return new Promise((function(t,n){h.post("empresa/create",e).then((function(e){t(e.data)})).catch((function(e){e.response&&t(e.response.data)}))}))},update:function(e,t){return new Promise((function(n,o){h.put("empresa/"+t,e).then((function(e){n(e.data)}))}))},updateLogo:function(e,t){var n=new FormData;return n.append("file",t),new Promise((function(o,i){h.post("empresa/logo/".concat(e),n,{"content-type":t.type}).then((function(e){o(e.data)})).catch((function(e){e.response&&o(e.response.data)}))}))},updateCertificado:function(e,t){var n=new FormData;return n.append("file",t),new Promise((function(o,i){h.post("empresa/certificado/".concat(e),n,{"content-type":t.type}).then((function(e){o(e.data)})).catch((function(e){e.response&&o(e.response.data)}))}))},unlockCertificado:function(e,t){return new Promise((function(n,o){h.post("empresa/unlock/".concat(e),{pass:t}).then((function(e){n(e.data)})).catch((function(e){e.response&&n(e.response.data)}))}))}};var Ne={show:function(){return new Promise((function(e,t){h.get("/local").then((function(t){e(t.data)}),(function(e){t(!1)}))}))},find:function(e){return new Promise((function(t,n){h.get("local/"+e).then((function(e){t(e.data)}))}))},create:function(e){return new Promise((function(t,n){h.post("local",e).then((function(e){t(e.data)})).catch((function(e){e.response&&t(e.response.data)}))}))},update:function(e,t){return new Promise((function(n,o){h.put("local/"+t,e).then((function(e){n(e.data)}))}))}};n(169);var Se=function(){var e,t,n=Object(y.g)(),i=Object(y.h)(),a=m("public"),c=Object(o.useContext)(C),r=(c.empresa,c.setEmpresa),l=Object(o.useState)(!1),d=Object(u.a)(l,2),j=d[0],b=d[1],x=Object(o.useState)(!1),h=Object(u.a)(x,2),p=h[0],O=h[1],f=Object(o.useState)([]),g=Object(u.a)(f,2),w=g[0],_=g[1];Object(o.useEffect)((function(){k()}),{instancias:w});var k=function(){var e=Object(me.a)(he.a.mark((function e(){var t;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),e.next=3,Ne.show();case 3:return t=e.sent,O(!1),e.abrupt("return",_(t));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(me.a)(he.a.mark((function e(t,n){var o;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne.find(n);case 2:o=e.sent,r(o),window.window.localStorage.setItem("empresa",JSON.stringify(o)),i({pathname:"/workspace/app"});case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),S=function(){b(!j)};return null!==n&&void 0!==n&&n.state&&null!==n&&void 0!==n&&null!==(e=n.state)&&void 0!==e&&null!==(t=e.reload)&&void 0!==t&&t.empresa&&(k(),n.state=null),Object(v.jsxs)(Oe.a,{children:[Object(v.jsx)(X.a.Row,{style:{marginTop:"1rem",marginBottom:"1rem"},children:Object(v.jsx)(s.b,{to:"/welcome/empresas/create",state:{backgroundLocation:n},children:Object(v.jsx)(ue.a,{primary:!0,floated:"right",style:{marginBottom:"1rem"},children:"Nueva Empresa"})})}),Object(v.jsx)(X.a.Row,{children:p?Object(v.jsx)(fe.a,{active:!0,inverted:!0,children:Object(v.jsx)(ge.a,{size:"large",children:"Cargando..."})}):null!==w&&void 0!==w&&w.length?Object(v.jsx)(we.a.Group,{divided:!0,children:w.map((function(e,t){return Object(v.jsxs)(we.a,{children:[Object(v.jsx)(we.a.Image,{style:{maxWidth:100},src:"".concat(a,"/storage/").concat(e.id,"/").concat(e.logo)}),Object(v.jsxs)(we.a.Content,{children:[Object(v.jsx)(we.a.Header,{as:"a",children:e.nombre}),Object(v.jsxs)(we.a.Meta,{children:[Object(v.jsx)(s.b,{to:"/welcome/empresas/".concat(e.id),state:{backgroundLocation:n,model:e},children:Object(v.jsx)(ue.a,{size:"mini",icon:"pencil"})}),Object(v.jsx)(s.b,{to:"/welcome/locals/create",state:{backgroundLocation:n,model:{empresa_id:e.id}},children:Object(v.jsxs)(ue.a,{size:"mini",children:[Object(v.jsx)(_e.a,{name:"plus"}),"Local | Sucursal"]})})]}),Object(v.jsx)(we.a.Extra,{children:Object(v.jsx)(Ce.a,{color:"green",children:"Activo"})}),Object(v.jsx)(we.a.Description,{children:Object(v.jsx)(ye.a,{divided:!0,verticalAlign:"middle",children:e.locales.map((function(t){return Object(v.jsxs)(ye.a.Item,{children:[Object(v.jsx)(ye.a.Content,{floated:"right",children:Object(v.jsx)(ue.a,{size:"small",primary:!0,onClick:function(){N(e,t.id)},children:"Ingresar"})}),Object(v.jsxs)(ye.a.Content,{children:[Object(v.jsx)(s.b,{to:"/welcome/locals/".concat(t.id),state:{backgroundLocation:n,model:t},children:Object(v.jsx)(ue.a,{size:"mini",icon:"pencil",onClick:S})}),t.nombre]})]})}))})})]})]},t)}))}):Object(v.jsx)(v.Fragment,{children:" settings no contenido posees empresa "})})]})},Ae=n(217);var Ve=function(e){e.setOpen,e.open;var t=e.size,n=(e.dimmer,e.setTitle),o=e.children,i=Object(y.h)();return Object(v.jsxs)(Ae.a,{closeIcon:!0,centered:!0,dimmer:"blurring",open:!0,onClose:function(){i(-1)},size:t,children:[Object(v.jsx)(Ae.a.Header,{children:n}),Object(v.jsx)(Ae.a.Content,{scrolling:!0,children:o})]})},De=n(878),Pe=n(875),Te=n(52),Fe=function(e){return e?Number(e).toFixed(2).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"):"0"},Ee=function(){var e=new Te.a("db"),t=Object(o.useState)([]),n=Object(u.a)(t,2),i=n[0],a=n[1],c=Object(o.useState)(0),r=Object(u.a)(c,2),l=r[0],s=r[1],d=Object(o.useState)(0),j=Object(u.a)(d,2),b=j[0],m=j[1],x=Object(o.useState)(null),h=Object(u.a)(x,2),p=h[0],O=h[1],f=Object(o.useState)(null),g=Object(u.a)(f,2),w=g[0],_=g[1],C=Object(o.useState)(null),k=Object(u.a)(C,2),N=(k[0],k[1]),S=Object(o.useState)(null),A=Object(u.a)(S,2),V=A[0],D=A[1],P=Object(y.h)(),T=function(){var e=Object(me.a)(he.a.mark((function e(t){var n,o,i,a,c,r,l,d;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=[],o=(new Date).getFullYear(),i=(new Date).getMonth(),a=(new Date).getDate(),c=Array(a).fill(new Date(o,i,1)).map((function(e,t){return new Date(new Date(e).setDate(e.getDate()+t)).toLocaleDateString("es-CL").slice(0,10)})),r=0;r<t.length;r++)1===(l=t[r]).tipo_operacion_id&&-1!==c.indexOf(new Date(l.fecha_emision).toLocaleDateString("es-CL").substr(0,10))&&(console.log(">>>>>>>______",l.tipo_operacion_id),n.push(l));return e.next=8,s(n.length);case 8:return d=F(n),e.next=11,_(d);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(e){for(var t={title:"Ventas",mensaje:"Ultimos 25 Documento",detalles:{}},n=0;n<e.length;n++){var o=e[n];1===o.tipo_operacion_id&&(t.detalles.hasOwnProperty(o.moneda.nombre)?t.detalles[o.moneda.nombre].total+=o.total_documento_fin:t.detalles[o.moneda.nombre]={iso:o.moneda.iso,simbolo:o.moneda.simbolo,total:o.total_documento_fin})}return t},E=function(e){for(var t={title:"Cobros",mensaje:"Ultimos 25 Documento",detalles:{}},n=0,o=0;o<e.length;o++){var i=e[o];t.detalles.hasOwnProperty(i.moneda.nombre)?(t.detalles[i.moneda.nombre].total+=i.total_documento_fin-i.pago_status,n++):(t.detalles[i.moneda.nombre]={iso:i.moneda.iso,simbolo:i.moneda.simbolo,total:i.total_documento_fin-i.pago_status},n++)}return m(n),t};return Object(o.useEffect)((function(){e.collection("ventas").get().then(function(){var e=Object(me.a)(he.a.mark((function e(t){var n,o;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.filter((function(e,t){if(new Date(e.fecha_emision).toLocaleDateString("es-CL").substr(0,10)===(new Date).toLocaleDateString("es-CL").substr(0,10)&&1===e.tipo_operacion_id)return e})),e.next=3,a(n);case 3:o=F(n),T(t),O(o),console.log({items:n});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.collection("ventas").get().then(function(){var e=Object(me.a)(he.a.mark((function e(t){var n,o;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.filter((function(e,t){if(1===e.tipo_operacion_id&&2===e.forma_pago_id&&e.total_documento_fin-e.pago_status>.001)return console.log("correlativo"+e.correlativo,e.moneda.simbolo,e.total_documento_fin,e.pago_status,e.total_documento_fin-e.pago_status),e})),e.next=3,N(n);case 3:return o=E(n),e.next=6,D(o);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(v.jsx)(Oe.a,{children:Object(v.jsxs)(X.a.Column,{style:{marginTop:"10px",padding:10},children:[Object(v.jsx)(X.a.Row,{children:Object(v.jsx)(le.a,{as:"h1",children:"Inicio"})}),Object(v.jsx)("br",{}),Object(v.jsx)(X.a.Row,{children:Object(v.jsx)(le.a,{as:"h4",children:"Dia de Hoy"})}),Object(v.jsx)(X.a.Row,{children:Object(v.jsxs)(De.a.Group,{size:"tiny",widths:p?1+Object.keys(null===p||void 0===p?void 0:p.detalles).length:1,children:[Object(v.jsxs)(De.a,{children:[Object(v.jsx)(De.a.Value,{children:i.length}),Object(v.jsx)(De.a.Label,{children:"Ventas "})]}),!!p&&Object.keys(p.detalles).map((function(e,t){return Object(v.jsxs)(De.a,{children:[Object(v.jsxs)(De.a.Value,{text:!0,children:[p.detalles[e].simbolo," ",Fe(p.detalles[e].total)," (",p.detalles[e].iso,") "]}),Object(v.jsx)(De.a.Label,{children:String(e)})]},t)}))]})}),Object(v.jsx)(X.a.Row,{children:Object(v.jsxs)(Pe.a.Group,{children:[Object(v.jsx)(Pe.a,{fluid:!0,children:Object(v.jsxs)(Pe.a.Content,{children:[Object(v.jsx)(Pe.a.Header,{children:"Mensuales"}),Object(v.jsxs)(Pe.a.Meta,{children:["Ventas ",l]}),!!w&&Object.keys(w.detalles).map((function(e,t){return Object(v.jsxs)(Pe.a.Description,{style:{textAlign:"right"},children:[w.detalles[e].simbolo," ",Fe(w.detalles[e].total)," (",w.detalles[e].iso,") "]},t)}))]})}),Object(v.jsx)(Pe.a,{fluid:!0,as:"a",onClick:function(){P("/workspace/ventas",{state:{porcobrar:!0}})},children:Object(v.jsxs)(Pe.a.Content,{children:[Object(v.jsx)(Pe.a.Header,{content:"Cuentas Pendientes por Cobro"}),Object(v.jsx)(Pe.a.Meta,{content:"Ventas "+b}),!!V&&!V.length&&Object.keys(null===V||void 0===V?void 0:V.detalles).map((function(e,t){return Object(v.jsxs)(Pe.a.Description,{style:{textAlign:"right"},children:[V.detalles[e].simbolo," ",V.detalles[e].total.toFixed(2)," (",V.detalles[e].iso,") "]},t)}))]})})]})})]})})},Ie=n(867),ze=n(70),Re=n.n(ze),Le=function(e){var t=e.empresaContext;return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(J.a,{as:"a",text:"Nuevo",className:"button ui tiny",children:Object(v.jsxs)(J.a.Menu,{children:[Object(v.jsx)(s.b,{className:"item",to:"/space/ventas/create/1",state:{model:{empresa_id:t.empresa.id,local_id:t.id,tipo_operacion_id:1,detalles:[],fecha_emision:(new Date).toLocaleDateString("es-CL").split("-").reverse().join("-"),fecha_registro:(new Date).toLocaleDateString("es-CL").split("-").reverse().join("-")}},children:"Documento de Venta"}),Object(v.jsx)(s.b,{className:"item",to:"/space/ventas/create/2",state:{model:{empresa_id:t.empresa.id,local_id:t.id,tipo_operacion_id:2,detalles:[],fecha_emision:(new Date).toLocaleDateString("es-CL").split("-").reverse().join("-"),fecha_registro:(new Date).toLocaleDateString("es-CL").split("-").reverse().join("-")}},children:"Cotizaci\xf3n"}),Object(v.jsx)(s.b,{className:"item",to:"/space/ventas/create/3",state:{model:{empresa_id:t.empresa.id,local_id:t.id,tipo_operacion_id:3,detalles:[],fecha_emision:(new Date).toLocaleDateString("es-CL").split("-").reverse().join("-"),fecha_registro:(new Date).toLocaleDateString("es-CL").split("-").reverse().join("-")}},children:"Guia de Remisi\xf3n"})]})})})},Be=n(865),Me=n(264),Ge=n.n(Me),qe=n(78),He=n.n(qe),Ue=new Te.a("db");function Ye(){return(Ye=Object(me.a)(he.a.mark((function e(t,n){return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch("".concat(m(),"/venta/download/").concat(t.empresa_id,"/").concat(t.local_id,"/").concat(t.id,"/").concat(n),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")}}).then((function(e){return e.blob()})).then((function(e){var o="cdn"===n?"zip":n;Ge()(e,"".concat(t.sunat_documento,".").concat(o))}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ke(){return(Ke=Object(me.a)(he.a.mark((function e(t,n){var o;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=He.a.stringify(n),console.log(">>>>>>>>>>>>>>>>>>>>>>>>>>>>>",t,o),fetch("".concat(m(),"/venta/").concat(t.empresa.id,"/").concat(t.id,"/reporte?").concat(o),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")}}).then((function(e){return e.blob()})).then((function(e){Ge()(e,"reporte-ventas".concat(".xlsx"))}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Ue.config.debug=!1;var We={show:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{limit:1e5,order:{id:"DESC"}},i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=He.a.stringify(o);return new Promise((function(o,c){h.get("/venta/".concat(e,"/").concat(t,"?page=").concat(n,"&").concat(a)).then((function(e){i?Ue.collection("ventas").set(e.data.data).then((function(e){o(e.data)})):o(e.data.data)}),(function(e){c(!1)}))}))},find:function(e,t,n){return new Promise((function(o,i){h.get("/venta/".concat(e,"/").concat(t,"/").concat(n)).then((function(e){o(e.data)}),(function(e){i(!1)}))}))},create:function(e){return new Promise((function(t,n){h.post("venta",e).then(function(){var e=Object(me.a)(he.a.mark((function e(n){var o;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ue.collection("ventas").add(n.data);case 2:o=e.sent,t(o.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){e.response&&t(e.response.data)}))}))},update:function(e,t){return e.transportista_id=null===e.transportista_id?void 0:e.transportista_id,e.ubigeo_destino_id=null===e.ubigeo_destino_id?void 0:e.ubigeo_destino_id,e.ubigeo_partida_id=null===e.ubigeo_partida_id?void 0:e.ubigeo_partida_id,new Promise((function(n,o){h.put("venta/"+e.empresa_id+"/"+e.local_id+"/"+t,e).then(function(){var e=Object(me.a)(he.a.mark((function e(t){var o;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ue.collection("ventas").doc({id:t.data.id}).update(t.data);case 2:o=e.sent,n(o.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))},showDetalles:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{limit:20,order:{id:"DESC"}},i=He.a.stringify(o);return new Promise((function(o,a){h.get("/venta-detalle/".concat(e,"/").concat(t,"?page=").concat(n,"&").concat(i)).then((function(e){o(e.data)}),(function(e){a(!1)}))}))},anular:function(e){return console.log(e),new Promise((function(t,n){h.delete("venta/".concat(e.empresa_id,"/").concat(e.local_id,"/").concat(e.id),e).then((function(e){t(e.data)})).catch((function(e){e.response&&t(e.response.data)}))}))},sendSunat:function(e){return console.log(e),new Promise((function(t,n){h.get("venta/enviar/".concat(e.empresa_id,"/").concat(e.local_id,"/").concat(e.id),e).then((function(e){t(e.data)})).catch((function(e){e.response&&t(e.response.data)}))}))},download:function(e,t){return Ye.apply(this,arguments)},reporte:function(e,t){return Ke.apply(this,arguments)}},Qe=function(e){var t=e.documento,n=e.handleChangeVenta,i=Object(o.useContext)(C).empresa,a=Object(o.useState)(!1),c=Object(u.a)(a,2),r=c[0],l=c[1];return Object(v.jsxs)(v.Fragment,{children:[t&&Object(v.jsx)(J.a,{as:"a",text:"Convertir",className:"button ui mini teal",children:Object(v.jsxs)(J.a.Menu,{children:[Object(v.jsxs)(J.a.Item,{onClick:function(){l(!r)},children:[Object(v.jsx)("i",{className:"delete icon"}),"Anular"]}),1!==t.tipo_operacion_id&&Object(v.jsxs)(s.b,{className:"item",to:"/space/ventas/create/1",state:{model:Object(A.a)(Object(A.a)({},t),{},{documento_relacion:t.documento_relacion.concat({documento_relacion_id:null===t||void 0===t?void 0:t.id,documento_relacion:t}),serie:void 0,correlativo:void 0,id:void 0,empresa_id:i.empresa.id,local_id:i.id,tipo_operacion_id:1,fecha_emision:(new Date).toLocaleDateString("es-CL").split("-").reverse().join("-"),fecha_registro:(new Date).toLocaleDateString("es-CL").split("-").reverse().join("-"),transportista_id:null,ubigeo_partida:null,ubigeo_destino:null})},children:[Object(v.jsx)("i",{className:"file alternate outline icon"}),"Venta"]}),2!==t.tipo_operacion_id&&3!==t.tipo_operacion_id&&Object(v.jsxs)(s.b,{className:"item",to:"/space/ventas/create/3",state:{model:Object(A.a)(Object(A.a)({},t),{},{documento_relacion:t.documento_relacion.concat({documento_relacion_id:t.id,documento_relacion:t}),serie:void 0,correlativo:void 0,id:void 0,empresa_id:i.empresa.id,local_id:i.id,tipo_operacion_id:3,fecha_emision:(new Date).toLocaleDateString("es-CL").split("-").reverse().join("-"),fecha_registro:(new Date).toLocaleDateString("es-CL").split("-").reverse().join("-"),transportista_id:null,ubigeo_partida:null,ubigeo_destino:null})},children:[Object(v.jsx)("i",{className:"file alternate outline icon"}),"Guia de Remisi\xf3n"]}),Object(v.jsxs)(s.b,{className:"item",to:"/space/ventas/create/4",state:{model:Object(A.a)(Object(A.a)({},t),{},{documento_relacion:t.documento_relacion.concat({documento_relacion_id:t.id,documento_relacion:t}),serie:void 0,correlativo:void 0,id:void 0,empresa_id:i.empresa.id,local_id:i.id,tipo_operacion_id:4,fecha_emision:(new Date).toLocaleDateString("es-CL").split("-").reverse().join("-"),fecha_registro:(new Date).toLocaleDateString("es-CL").split("-").reverse().join("-"),transportista_id:null,ubigeo_partida:null,ubigeo_destino:null})},children:[Object(v.jsx)("i",{className:"file alternate outline icon"}),"Nota de Cr\xe9dito"]})]})}),Object(v.jsx)(Be.a,{open:r,content:"\xbfSeguro que deseas anular este documento? -Esta operacion es irreversible recuerde que puede editar este documento",onCancel:function(){l(!r)},onConfirm:Object(me.a)(he.a.mark((function e(){var o;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,We.anular(t);case 2:o=e.sent,n(o),console.log(o),l(!r);case 6:case"end":return e.stop()}}),e)})))})]})},Xe=n(22),Ze=n(134),Je=n.n(Ze),$e=n(843),et=n(861),tt=n(873),nt=n(885),ot=n(876),it=n(862),at=n(32);function ct(e){return e?new Date(e).toISOString().split("T")[0]:(new Date).toISOString().split("T")[0]}var rt=function(e){var t=e.name,n=e.title,o=e.type,i=e.control,a=e.errors,c=e.width,r=e.readOnly;return Object(v.jsx)(Xe.a,{name:t,control:i,render:function(e){var i,l=e.field,s=l.onChange,d=l.onBlur,u=l.value;return Object(v.jsx)(se.a.Field,{id:t,width:c||2,required:"required"===(null===(i=a[t])||void 0===i?void 0:i.type),control:et.a,label:n,value:"date"===o?ct(u):u,placeholder:n,type:o,error:a[t]&&{content:a[t].message,pointing:"above"},readOnly:r||!1,onBlur:d,onChange:s})}})},lt=n(19),st=lt.a({}).required(),dt=function(e){return Object.keys(null===e||void 0===e?void 0:e.errors).map((function(t){var n="";return null===e||void 0===e||e.errors[t].forEach((function(e){n=n+e+" "})),n}))},ut={transportista:{title:"Transportista",name:"transportista_id",name_model:"transportista",placeholder:"Buscar...",endPoint:"/cliente",link:"/welcome/clientes/",params:{empresa_id:!0},keys:{text:"nombre",id:"id"},table:"_contactos"},clientes:{title:"Cliente",name:"cliente_id",name_model:"cliente",placeholder:"Buscar...",endPoint:"/cliente",link:"/welcome/clientes/",params:{empresa_id:!0},keys:{text:"nombre",id:"id",concat:["nombre","email"]},table:"_contactos"},proveedores:{title:"Proveedores",name:"cliente_id",name_model:"cliente",placeholder:"Buscar...",endPoint:"/cliente",link:"/welcome/clientes/",params:{empresa_id:!0},keys:{text:"nombre",id:"id",concat:["nombre","email"]},table:"_contactos"},vendedor:{title:"Vendedor",name:"vendedor_id",name_model:"vendedor",placeholder:"Buscar...",endPoint:"/cliente",link:"/welcome/clientes/",params:{empresa_id:!0},keys:{text:"nombre",id:"id"},table:"_contactos"},ubigeo:{title:"Ubigeo",name:"ubigeo_id",name_model:"ubigeo",placeholder:"Busca el ubigeo",endPoint:"/resource/ubigeo",link:!1,params:!1,keys:{text:"provincia",id:"id",concat:["provincia","distrito","departamento"]},table:"ubigeos"},tipo_documento_identy:{title:"Documento",name:"tipo_documento_identy_id",name_model:"tipo_documento_identy",placeholder:"Selecciona",endPoint:"/resource/tipo_documento_identy",link:!1,params:!1,keys:{text:"nombre",id:"id"},table:"tipo_documento_identies"},almacen:{title:"Almacen",name:"almacen_id",name_model:"almacen",placeholder:"Selecciona",endPoint:"/almacen/local",link:!1,params:{local_id:!0},keys:{text:"nombre",id:"id"},table:"almacen"},serie:{title:"Serie",name:"serie_id",name_model:"serie",placeholder:"Selecciona",endPoint:"/serie/tipo_operacion",link:!1,params:{local_id:!0},keys:{text:"descripcion",id:"id",concat:["descripcion","serie"]},table:"series"},forma_pago:{title:"Condicion de Pago",name:"forma_pago_id",name_model:"forma_pago",placeholder:"Selecciona",endPoint:"/resource/forma_pago",link:!1,params:!1,keys:{text:"nombre",id:"id"},table:"forma_pagos"},moneda:{title:"Moneda",name:"moneda_id",name_model:"moneda",placeholder:"Selecciona",endPoint:"/moneda",link:"/welcome/moneda/",params:{empresa_id:!0},keys:{text:"nombre",id:"id"},table:"monedas"},producto:{title:"Producto",name:"producto",name_model:"producto",placeholder:"Selecciona",endPoint:"/producto",link:"/welcome/producto/",params:{empresa_id:!0},keys:{text:"nombre",id:"id"},table:"productos"},documento_relacion_search:{title:"Documento Relacionado",name:"documento_relacion_search_id",name_model:"documento_relacion_search",placeholder:"Buscar por serie y numero de correlativo",endPoint:"/venta",link:!1,params:{empresa_id:!0,local_id:!0},keys:{text:"uniqueserie",id:"id",concat:["uniqueserie"]},table:"ventas"},motivos_sunat_guia_remision:{title:"Motivo Guia de Remisi\xf3n",name:"motivos_sunat_guia_remision_id",name_model:"motivos_sunat_guia_remision",placeholder:"Seleccione Motivo",endPoint:"/resource/motivos_sunat_guia_remision",link:!1,params:!1,keys:{text:"descripcion",id:"id"},table:"motivos_guia_remision"},vehiculo:{title:"Veh\xedculo",name:"vehiculo_id",name_model:"vehiculo",placeholder:"Selecciona",endPoint:"/vehiculo",link:"/welcome/vehiculo/",params:{empresa_id:!0},keys:{text:"descripcion",id:"id",concat:["descripcion"]},table:"vehiculos"},ubigeo_partida:{title:"Ubigeo de Partida",name:"ubigeo_partida_id",name_model:"ubigeo_partida",placeholder:"Buscar ubigeo",endPoint:"/resource/ubigeo",link:!1,params:!1,keys:{text:"provincia",id:"id",concat:["provincia","distrito","departamento"]},table:"ubigeos"},ubigeo_destino:{title:"Ubigeo de Destino",name:"ubigeo_destino_id",name_model:"ubigeo_destino",placeholder:"Buscar Destino",endPoint:"/resource/ubigeo",link:!1,params:!1,keys:{text:"provincia",id:"id",concat:["provincia","distrito","departamento"]},table:"ubigeos"},tipo_producto:{title:"Tipo de producto",name:"tipo_producto_id",name_model:"tipo_producto",placeholder:"Seleccione un tipo de Producto",endPoint:"/resource/tipo_producto",link:!1,params:!1,keys:{text:"nombre",id:"id"},table:"tipo_productos"},presentacion:{title:"Presentaci\xf3n",name:"presentacion_id",name_model:"presentacion",placeholder:"Seleccione Presentaci\xf3n",endPoint:"/resource/presentacion",link:!1,params:!1,keys:{text:"nombre",id:"id"},table:"presentacions"},marca:{title:"Marca",name:"marca_id",name_model:"marca",placeholder:"Seleccione Marca",endPoint:"/producto_features/marcas",link:!1,params:!1,keys:{text:"nombre",id:"id"},table:"marcas"},linea:{title:"Linea",name:"linea_id",name_model:"linea",placeholder:"Seleccione Marca",endPoint:"/producto_features/lineas",link:!1,params:!1,keys:{text:"nombre",id:"id"},table:"lineas"},categoria:{title:"Categoria",name:"categoria_id",name_model:"categoria",placeholder:"Seleccione Categoria",endPoint:"/producto_features/categorias",link:!1,params:!1,keys:{text:"nombre",id:"id"},table:"categorias"},subcategoria:{title:"Sub Categorias",name:"subcategoria_id",name_model:"sub_categoria",placeholder:"Seleccione Sub Categoria",endPoint:"/producto_features/subcategorias",link:!1,params:!1,keys:{text:"nombre",id:"id"},table:"subcategorias"},metodo_pagos:{title:"M\xe9todos",name:"metodo_pago_id",name_model:"metodo",placeholder:"Seleccione un m\xe9todo",endPoint:"/resource/metodo_pago",link:!1,params:!1,keys:{text:"nombre",id:"id"},table:"metodo_pagos"},cuentas_bancos:{title:"Cuenta Banco",name:"banco_id",name_model:"banco_nombre",placeholder:"Seleccione un Banco",endPoint:"/banco",link:"/welcome/banco/",params:{empresa_id:!0},keys:{text:"nombre",id:"id",concat:["nombre","numero_cuenta"]},table:"bancos"},listado_bancos:{title:"Listado Bancos",name:"listado_banco_id",name_model:"nombre",placeholder:"Seleccione un Banco",endPoint:"/resource/listado_banco",link:!1,params:!1,keys:{text:"nombre",id:"id"},table:"listado_bancos"}};var jt={show:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{order:{id:"DESC"}};t.limit||(t.limit=20),console.log(e,t.limit);var n=He.a.stringify(t);return new Promise((function(t,o){h.get("".concat(e,"?").concat(n)).then((function(e){t(e.data)}),(function(e){o(new Error("bad request"))}))}))}},bt=function(e,t){return!(e&&!e[0])&&(null===e||void 0===e?void 0:e.map((function(e,n){return t.concat?{text:t.concat.map((function(t){return"email"===t?"<"+e[t]+">":e[t]})).join(" "),value:Number(e[null===t||void 0===t?void 0:t.id]),key:n,model:e}:{text:e[null===t||void 0===t?void 0:t.text],value:Number(e[null===t||void 0===t?void 0:t.id]),key:n,model:e}})))},mt=function(){var e=Object(me.a)(he.a.mark((function e(t,n,o,i){var a,c,r,l,s,d,u,j,b=arguments;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=b.length>4&&void 0!==b[4]?b[4]:null,c=b.length>5?b[5]:void 0,r=b.length>6?b[6]:void 0,null!==i&&void 0!==i&&i.empresa_id&&(o+="/"+t.empresa.id),null!==i&&void 0!==i&&i.local_id&&(console.log(t.id),o+="/"+t.id),o.search("undefined"),c)for(s=Object.keys(c).map((function(e){return r[e]})),d=0;d<s.length;d++)o+="/"+s[d];if(!("string"===typeof a&&a.length<3)){e.next=9;break}return e.abrupt("return",!1);case 9:return"string"===typeof a&&a.length>3&&(l={filter:[[n.text,"like","%"+a+"%"]]}),"object"===typeof a&&(l=a),l=a?l:null,e.next=14,jt.show(o,l);case 14:return u=e.sent,e.next=17,bt(u.data,n);case 17:return j=e.sent,o.search("/vehiculo")>0&&console.log(n,o,i,a,c),e.abrupt("return",j);case 20:case"end":return e.stop()}}),e)})));return function(t,n,o,i){return e.apply(this,arguments)}}(),xt=function(e){var t,n,i=e.model,a=e.moreRouteParams,c=e.empresaContexto,r=e.control,l=e.venta,d=(e.handleChangeVenta,e.setValue),j=e.width,b=e.autoFocus,m=e.onListenChange,x=Object(y.h)(),h=Object(y.g)(),p=Object(o.useState)({isFetching:!1,multiple:!0,searchQuery:null,value:"",options:[]}),O=Object(u.a)(p,2),f=O[0],g=O[1],w=function(){var e=Object(me.a)(he.a.mark((function e(t,n){var o,r;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.searchQuery,g({isFetching:!0}),e.next=4,mt(c,i.keys,i.endPoint,i.params,o,a,l);case 4:r=e.sent,g(Object(A.a)(Object(A.a)({},f),{options:r,isFetching:!1}));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),_=function(){var e=Object(me.a)(he.a.mark((function e(){var t,n;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mt(c,i.keys,i.endPoint,i.params,{limit:20,order:{id:"DESC"}},a,l);case 2:if(t=e.sent,!l||!l[null===i||void 0===i?void 0:i.name_model]){e.next=15;break}return e.next=6,bt([l[null===i||void 0===i?void 0:i.name_model]],i.keys);case 6:if(n=e.sent,!t.find((function(e){return e.value===n[0].value}))){e.next=12;break}return e.abrupt("return",t);case 12:return n[0].key=t.length,t.push(n[0]),e.abrupt("return",t);case 15:return e.abrupt("return",t);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(o.useEffect)((function(){_().then((function(e){g(Object(A.a)(Object(A.a)({},f),{options:e,isFetching:!1}))}),(function(e){console.log(e),alert("efecto fallo posiblemente la respuesta no esta en formato adecuado [data]=>{}")}))}),[]),Object(o.useEffect)((function(){var e;if(null!==h&&void 0!==h&&h.state&&null!==h&&void 0!==h&&null!==(e=h.state)&&void 0!==e&&e.reload){var t,n,o,a;console.log(h.state,"- Has changed"),console.log(h.state,h.state.reload);var c=bt([null===(t=h.state)||void 0===t?void 0:t.reload[i.name]],i.keys);g({options:c}),d(i.name,null===h||void 0===h||null===(n=h.state)||void 0===n||null===(o=n.reload[i.name])||void 0===o?void 0:o.id),d(i.name_model,null===h||void 0===h||null===(a=h.state)||void 0===a?void 0:a.reload[null===i||void 0===i?void 0:i.name])}}),[null===(t=h.state)||void 0===t||null===(n=t.reload)||void 0===n?void 0:n[[i.name]]]),Object(v.jsx)(Xe.a,{name:i.name,control:r,render:function(e){var t,n,o=e.field,a=(o.onChange,o.onBlur,o.value);return Object(v.jsxs)(se.a.Field,{width:j||5,children:[Object(v.jsxs)("label",{children:[i.title," ",!(null!==h&&void 0!==h&&null!==(t=h.state)&&void 0!==t&&t.backgroundLocation)&&i.link&&!(null===f||void 0===f||null===(n=f.options)||void 0===n||!n.length)&&!!a&&Object(v.jsx)(_e.a,{onClick:function(){!function(e,t){t=Number(t);var n=f.options.find((function(e){return e.value===t}));x(i.link+t,{state:{backgroundLocation:h,model:n.model,empresaContexto:e}})}(c,a)},name:"pencil",size:"small"})]}),Object(v.jsx)(J.a,{searchInput:{autoFocus:b},clearable:!0,options:f.options,placeholder:i.placeholder,onChange:function(e,t){d(i.name,t.value);var n=f.options.find((function(e){return e.value===t.value}));d(null===i||void 0===i?void 0:i.name_model,null===n||void 0===n?void 0:n.model),m&&m(t)},onSearchChange:w,loading:f.isFetching,search:!0,value:parseInt(a),selection:!0,noResultsMessage:i.link?Object(v.jsx)(s.b,{to:i.link+"create",state:{backgroundLocation:h,model:{local_id:c.id,empresa_id:c.empresa.id}},children:"Agregar Nuevo"}):"Sin Resultados"})]})}})},ht=n(78),pt=new Te.a("db");pt.config.debug=!1;var vt={show:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{limit:1e4,order:{id:"DESC"}},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;t.limit||((t={}).limit=1e4,t.order={id:"DESC"});var o=ht.stringify(t);return new Promise((function(t,i){h.get("".concat(e,"?page=").concat(n,"&").concat(o)).then((function(e){pt.collection("productos").set(e.data.data).then((function(e){t(e.data)}))}),(function(e){i(!1)}))}))},find:function(e){return new Promise((function(t,n){h.get("empresa/"+e).then((function(e){t(e.data)}))}))},create:function(e){return new Promise((function(t,n){h.post("producto",e).then(function(){var e=Object(me.a)(he.a.mark((function e(n){var o;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pt.collection("productos").add(n.data);case 2:o=e.sent,t(o.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){e.response&&t(e.response.data)}))}))},update:function(e,t){return new Promise((function(n,o){h.put("producto/"+e.empresa_id+"/"+t,e).then(function(){var e=Object(me.a)(he.a.mark((function e(t){var o;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pt.collection("productos").doc({id:t.data.id}).update(t.data);case 2:o=e.sent,n(o.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))},importadorFivip:function(e,t){return new Promise((function(n,o){h.get("producto/importar/"+e.empresa_id+"/"+e.empresa.id+"/"+t).then((function(e){n(e.data)}))}))}},Ot=function(e,t){return e.map((function(e,n){return t.concat?{text:t.concat.map((function(t){return e[t]})).join("-"),value:e[t.id],key:n,model:e}:{text:e[t.text],value:e[t.id],key:n,model:e}}))},ft=function(){var e=Object(me.a)(he.a.mark((function e(t,n,o,i){var a,c,r,l,s,d,u,j,b=arguments;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=b.length>4&&void 0!==b[4]?b[4]:null,c=b.length>5?b[5]:void 0,r=b.length>6?b[6]:void 0,console.log({searchQuery:a}),null!==i&&void 0!==i&&i.empresa_id&&(o=o+"/"+t.empresa.id),null!==i&&void 0!==i&&i.local_id&&(o=o+"/"+t.id),c)for(s=Object.keys(c).map((function(e){return r[e]})),d=0;d<s;d++)o=o+"/"+s[d];if(!("string"===typeof a&&a.length<3)){e.next=9;break}return e.abrupt("return",!1);case 9:return"string"===typeof a&&a.length>3&&(l={filter:[[n.text,"like","%"+a+"%"]]}),"object"===typeof a&&(l=a),l=a?l:null,console.log(l,a),e.next=15,vt.show(o,l);case 15:return u=e.sent,e.next=18,Ot(u,n);case 18:return j=e.sent,e.abrupt("return",j);case 20:case"end":return e.stop()}}),e)})));return function(t,n,o,i){return e.apply(this,arguments)}}(),gt=function(e,t){var n=e.model,i=e.moreRouteParams,a=e.empresaContexto,c=e.venta,r=e.setItemSelected,l=(e.width,Object(y.g)()),d=Object(o.useState)({isFetching:!1,multiple:!1,searchQuery:null,value:"",options:[]}),j=Object(u.a)(d,2),b=j[0],m=j[1],x=function(){var e=Object(me.a)(he.a.mark((function e(t,o){var r;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log({e:t},{element:o}),m({isFetching:!0}),e.next=4,ft(a,n.keys,n.endPoint,n.params,o.searchQuery,i,c);case 4:r=e.sent,m(Object(A.a)(Object(A.a)({},b),{options:r,isFetching:!1}));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),h=Object(o.useRef)(null);return Object(o.useImperativeHandle)(t,(function(){return{open:function(){setTimeout((function(){console.log(h),h.current.open()}),200)}}})),Object(v.jsx)(J.a,{id:"search_producto",ref:h,fluid:!0,selection:!0,clearable:!0,multiple:!1,search:!0,options:b.options,placeholder:"\ud83d\udd0d Buscar Producto \xf3 Servicio",onChange:function(e,t){var n=t.options.find((function(e){return e.value===t.value}));r(n)},onSearchChange:ve.a.debounce(x,1e3),loading:b.isFetching,noResultsMessage:Object(v.jsx)(s.b,{to:"/welcome/productos/create",state:{backgroundLocation:l,model:{local_id:a.id,empresa_id:a.empresa.id}},children:"Agregar Nuevo Producto \xf3 Servicio"})})},wt=Object(o.forwardRef)(gt),_t=n(30),Ct=n(29),yt=function(){function e(t,n,o,i,a,c,r,l){Object(_t.a)(this,e),this.modo=t,this.limite_detraccion=n,this.por_detraccion=o,this.por_percepcion=i,this.limite_percepcion=a,this.por_igv=c,this.decimales=r,this.total_afecto=0,this.total_inafecto=0,this.total_igv=0,this.total_isc=0,this.total_exonerado=0,this.total_descuento_lineal=0,this.total_descuento_global=0,this.total_documento=0,this.total_percepcion=0,this.total_detraccion=0,this.total_documento_fin=0,this.total_peso=0,this.editionMode=l}return Object(Ct.a)(e,[{key:"roundOff",value:function(e){var t=Math.pow(10,8);return Math.round(e*t)/t}},{key:"item",value:function(e,t){var n,o,i;if(e.afecto?(console.log("afecto"),e=this.isc(e,t),e=this.igv(e,t),(e=this.detraccion(e,t)).afecto=1):(console.log("inafecto"),(e=this.inafecto(e,t)).afecto=0),(t=Object(A.a)(Object(A.a)({},t),e)).id=void 0,this.editionMode){var a,c,r;if(t.producto_id=null===(a=e)||void 0===a?void 0:a.id,t.is_detail)t.producto_id=null===(c=t)||void 0===c||null===(r=c.producto)||void 0===r?void 0:r.id,console.log(">>>>>>>>>>>>> UPDATED >>>>>>>>>>>>>>>>>")}else{var l,s,d;if(t.producto_id=null===(l=e)||void 0===l?void 0:l.id,t.is_detail)t.producto_id=null===(s=t)||void 0===s||null===(d=s.producto)||void 0===d?void 0:d.id;console.log(">>>>>>>>>>>>> CREACION >>>>>>>>>>>>>>>>>")}return console.log(">>>>>>>>>>>>ID",t.producto_id,null===(n=t)||void 0===n||null===(o=n.producto)||void 0===o?void 0:o.id,null===(i=e)||void 0===i?void 0:i.id),t.total_impuestos=0,t.val_descuento=t.val_descuento||0,t.tipo_afecto_igv=t.tipo_afecto_igv||10,t.tipo_producto_id=e.tipo_producto_id,t.precio_unitario=e.precio_venta-e.igv,t}},{key:"isc",value:function(e,t){return t&&t.por_isc&&"venta"===this.modo?t.isc=(null===t||void 0===t?void 0:t.precio_venta)*(null===e||void 0===e?void 0:e.por_isc)/100:t.isc=0,e}},{key:"igv",value:function(e,t){return"venta"===this.modo?(t.monto_base_igv=t.precio_venta+t.isc,e.costo_venta=this.roundOff(t.precio_venta/(this.por_igv/100+1)),e.igv=e.costo_venta*(this.por_igv/100),e.por_utilidad=this.roundOff(parseFloat(e.costo_venta)/t.costo_compra*100-100)):t.monto_base_igv=t.precio_venta,e.monto_igv=1.18*t.monto_base_igv-t.monto_base_igv-(t.val_descuento-t.val_descuento/1.18),e}},{key:"inafecto",value:function(e,t){return"venta"===this.modo?(t.monto_base_igv=t.precio_venta,e.costo_venta=this.roundOff(t.precio_venta),e.igv=0,e.por_utilidad=this.roundOff(parseFloat(e.costo_venta)/t.costo_compra*100-100)):t.monto_base_igv=t.precio_venta,e.monto_igv=0,e.isc=0,e}},{key:"detraccion",value:function(e,t){return 2===e.tipo_producto_id||e.por_detraccion>0?(e.check_detraccion_amount=(this.roundOff(t.costo_venta)+this.roundOff(t.isc)+this.roundOff(t.igv))*this.roundOff(t.cantidad),1===e.tipo_producto_id?(e.detraccion=e.check_detraccion_amount*this.roundOff(e.por_detraccion/100),e):2===e.tipo_producto_id?(e.detraccion=e.check_detraccion_amount*this.roundOff(this.por_detraccion/100),e):void 0):(e.detraccion=0,e.check_detraccion_amount=0,e)}},{key:"descuentoEfectivo",value:function(e){return e.por_descuento=this.roundOff(100*e.val_descuento/(e.costo_venta+e.igv)).toFixed(2),e}},{key:"descuentoPorcentaje",value:function(e){return e.val_descuento=this.roundOff(e.por_descuento*(e.costo_venta+e.igv)/100).toFixed(2),e}},{key:"totales",value:function(e,t){this.total_afecto=0,this.total_inafecto=0,this.total_igv=0,this.total_isc=0,this.total_exonerado=0,this.total_descuento_global=t,this.total_descuento_lineal=0,this.total_documento=0,this.total_percepcion=0,this.total_detraccion=0,this.total_documento_fin=0,this.total_peso=0,this.check_detraccion_amount=0;for(var n=0;n<e.length;n++){var o,i=e[n];i.producto.afecto||i.afecto?(this.total_afecto+=this.roundOff(i.precio_unitario*parseFloat(i.cantidad)),this.total_igv+=this.roundOff(i.igv*parseFloat(i.cantidad))):(this.total_inafecto+=this.roundOff(i.precio_unitario*parseFloat(i.cantidad)),this.total_igv+=this.roundOff(i.igv*parseFloat(i.cantidad))),this.total_peso+=this.roundOff((null===i||void 0===i||null===(o=i.producto)||void 0===o?void 0:o.peso)*parseFloat(null===i||void 0===i?void 0:i.cantidad)),this.total_isc+=this.roundOff(null===i||void 0===i?void 0:i.isc)*this.roundOff(null===i||void 0===i?void 0:i.cantidad),this.check_detraccion_amount+=this.roundOff(i.check_detraccion_amount),this.total_detraccion+=this.roundOff(i.detraccion),this.total_descuento_lineal+=this.roundOff(null===i||void 0===i?void 0:i.val_descuento)*this.roundOff(null===i||void 0===i?void 0:i.cantidad)}return this.check_detraccion_amount>this.limite_detraccion||(this.total_detraccion=0),this.total_documento=this.roundOff(this.roundOff(this.total_igv)+this.roundOff(this.total_afecto)+this.roundOff(this.total_inafecto)+this.roundOff(this.total_isc)),this.por_percepcion>0?this.total_percepcion=this.total_documento*(this.roundOff(this.por_percepcion)/100):this.total_percepcion=0,this.total_documento_fin=this.total_documento+this.total_percepcion-this.roundOff(this.total_descuento_global)-this.roundOff(this.total_descuento_lineal),{total_afecto:this.total_afecto,total_inafecto:this.total_inafecto,total_igv:this.total_igv,total_isc:this.total_isc,total_exonerado:this.total_exonerado,total_descuento_lineal:this.total_descuento_lineal,total_descuento_global:this.roundOff(t),total_documento:this.total_documento,total_percepcion:this.total_percepcion,total_detraccion:this.total_detraccion,total_documento_fin:this.total_documento_fin,total_peso:this.total_peso}}}]),e}(),kt=n(11),Nt=n(268),St=n.n(Nt),At=n(133),Vt=n.n(At),Dt=function(e){var t=e.split(" ")[0].split("-");return"".concat(t[2],"/").concat(t[1],"/").concat(t[0])},Pt=function(e){return Vt()(e).format("YYYY-MM-DD")};n(169);var Tt=function(e){var t,n,o,i,a,c,r,l,s,d,u,j,b,x,h,p,O,f,g,w,_,C,y,k,N,S,V,D,P,T,F,E,I,z,R,L,B,M,G,q,H,U,Y,K,W,Q,X,Z,J,$,ee,te,ne,oe,ie,ae,ce,re,le=e.empresa,se=e.status,de=e.qrCodeBase64,ue=e.impresion,je={fontSize:"8px"},be={padding:"5"},me={padding:"2"},xe={padding:"1px"},he=function(e){return e.charAt(0).toUpperCase()+e.slice(1)};return"A4"===ue.size?Object(v.jsx)(kt.Document,{children:Object(v.jsxs)(kt.Page,{size:"A4",style:{paddingTop:"35",paddingBottom:"65",paddingHorizontal:"35",fontSize:"9px"},children:[Object(v.jsxs)(kt.View,{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"},fixed:!0,children:[Object(v.jsx)(kt.View,{children:Object(v.jsx)(kt.Image,{source:{uri:m()+"/logo/"+le.empresa.id},style:{width:"100px",maxWidth:"100px",maxHeigh:"100px"}})}),Object(v.jsxs)(kt.View,{style:{padding:"10px",fontSize:"7px"},children:[Object(v.jsx)(kt.Text,{style:me,children:null===le||void 0===le||null===(t=le.empresa)||void 0===t?void 0:t.nombre_comercial}),Object(v.jsx)(kt.Text,{style:me,children:null===le||void 0===le||null===(n=le.empresa)||void 0===n?void 0:n.direccion}),Object(v.jsxs)(kt.Text,{style:me,children:["Email: ",null===le||void 0===le||null===(o=le.empresa)||void 0===o?void 0:o.email," Tlf: ",null===le||void 0===le||null===(i=le.empresa)||void 0===i?void 0:i.telefono," ","Cel.",null===le||void 0===le||null===(a=le.empresa)||void 0===a?void 0:a.celular," "]})]}),Object(v.jsxs)(kt.View,{style:{border:"1px",padding:"10px",alignItems:"center"},children:[Object(v.jsxs)(kt.Text,{children:["RUC ",null===le||void 0===le||null===(c=le.empresa)||void 0===c?void 0:c.ruc]}),Object(v.jsx)(kt.Text,{children:null===se||void 0===se||null===(r=se.serie)||void 0===r?void 0:r.descripcion}),Object(v.jsxs)(kt.Text,{children:[null===se||void 0===se||null===(l=se.serie)||void 0===l?void 0:l.serie," ",null===se||void 0===se?void 0:se.correlativo]})]})]}),Object(v.jsxs)(kt.View,{style:{display:"flex",flexDirection:"row",alignItems:"space-between",border:"1px",padding:"5",marginTop:"5"},fixed:!0,children:[Object(v.jsxs)(kt.View,{style:{display:"flex",flexDirection:"column",justifyContent:"",minWidth:"50%",maxWidth:"50%",fontSize:"7px",alignItems:"flex-start"},children:[Object(v.jsxs)(kt.Text,{style:me,children:["Cliente: ",null===se||void 0===se||null===(s=se.cliente)||void 0===s?void 0:s.nombre_comercial]}),Object(v.jsxs)(kt.Text,{style:me,children:[1===(null===se||void 0===se||null===(d=se.cliente)||void 0===d?void 0:d.tipo_documento_identy_id)?"DNI":2===(null===se||void 0===se||null===(u=se.cliente)||void 0===u?void 0:u.tipo_documento_identy_id)?"RUC":"Documento",": ",null===se||void 0===se||null===(j=se.cliente)||void 0===j?void 0:j.numero_documento]}),Object(v.jsxs)(kt.Text,{style:me,children:["Direcci\xf3n: ",null===se||void 0===se||null===(b=se.cliente)||void 0===b?void 0:b.direccion]}),Object(v.jsxs)(kt.Text,{style:me,children:["Ubigeo: ",null===se||void 0===se||null===(x=se.cliente)||void 0===x||null===(h=x.ubigeo)||void 0===h?void 0:h.provincia," ",null===se||void 0===se||null===(p=se.cliente)||void 0===p?void 0:p.ubigeo.distrito," ",null===se||void 0===se||null===(O=se.cliente)||void 0===O?void 0:O.ubigeo.departamento]})]}),Object(v.jsxs)(kt.View,{style:{display:"flex",flexDirection:"column",justifyContent:"space-between",minWidth:"50%",maxWidth:"50%",fontSize:"7px"},children:[Object(v.jsxs)(kt.Text,{style:me,children:["Fecha Emi: ",Dt((null===se||void 0===se?void 0:se.fecha_emision)||"")]}),Object(v.jsxs)(kt.Text,{style:me,children:["Fecha Reg: ",Dt((null===se||void 0===se?void 0:se.fecha_registro)||"")]}),Object(v.jsx)(kt.Text,{style:me,children:"Condici\xf3n: Cr\xe9dito"}),Object(v.jsx)(kt.Text,{style:me,children:"\xa0"})]})]}),Object(v.jsxs)(kt.View,{style:{display:"flex",flexDirection:"row",alignItems:"space-evenly",marginTop:"5px"},fixed:!0,children:[Object(v.jsx)(kt.View,{style:Object(A.a)(Object(A.a)({},be),{width:50,borderBottom:"1px",borderLeft:"1px",borderTop:"1px"}),children:Object(v.jsx)(kt.Text,{style:Object(A.a)(Object(A.a)({},je),{textAlign:"center"}),children:"C\xf3digo"})}),Object(v.jsx)(kt.View,{style:Object(A.a)(Object(A.a)({},be),{width:310,borderBottom:"1px",borderLeft:"1px",borderTop:"1px"}),children:Object(v.jsx)(kt.Text,{style:Object(A.a)({},je),children:"Descripcion"})}),Object(v.jsx)(kt.View,{style:Object(A.a)(Object(A.a)({},be),{width:50,borderBottom:"1px",borderLeft:"1px",borderTop:"1px"}),children:Object(v.jsx)(kt.Text,{style:Object(A.a)(Object(A.a)({},je),{textAlign:"right"}),children:"Cant."})}),Object(v.jsx)(kt.View,{style:Object(A.a)(Object(A.a)({},be),{width:70,borderBottom:"1px",borderLeft:"1px",borderTop:"1px"}),children:Object(v.jsx)(kt.Text,{style:Object(A.a)(Object(A.a)({},je),{textAlign:"right"}),children:"Present."})}),Object(v.jsx)(kt.View,{style:Object(A.a)(Object(A.a)({},be),{width:70,borderBottom:"1px",borderLeft:"1px",borderTop:"1px"}),children:Object(v.jsx)(kt.Text,{style:Object(A.a)(Object(A.a)({},je),{textAlign:"right"}),children:"Precio"})}),Object(v.jsx)(kt.View,{style:Object(A.a)(Object(A.a)({},be),{width:70,borderBottom:"1px",borderLeft:"1px",borderTop:"1px",borderRight:"1px"}),children:Object(v.jsx)(kt.Text,{style:Object(A.a)(Object(A.a)({},je),{textAlign:"right"}),children:"Importe"})})]}),null===se||void 0===se?void 0:se.detalles.map((function(e,t,n){var o,i,a,c=n.length;return Object(v.jsxs)(kt.View,{style:{display:"flex",flexDirection:"row",marginBottom:"1",fontSize:"9px"},children:[Object(v.jsx)(kt.View,{style:Object(A.a)(Object(A.a)({},be),{width:50,marginTop:"-1px",borderLeft:"1px",borderBottom:c===t+1?"1px":0}),children:Object(v.jsx)(kt.Text,{style:Object(A.a)(Object(A.a)({},je),{textAlign:"center"}),children:null===e||void 0===e||null===(o=e.producto)||void 0===o?void 0:o.codigo})}),Object(v.jsx)(kt.View,{style:Object(A.a)(Object(A.a)({},be),{width:310,marginTop:"-1px",borderLeft:"1px",borderBottom:c===t+1?"1px":0}),children:Object(v.jsx)(kt.Text,{style:Object(A.a)({},je),children:null===e||void 0===e||null===(i=e.producto)||void 0===i?void 0:i.nombre})}),Object(v.jsx)(kt.View,{style:Object(A.a)(Object(A.a)({},be),{width:50,marginTop:"-1px",borderLeft:"1px",borderBottom:c===t+1?"1px":0}),children:Object(v.jsx)(kt.Text,{style:Object(A.a)(Object(A.a)({},je),{textAlign:"right"}),children:null===e||void 0===e?void 0:e.cantidad})}),Object(v.jsx)(kt.View,{style:Object(A.a)(Object(A.a)({},be),{width:70,marginTop:"-1px",borderLeft:"1px",borderBottom:c===t+1?"1px":0}),children:Object(v.jsx)(kt.Text,{style:Object(A.a)(Object(A.a)({},je),{textAlign:"right"}),children:null===e||void 0===e||null===(a=e.presentacion)||void 0===a?void 0:a.nombre})}),Object(v.jsx)(kt.View,{style:Object(A.a)(Object(A.a)({},be),{width:70,marginTop:"-1px",borderLeft:"1px",borderBottom:c===t+1?"1px":0}),children:Object(v.jsx)(kt.Text,{style:Object(A.a)(Object(A.a)({},je),{textAlign:"right"}),children:null===e||void 0===e?void 0:e.precio_unitario.toFixed(3)})}),Object(v.jsx)(kt.View,{style:Object(A.a)(Object(A.a)({},be),{width:70,marginTop:"-2px",borderLeft:"1px",borderRight:"1px",borderBottom:c===t+1?"1px":0}),children:Object(v.jsx)(kt.Text,{style:Object(A.a)(Object(A.a)({},je),{textAlign:"right"}),children:((null===e||void 0===e?void 0:e.cantidad)*(null===e||void 0===e?void 0:e.precio_unitario)).toFixed(3)})})]},t)})),Object(v.jsxs)(kt.View,{style:{display:"flex",justifyContent:"space-between",flexDirection:"row",marginBottom:"1",fontSize:"9px",padding:"10"},children:[Object(v.jsxs)(kt.View,{children:[Object(v.jsxs)(kt.Text,{style:me,children:["Son:"," ",he(St()(null===se||void 0===se?void 0:se.total_documento_fin,{lang:"es"}))," ","con 00/100 ",null===se||void 0===se||null===(f=se.moneda)||void 0===f?void 0:f.nombre.toLowerCase()]}),Object(v.jsx)(kt.Image,{source:{uri:de},style:{width:"80px",marginBottom:"10px"}}),(null===se||void 0===se?void 0:se.detalle)&&Object(v.jsx)(kt.Text,{style:me,children:"Observaci\xf3n: \n              ".concat(null===se||void 0===se?void 0:se.detalle)}),(null===se||void 0===se?void 0:se.ubigeo_partida)&&Object(v.jsx)(kt.Text,{style:me,children:"Partida: ".concat(null===se||void 0===se||null===(g=se.ubigeo_partida)||void 0===g?void 0:g.provincia," ").concat(null===se||void 0===se?void 0:se.ubigeo_partida.distrito," ").concat(null===se||void 0===se?void 0:se.ubigeo_partida.distrito," - ").concat(null===se||void 0===se?void 0:se.direccion_partida)}),(null===se||void 0===se?void 0:se.ubigeo_destino)&&Object(v.jsx)(kt.Text,{style:me,children:"Destino: ".concat(null===se||void 0===se||null===(w=se.ubigeo_destino)||void 0===w?void 0:w.provincia," ").concat(null===se||void 0===se?void 0:se.ubigeo_destino.distrito," ").concat(null===se||void 0===se?void 0:se.ubigeo_destino.distrito," - ").concat(null===se||void 0===se?void 0:se.direccion_destino)}),(null===se||void 0===se?void 0:se.transportista_id)&&Object(v.jsx)(kt.Text,{style:me,children:"Transportista:\n                Raz\xf3n Social: ".concat(null===se||void 0===se?void 0:se.transportista.nombre_comercial,"\n                Documento: ").concat(null===se||void 0===se?void 0:se.transportista.numero_documento,"\n                Tel\xe9fono ").concat(null===se||void 0===se?void 0:se.transportista.telefono)}),(null===se||void 0===se?void 0:se.vehiculo_id)&&Object(v.jsx)(kt.Text,{style:me,children:"Vehiculo:\n                Marca: ".concat(null===se||void 0===se?void 0:se.vehiculo.marca,"\n                Placa: ").concat(null===se||void 0===se?void 0:se.vehiculo.placa)}),(null===se||void 0===se?void 0:se.motivos_sunat_guia_remision)&&Object(v.jsx)(kt.Text,{style:me,children:"Motivo: ".concat(null===se||void 0===se?void 0:se.motivos_sunat_guia_remision.descripcion)}),(null===se||void 0===se?void 0:se.documento_relacion)&&(null===se||void 0===se?void 0:se.documento_relacion.map((function(e,t){return Object(v.jsx)(kt.Text,{style:me,children:"Documento Relacionado: ".concat((null===e||void 0===e?void 0:e.documento_relacion.uniqueserie).split("-")[2]," ").concat(null===e||void 0===e?void 0:e.documento_relacion.correlativo)})}))),(null===se||void 0===se?void 0:se.numero_expediente)&&Object(v.jsx)(kt.Text,{style:me,children:"Numero de Expediente: ".concat(null===se||void 0===se?void 0:se.numero_expediente)}),(null===se||void 0===se?void 0:se.orden_compra)&&Object(v.jsx)(kt.Text,{style:me,children:"Orden de Compra: ".concat(null===se||void 0===se?void 0:se.orden_compra)}),(null===se||void 0===se?void 0:se.codigo_unidad_ejecutora)&&Object(v.jsx)(kt.Text,{style:me,children:"C\xf3digo de unidad Ejecutora: ".concat(null===se||void 0===se?void 0:se.codigo_unidad_ejecutora)}),(null===se||void 0===se?void 0:se.numero_proceso_seleccion)&&Object(v.jsx)(kt.Text,{style:me,children:"Numero de Proceso de Selecci\xf3n: ".concat(null===se||void 0===se?void 0:se.numero_proceso_seleccion)}),(null===se||void 0===se?void 0:se.numero_contrato)&&Object(v.jsx)(kt.Text,{style:me,children:"Numero de Contrato: ".concat(null===se||void 0===se?void 0:se.numero_contrato)}),(null===le||void 0===le||null===(_=le.empresa)||void 0===_?void 0:_.detalle)&&Object(v.jsxs)(kt.Text,{style:me,children:[null===le||void 0===le||null===(C=le.empresa)||void 0===C?void 0:C.detalle," "]})]}),Object(v.jsxs)(kt.View,{style:{fontSize:"8px",flexDirection:"row",justifyContent:"space-between"},children:[Object(v.jsxs)(kt.View,{style:{flexDirection:"column",width:"50px"},children:[3===(null===se||void 0===se?void 0:se.tipo_operacion_id)&&Object(v.jsx)(kt.Text,{style:Object(A.a)(Object(A.a)({},me),{borderBottom:"1px"}),children:"Peso"}),Object(v.jsx)(kt.Text,{style:Object(A.a)(Object(A.a)({},me),{borderBottom:"1px"}),children:"Afecto"}),Object(v.jsx)(kt.Text,{style:Object(A.a)(Object(A.a)({},me),{borderBottom:"1px"}),children:"Inafecto"}),Object(v.jsx)(kt.Text,{style:Object(A.a)(Object(A.a)({},me),{borderBottom:"1px"}),children:"ISC"}),Object(v.jsx)(kt.Text,{style:Object(A.a)(Object(A.a)({},me),{borderBottom:"1px"}),children:"IGV"}),Object(v.jsx)(kt.Text,{style:Object(A.a)(Object(A.a)({},me),{borderBottom:"1px"}),children:"Total"}),Object(v.jsx)(kt.Text,{style:Object(A.a)(Object(A.a)({},me),{borderBottom:"1px"}),children:"Percepci\xf3n"}),Object(v.jsx)(kt.Text,{style:Object(A.a)(Object(A.a)({},me),{borderBottom:"1px"}),children:"Total"})]}),Object(v.jsxs)(kt.View,{style:{flexDirection:"column",width:"80px",textAlign:"right"},children:[3===(null===se||void 0===se?void 0:se.tipo_operacion_id)&&Object(v.jsx)(kt.Text,{style:Object(A.a)(Object(A.a)({},me),{borderBottom:"1px"}),children:null===se||void 0===se||null===(y=se.total_peso)||void 0===y?void 0:y.toFixed(3)}),Object(v.jsxs)(kt.Text,{style:Object(A.a)(Object(A.a)({},me),{borderBottom:"1px"}),children:[null===se||void 0===se||null===(k=se.moneda)||void 0===k?void 0:k.simbolo," ",null===se||void 0===se||null===(N=se.total_afecto)||void 0===N?void 0:N.toFixed(3)]}),Object(v.jsxs)(kt.Text,{style:Object(A.a)(Object(A.a)({},me),{borderBottom:"1px"}),children:[null===se||void 0===se||null===(S=se.moneda)||void 0===S?void 0:S.simbolo," ",null===se||void 0===se||null===(V=se.total_inafecto)||void 0===V?void 0:V.toFixed(3)]}),Object(v.jsxs)(kt.Text,{style:Object(A.a)(Object(A.a)({},me),{borderBottom:"1px"}),children:[null===se||void 0===se||null===(D=se.moneda)||void 0===D?void 0:D.simbolo," ",null===se||void 0===se||null===(P=se.total_isc)||void 0===P?void 0:P.toFixed(3)]}),Object(v.jsxs)(kt.Text,{style:Object(A.a)(Object(A.a)({},me),{borderBottom:"1px"}),children:[null===se||void 0===se||null===(T=se.moneda)||void 0===T?void 0:T.simbolo," ",null===se||void 0===se||null===(F=se.total_igv)||void 0===F?void 0:F.toFixed(3)]}),Object(v.jsxs)(kt.Text,{style:Object(A.a)(Object(A.a)({},me),{borderBottom:"1px"}),children:[null===se||void 0===se||null===(E=se.moneda)||void 0===E?void 0:E.simbolo," ",null===se||void 0===se||null===(I=se.total_documento)||void 0===I?void 0:I.toFixed(3)]}),Object(v.jsxs)(kt.Text,{style:Object(A.a)(Object(A.a)({},me),{borderBottom:"1px"}),children:[null===se||void 0===se||null===(z=se.moneda)||void 0===z?void 0:z.simbolo," ",null===se||void 0===se||null===(R=se.total_percepcion)||void 0===R?void 0:R.toFixed(3)]}),Object(v.jsxs)(kt.Text,{style:Object(A.a)(Object(A.a)({},me),{borderBottom:"1px"}),children:[null===se||void 0===se||null===(L=se.moneda)||void 0===L?void 0:L.simbolo," ",null===se||void 0===se||null===(B=se.total_documento_fin)||void 0===B?void 0:B.toFixed(3)]})]})]})]}),Object(v.jsxs)(kt.View,{style:{position:"absolute",fontSize:12,bottom:30,left:0,right:0,textAlign:"center",color:"grey"},fixed:!0,children:[Object(v.jsx)(kt.Text,{style:{color:"black",fontSize:"10px",top:50},render:function(e){var t=e.pageNumber,n=e.totalPages;return"".concat(t," / ").concat(n,"\n              ")}}),Object(v.jsx)(kt.Text,{style:{fontSize:"7px"},children:"Consulta este comprobante en FivipSystem.com/comprobante"}),Object(v.jsx)(kt.Image,{source:{uri:m()+"/logo/footer_fivip"},style:{width:"100px",maxWidth:"100px",maxHeigh:"100px",left:465}})]})]})}):"88mm"===ue.size?Object(v.jsx)(kt.Document,{children:Object(v.jsxs)(kt.Page,{size:[72.1,297],style:{fontSize:"3px"},children:[Object(v.jsxs)(kt.View,{style:{maxWidth:"72.1 dpi",maxHeight:"297 dpi",padding:"3px"},children:[Object(v.jsxs)(kt.View,{style:{alignItems:"center",borderBottom:"0.15px"},children:[Object(v.jsx)(kt.Image,{source:{uri:m()+"/logo/"+le.empresa.id},style:{width:"30px",maxWidth:"100px",maxHeigh:"100px"}}),Object(v.jsx)(kt.Text,{children:null===le||void 0===le||null===(M=le.empresa)||void 0===M?void 0:M.nombre_comercial}),Object(v.jsx)(kt.Text,{children:null===le||void 0===le||null===(G=le.empresa)||void 0===G?void 0:G.direccion}),Object(v.jsxs)(kt.Text,{children:["Email: ",null===le||void 0===le||null===(q=le.empresa)||void 0===q?void 0:q.email]}),Object(v.jsxs)(kt.Text,{children:["Tlf: ",null===le||void 0===le||null===(H=le.empresa)||void 0===H?void 0:H.telefono]}),Object(v.jsxs)(kt.Text,{children:["Cel: ",null===le||void 0===le||null===(U=le.empresa)||void 0===U?void 0:U.celular]}),Object(v.jsxs)(kt.Text,{children:["RUC: ",null===le||void 0===le||null===(Y=le.empresa)||void 0===Y?void 0:Y.ruc]}),Object(v.jsxs)(kt.Text,{children:["Fecha Emisi\xf3n: ",Dt(se.fecha_emision)]}),Object(v.jsxs)(kt.Text,{children:["Condici\xf3n: ",se.forma_pago.nombre]})]}),null===se||void 0===se?void 0:se.detalles.map((function(e,t,n){return Object(v.jsxs)(kt.View,{children:[Object(v.jsxs)(kt.Text,{style:{marginTop:"1px"},children:[null===e||void 0===e?void 0:e.producto.codigo," ",null===e||void 0===e?void 0:e.producto.nombre]}),Object(v.jsxs)(kt.View,{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",marginTop:"1px"},children:[Object(v.jsxs)(kt.Text,{children:["Cant. ",null===e||void 0===e?void 0:e.cantidad," ",null===e||void 0===e?void 0:e.presentacion.abbr]}),Object(v.jsxs)(kt.Text,{children:[se.moneda.simbolo," ",(null===e||void 0===e?void 0:e.monto_precio_unitario).toFixed(3)]}),Object(v.jsxs)(kt.Text,{children:[se.moneda.simbolo," ",((null===e||void 0===e?void 0:e.monto_precio_unitario)*(null===e||void 0===e?void 0:e.cantidad)).toFixed(3)]})]})]})}))]}),Object(v.jsxs)(kt.View,{style:{display:"flex",justifyContent:"space-between",flexDirection:"row",fontSize:"3px"},children:[Object(v.jsx)(kt.View,{}),Object(v.jsxs)(kt.View,{style:{fontSize:"3px",flexDirection:"row",justifyContent:"space-between"},children:[Object(v.jsxs)(kt.View,{style:{flexDirection:"column",width:"20px",fontSize:"3px"},children:[Object(v.jsx)(kt.Text,{style:xe,children:"Afecto"}),Object(v.jsx)(kt.Text,{style:xe,children:"Inafecto"}),Object(v.jsx)(kt.Text,{style:xe,children:"ISC"}),Object(v.jsx)(kt.Text,{style:xe,children:"IGV"}),Object(v.jsx)(kt.Text,{style:xe,children:"Total"}),Object(v.jsx)(kt.Text,{style:xe,children:"Percepci\xf3n"}),Object(v.jsx)(kt.Text,{style:xe,children:"Total"})]}),Object(v.jsxs)(kt.View,{style:{flexDirection:"column",width:"25px",textAlign:"right",fontSize:"3px"},children:[Object(v.jsxs)(kt.Text,{style:xe,children:[null===se||void 0===se||null===(K=se.moneda)||void 0===K?void 0:K.simbolo," ",null===se||void 0===se||null===(W=se.total_afecto)||void 0===W?void 0:W.toFixed(3)]}),Object(v.jsxs)(kt.Text,{style:xe,children:[null===se||void 0===se||null===(Q=se.moneda)||void 0===Q?void 0:Q.simbolo," ",null===se||void 0===se||null===(X=se.total_inafecto)||void 0===X?void 0:X.toFixed(3)]}),Object(v.jsxs)(kt.Text,{style:xe,children:[null===se||void 0===se||null===(Z=se.moneda)||void 0===Z?void 0:Z.simbolo," ",null===se||void 0===se||null===(J=se.total_isc)||void 0===J?void 0:J.toFixed(3)]}),Object(v.jsxs)(kt.Text,{style:xe,children:[null===se||void 0===se||null===($=se.moneda)||void 0===$?void 0:$.simbolo," ",null===se||void 0===se||null===(ee=se.total_igv)||void 0===ee?void 0:ee.toFixed(3)]}),Object(v.jsxs)(kt.Text,{style:xe,children:[null===se||void 0===se||null===(te=se.moneda)||void 0===te?void 0:te.simbolo," ",null===se||void 0===se||null===(ne=se.total_documento)||void 0===ne?void 0:ne.toFixed(3)]}),Object(v.jsxs)(kt.Text,{style:xe,children:[null===se||void 0===se||null===(oe=se.moneda)||void 0===oe?void 0:oe.simbolo," ",null===se||void 0===se||null===(ie=se.total_percepcion)||void 0===ie?void 0:ie.toFixed(3)]}),Object(v.jsxs)(kt.Text,{style:xe,children:[null===se||void 0===se||null===(ae=se.moneda)||void 0===ae?void 0:ae.simbolo," ",null===se||void 0===se||null===(ce=se.total_documento_fin)||void 0===ce?void 0:ce.toFixed(3)]})]})]})]}),Object(v.jsxs)(kt.View,{style:{alignItems:"center"},children:[Object(v.jsxs)(kt.Text,{style:me,children:["Son:"," ",he(St()(null===se||void 0===se?void 0:se.total_documento_fin,{lang:"es"}))," ","con 00/100 ",null===se||void 0===se||null===(re=se.moneda)||void 0===re?void 0:re.nombre.toLowerCase()]}),Object(v.jsx)(kt.Image,{source:{uri:de},style:{width:"18px",marginBottom:"3px"}}),(null===se||void 0===se?void 0:se.detalle)&&Object(v.jsx)(kt.Text,{style:me,children:"Observaci\xf3n: \n              ".concat(null===se||void 0===se?void 0:se.detalle)}),Object(v.jsx)(kt.Text,{style:{fontSize:"2px"},children:"Consulta este comprobante en FivipSystem.com/comprobante"}),Object(v.jsx)(kt.Image,{source:{uri:m()+"/logo/footer_fivip"},style:{width:"15px",maxWidth:"100px",maxHeigh:"100px"}})]})]})}):Object(v.jsx)(kt.Document,{children:Object(v.jsx)(kt.Page,{size:"A4",children:Object(v.jsx)(kt.Text,{children:"Contenido no disponible"})})})},Ft=n(48),Et=n(49),It=function(e){Object(Ft.a)(n,e);var t=Object(Et.a)(n);function n(){return Object(_t.a)(this,n),t.apply(this,arguments)}return Object(Ct.a)(n,[{key:"costoVenta",value:function(e){return e.precio_venta=this.roundOff(1.18*e.costo_venta).toFixed(4),e.por_utilidad=this.roundOff(e.costo_venta/e.costo_compra*100-100).toFixed(4),e.utilidad=this.roundOff(e.por_utilidad*e.costo_venta/100).toFixed(4),e.igv=18,e}},{key:"precioVenta",value:function(e){return e.costo_venta=this.roundOff(e.precio_venta/1.18).toFixed(4),e.por_utilidad=this.roundOff(e.costo_venta/e.costo_compra*100-100).toFixed(4),e.utilidad=this.roundOff(e.por_utilidad*e.costo_venta/100).toFixed(4),e.igv=18,console.log({producto:e}),e}}]),n}(yt),zt=It;var Rt={show:function(){return new Promise((function(e,t){h.get("/local").then((function(t){e(t.data)}),(function(e){t(new Error("bad request"))}))}))},find:function(e){return new Promise((function(t,n){h.get("local/"+e).then((function(e){t(e.data)}))}))},create:function(e){return new Promise((function(t,n){h.post("precio",e).then((function(e){t(e.data)})).catch((function(e){e.response&&t(e.response.data)}))}))},update:function(e,t,n){return new Promise((function(o,i){h.put("precio/"+t+"/"+n,e).then((function(e){o(e.data)}))}))},destroy:function(e,t,n){h.delete("precio/"+t+"/"+n,e).then((function(e){return e.data}))}},Lt=function(e){var t=e.editionMode,n=e.pagos,i=e.moneda,a=e.setChangeFather,c=e.total_operacion,r=Object(o.useContext)(C).empresa,l=ie().windowSize,s=Object(Xe.e)({defaultValues:{fecha_pago:(new Date).toLocaleDateString("es-CL").split("-").reverse().join("-"),total_comision:0}}),j=s.control,b=s.formState.errors,m=s.setValue,x=(0,s.watch)(),h=Object(o.useState)(0),p=Object(u.a)(h,2),O=p[0],f=p[1];Object(o.useEffect)((function(){return Object(me.a)(he.a.mark((function e(){return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.length?f(n.map((function(e,t){return e.total_pago})).reduce((function(e,t){return parseFloat(e)+parseFloat(t)}))):f(0),e.next=3,a("pago_status",O);case 3:case"end":return e.stop()}}),e)})))(),function(){return!1}}),[n,a,O]);var g=function(e){var t=["numero_operacion","fecha_pago","total_comision","total_pago","metodo_pago_id","metodo","banco_nombre","banco_id","numero_operacion"],n=[];if(parseFloat(O)+parseFloat(e.total_pago)-parseFloat(c)>.01)return d.b.error("el limite de pago ha exedido"),!1;for(var o=0;o<t.length;o++){var i=t[o];-1!==Object.keys(e).indexOf(i)&&n.push(i)}return n.length===t.length},w=function(){var e=Object(me.a)(he.a.mark((function e(t){var o;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!g(x)){e.next=22;break}return e.prev=2,(o=x).listado_banco_id=x.banco_nombre.listado_banco_id,n.push(o),e.next=8,a("pagos",n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(2),e.next=14,a("pagos",[x]);case 14:return e.next=16,m("numero_operacion",0);case 16:return e.next=18,m("fecha_pago",(new Date).toLocaleDateString("es-CL").split("-").reverse().join("-"));case 18:return e.next=20,m("total_comision",0);case 20:return e.next=22,m("total_pago",0);case 22:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(me.a)(he.a.mark((function e(t,o){return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.splice(o,1),e.next=3,a("pagos",n);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(le.a,{as:"h5",children:[Object(v.jsx)(_e.a,{name:"credit card"}),Object(v.jsx)(le.a.Content,{children:"Pagar"})]}),Object(v.jsxs)(se.a,{children:[Object(v.jsxs)(se.a.Group,{children:[t?Object(v.jsx)(xt,{model:ut.metodo_pagos,empresaContexto:r,control:j,setValue:m,width:4}):Object(v.jsx)(se.a.Input,{fluid:!0,label:"Metodo de Pago",placeholder:"Selecione",value:"",readOnly:!0,width:4}),t?Object(v.jsx)(xt,{model:ut.cuentas_bancos,empresaContexto:r,control:j,setValue:m,width:4}):Object(v.jsx)(se.a.Input,{fluid:!0,label:"Cuentas Bancos",placeholder:"Selecione",value:"",readOnly:!0,width:4}),t?Object(v.jsx)(rt,{name:"numero_operacion",title:"Numero de Operaci\xf3n",control:j,errors:b,type:"number",width:4}):Object(v.jsx)(se.a.Input,{fluid:!0,label:"Numero de Operaci\xf3n",placeholder:"Selecione",value:"",readOnly:!0,width:4})]}),Object(v.jsxs)(se.a.Group,{children:[t?Object(v.jsx)(rt,{name:"fecha_pago",title:"Fecha de Pago",control:j,errors:b,type:"date",width:4}):Object(v.jsx)(se.a.Input,{fluid:!0,label:"Fecha de Pago",placeholder:"Selecione",value:"",readOnly:!0,width:4}),t?Object(v.jsx)(rt,{name:"total_comision",title:"Comisi\xf3n",control:j,errors:b,type:"number",width:4}):Object(v.jsx)(se.a.Input,{fluid:!0,label:"Comisi\xf3n",placeholder:"Selecione",value:"",readOnly:!0,width:4}),t?Object(v.jsx)(rt,{name:"total_pago",title:"Total Pago",control:j,errors:b,type:"number",width:4}):Object(v.jsx)(se.a.Input,{fluid:!0,label:"Total Pago",placeholder:"Selecione",value:"",readOnly:!0,width:4}),Object(v.jsx)(se.a.Field,{width:3,children:Object(v.jsx)(ue.a,{as:"a",fluid:!0,color:"teal",style:{marginTop:"23px"},disabled:!t,onClick:w,children:Object(v.jsx)(ue.a.Content,{children:"Agregar Pago"})})})]})]}),Object(v.jsxs)(tt.a,{compact:!0,unstackable:!0,children:[Object(v.jsx)(tt.a.Header,{children:Object(v.jsxs)(tt.a.Row,{children:[Object(v.jsx)(tt.a.HeaderCell,{children:"Fecha"}),Object(v.jsx)(tt.a.HeaderCell,{children:"Banco"}),Object(v.jsx)(tt.a.HeaderCell,{children:"Metodo de Pago"}),l.width>700&&Object(v.jsx)(tt.a.HeaderCell,{children:"Numero de Operaci\xf3n"}),l.width>700&&Object(v.jsx)(tt.a.HeaderCell,{children:"Comisi\xf3n"}),Object(v.jsx)(tt.a.HeaderCell,{children:"Total"}),Object(v.jsx)(tt.a.HeaderCell,{children:"Acci\xf3n"})]})}),Object(v.jsxs)(tt.a.Body,{children:[null===n||void 0===n?void 0:n.map((function(e,n){var o,a,c;return Object(v.jsxs)(tt.a.Row,{children:[Object(v.jsx)(tt.a.Cell,{children:Object(v.jsx)(Re.a,{format:"DD/MM/YYYY",children:null===e||void 0===e?void 0:e.fecha_pago})}),Object(v.jsxs)(tt.a.Cell,{children:[null===e||void 0===e||null===(o=e.banco_nombre)||void 0===o?void 0:o.nombre," ****",null===e||void 0===e||null===(a=e.banco)||void 0===a?void 0:a.numero_cuenta.substr(-4)]}),Object(v.jsx)(tt.a.Cell,{children:null===e||void 0===e||null===(c=e.metodo)||void 0===c?void 0:c.nombre}),l.width>700&&Object(v.jsx)(tt.a.Cell,{children:null===e||void 0===e?void 0:e.numero_operacion}),l.width>700&&Object(v.jsxs)(tt.a.Cell,{children:[null===i||void 0===i?void 0:i.simbolo," ",Fe(Number(null===e||void 0===e?void 0:e.total_comision))," (",null===i||void 0===i?void 0:i.iso,") "]}),Object(v.jsxs)(tt.a.Cell,{children:[null===i||void 0===i?void 0:i.simbolo,Fe(Number(null===e||void 0===e?void 0:e.total_pago))]}),Object(v.jsx)(tt.a.Cell,{textAlign:"right",children:Object(v.jsx)(ue.a,{circular:!0,as:"a",size:"mini",onClick:function(e){_(e,n)},disabled:!t,icon:"trash"})})]},n)})),Object(v.jsxs)(tt.a.Row,{children:[Object(v.jsx)(tt.a.Cell,{}),Object(v.jsx)(tt.a.Cell,{}),Object(v.jsx)(tt.a.Cell,{}),l.width>700&&Object(v.jsx)(tt.a.Cell,{}),l.width>700&&Object(v.jsx)(tt.a.Cell,{}),Object(v.jsx)(tt.a.Cell,{children:Object(v.jsx)(Ie.a,{trigger:Object(v.jsxs)("b",{children:[null===i||void 0===i?void 0:i.simbolo,Fe(Number(O))," (",null===i||void 0===i?void 0:i.iso,") "]}),header:"Totales",content:Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("p",{children:["Pagado ",null===i||void 0===i?void 0:i.simbolo,Fe(Number(O))]}),Object(v.jsxs)("p",{children:["Total Operaci\xf3n ",null===i||void 0===i?void 0:i.simbolo,Fe(Number(c))," (",null===i||void 0===i?void 0:i.iso,") "]}),Object(v.jsxs)("p",{children:["Total Pendiente ",null===i||void 0===i?void 0:i.simbolo," ",Fe(c-O)," (",null===i||void 0===i?void 0:i.iso,") "]})]}),on:["hover","click"],position:"bottom center"})}),Object(v.jsx)(tt.a.Cell,{children:Object(v.jsxs)("b",{children:[null===i||void 0===i?void 0:i.simbolo," ",Fe(c||0)," (",null===i||void 0===i?void 0:i.iso,") "]})})]})]})]})]})},Bt=function(e){var t,n,o,i,a,c=e.editionMode,r=e.watcher,l=e.settingDropdowns,s=e.empresa,d=e.selected,u=e.handleChangeVenta,j=e.control,b=e.setValue,m=e.errors;return Object(v.jsxs)(se.a,{children:[Object(v.jsxs)(se.a.Group,{children:[c?Object(v.jsx)(xt,{model:l.serie,moreRouteParams:{tipo_operacion_id:null===d||void 0===d||null===(o=d.serie)||void 0===o?void 0:o.tipo_operacion_id},empresaContexto:s,control:j,venta:d,handleChangeVenta:u,setValue:b,width:4,onListenChange:function(e){var t,n=e.options,o=e.value,i=n.find((function(e,t){return e.value===o}));b("correlativo",(null===i||void 0===i||null===(t=i.model)||void 0===t?void 0:t.correlativo)||1)}}):Object(v.jsx)(se.a.Input,{fluid:!0,label:"Serie",placeholder:"Seleccione Serie",value:(null===r||void 0===r||null===(t=r.serie)||void 0===t?void 0:t.descripcion)+"-"+(null===r||void 0===r||null===(n=r.serie)||void 0===n?void 0:n.serie),readOnly:!0,width:4}),c?Object(v.jsx)(rt,{name:"correlativo",title:"Correlativo",control:j,errors:m,type:"number",width:2}):Object(v.jsx)(se.a.Input,{fluid:!0,label:"Correlativo",placeholder:"Selecione",value:null===r||void 0===r?void 0:r.correlativo,readOnly:!0,width:2})]}),Object(v.jsxs)(se.a.Group,{children:[c?Object(v.jsx)(xt,{model:l.almacen,empresaContexto:s,control:j,venta:d,handleChangeVenta:u,setValue:b,width:4}):Object(v.jsx)(se.a.Input,{fluid:!0,label:"Almacen",placeholder:"Selecione",value:null===r||void 0===r||null===(i=r.almacen)||void 0===i?void 0:i.nombre,readOnly:!0,width:4}),c?Object(v.jsx)(xt,{model:l.forma_pago,empresaContexto:s,control:j,venta:d,handleChangeVenta:u,setValue:b,width:3}):Object(v.jsx)(se.a.Input,{fluid:!0,label:"Condici\xf3n de Pago",placeholder:"Selecione",value:null===r||void 0===r||null===(a=r.forma_pago)||void 0===a?void 0:a.nombre,readOnly:!0,width:3}),c?Object(v.jsx)(rt,{name:"fecha_emision",title:"Fecha Emisi\xf3n",control:j,errors:m,type:"date",width:3}):Object(v.jsx)(se.a.Input,{fluid:!0,label:"Fecha de Emisi\xf3n",placeholder:"Selecione",value:Dt(null===r||void 0===r?void 0:r.fecha_emision),readOnly:!0,width:3}),c?Object(v.jsx)(rt,{name:"fecha_registro",title:"Fecha Registro",control:j,errors:m,type:"date",width:3}):Object(v.jsx)(se.a.Input,{fluid:!0,label:"Fecha de Registro",placeholder:"Selecione",value:Dt(null===r||void 0===r?void 0:r.fecha_registro),readOnly:!0,width:3}),c?Object(v.jsx)(xt,{model:l.moneda,empresaContexto:s,control:j,venta:d,handleChangeVenta:u,setValue:b,width:3}):Object(v.jsx)(se.a.Input,{fluid:!0,label:"Moneda",placeholder:"Selecione",value:null===r||void 0===r?void 0:r.moneda.nombre,readOnly:!0,width:3})]})]})},Mt=function(e){var t=e.openModal,n=e.setOpenModal,i=e.type,a=e.watcher,c=e.editionMode,r=e.setEditionMode,l=e.settingDropdowns,s=e.empresa,d=e.selected,u=e.handleChangeVenta,j=e.changeSerie,b=e.control,m=e.setValue,x=e.errors,h=Object(o.useContext)(oe).handleDefaultVenta;return Object(v.jsxs)(Ae.a,{size:"small",open:t,onClose:function(){return n(!1)},children:[Object(v.jsxs)(Ae.a.Content,{children:["INSERT_PRODUCT"===i&&Object(v.jsx)(se.a,{children:Object(v.jsx)(se.a.Group,{children:Object(v.jsx)(et.a,{size:"mini"})})}),"header"===i&&Object(v.jsx)(Bt,{editionMode:c,watcher:a,settingDropdowns:l,empresa:s,selected:d,handleChangeVenta:u,changeSerie:j,control:b,setValue:m,errors:x}),"item"===i&&Object(v.jsx)(Bt,{editionMode:c,watcher:a,settingDropdowns:l,empresa:s,selected:d,handleChangeVenta:u,changeSerie:j,control:b,setValue:m,errors:x})]}),Object(v.jsxs)(Ae.a.Actions,{children:[Object(v.jsx)(nt.a,{toggle:!0,checked:c,onChange:function(){r(!c)},label:"Permitir Editar"}),Object(v.jsx)(ue.a,{as:"a",onClick:function(){return h()},children:"Ajustar"}),Object(v.jsx)(ue.a,{color:"blue",onClick:function(){return n(!1)},children:"Cerrar"})]})]})},Gt=function(e){var t,n,i,a,c,r,l,s,j,b,m,x,h,p,O,f,g,w,_,C,k,N=e.control,S=e.handleSubmit,V=e.errors,D=e.setValue,P=e.reset,T=e.watcher,F=e.editionMode,E=e.setEditionMode,I=e.settingDropdowns,z=e.empresa,R=e.setEmpresa,L=e.impresion,B=e.selected,M=e.handleChangeVenta,G=e.state,q=e.formatPrint,H=e.setFormatPrint,U=Object(o.useContext)(oe),Y=U.setDocumento,K=(U.ventaDefaultContent,Object(o.useState)(!1)),W=Object(u.a)(K,2),Q=W[0],$=W[1],ee=Object(o.useState)(!1),te=Object(u.a)(ee,2),ne=te[0],ae=te[1],ce=Object(o.useState)(null),re=Object(u.a)(ce,2),le=re[0],je=re[1],be=Object(o.useState)({state:!1,id:void 0}),xe=Object(u.a)(be,2),pe=xe[0],ve=xe[1],fe=ie().windowSize,ge=Object(o.useRef)(),we=Object(o.useState)(!1),ye=Object(u.a)(we,2),ke=ye[0],Ne=ye[1],Se=Object(o.useState)([{key:0}]),Ve=Object(u.a)(Se,2),De=Ve[0],Pe=Ve[1],Te=Object(o.useState)(!1),Ee=Object(u.a)(Te,2),ze=(Ee[0],Ee[1]),Re=Object(o.useState)(!1),Le=Object(u.a)(Re,2),Be=(Le[0],Le[1]),Me=Object(o.useState)(!1),Ge=Object(u.a)(Me,2),qe=(Ge[0],Ge[1]),He=Object(o.useState)(!1),Ue=Object(u.a)(He,2),Ye=Ue[0],Ke=Ue[1],Qe=Object(o.useState)(!1),Xe=Object(u.a)(Qe,2),Ze=Xe[0],nt=Xe[1],ot=Object(o.useState)(!1),it=Object(u.a)(ot,2),at=it[0],ct=it[1],rt=Object(o.useState)(!1),lt=Object(u.a)(rt,2),st=lt[0],ut=lt[1],jt=Object(o.createRef)(),bt=Object(y.h)(),mt=Object(y.g)(),ht=Object(o.useState)({model:{precio_venta:0,cantidad:0,descuento:0}}),pt=Object(u.a)(ht,2),vt=pt[0],Ot=pt[1],ft=new yt("venta",z.empresa.limite_detraccion,z.empresa.por_detraccion,z.empresa.por_percepcion,null,18,8,T.id),gt=function(e){var t=e.productoChoose,n=e.itemSelected;return new Promise((function(e,o){t&&n&&n.model&&t.model.costo_venta&&t.model.cantidad?e({productoChoose:t,itemSelected:n}):o(!1)}))},_t=function(e){"Tab"!==e.key&&"Enter"!==e.key||(Ct(),jt.current.querySelector('[aria-selected="true"]')&&jt.current.querySelector(".clear").click(),St())},Ct=function(){var e=Object(me.a)(he.a.mark((function e(){return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ke(!0),e.next=3,gt({productoChoose:vt,itemSelected:Q}).then((function(e){var t=vt.model;t.codigo=vt.model.codigo,t.monto_igv=vt.model.igv,t.precio_unitario=vt.model.costo_venta,t.monto_precio_unitario=vt.model.costo_venta,t.producto={id:Q.model.id,nombre:Q.model.nombre,peso:Q.model.peso,afecto:Q.model.afecto},t.precios.length||Be(!0);var n=T.detalles||[];n.push(t),D("detalles",n),kt(T.detalles),ct(!1),Ke(!1),Pe(!1),Ot({model:{precio_venta:0,cantidad:0,descuento:0}})}),(function(e){d.b.error("complete el formulario de ingreso de producto"),Ke(!1)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),kt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=ft.totales(e,t);Object.keys(n).map((function(e){return D(e,n[e]),e}))},Nt=function(e,t){console.log(e,t);var n=T.detalles,o=T.detalles[t];"cantidad"===e.name&&(o.cantidad=e.value||void 0),"precio_venta"===e.name&&(n[t].precio_venta=e.value||void 0),o.is_detail=!0;var i=ft.item(n[t],o);console.log(i),n[t]=i,D("detalles",n),kt(n,0)},St=function(){ge.current.open()},At=function(e,t){if(!t)return!1;"precio_venta"===t.name&&(vt||vt.model||(vt.model.cantidad=0));var n={};n[t.name]=t.value;var o=Object(A.a)(Object(A.a)({},vt.model),n),i=ft.item(Q.model,o),a=vt;a.model=i,Ot(Object(A.a)({},a))},Vt=function(){var e;if(null===(e=mt.state)||void 0===e||!e.backgroundLocation)return Ne(!1),!1;bt(mt.state.backgroundLocation.pathname,{state:{reload:{ventas:!0}}})},Dt=function(){D("correlativo",parseFloat(null===T||void 0===T?void 0:T.correlativo)+1),D("detalles",[]),D("pagos",[]),D("total_afecto",0),D("total_descuento_global",0),D("total_descuento_lineal",0),D("total_detraccion",0),D("total_documento",0),D("total_documento_fin",0),D("total_exonerado",0),D("total_igv",0),D("total_inafecto",0),D("total_isc",0),D("total_percepcion",0),D("total_peso",0)},Pt=function(){var e=Object(me.a)(he.a.mark((function e(t){var n,o;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!t.id){e.next=24;break}return Ne(!0),e.next=4,d.b.promise(We.update(t,t.id),{pending:"Actualizando...",success:"Documento Actualizado \ud83d\udc4c",error:"Error de documento \ud83e\udd2f"});case 4:if(n=e.sent,G){e.next=20;break}if(M(t),z.empresa.id!==n.id){e.next=16;break}return z.empresa=n,e.next=11,R(z);case 11:return e.next=13,Ne(!1);case 13:Vt(),e.next=18;break;case 16:Vt(),Ne(!1);case 18:e.next=21;break;case 20:Ne(!1);case 21:null!==L&&void 0!==L&&L.after_save&&H({status:!(null!==q&&void 0!==q&&q.status),from:"update"}),e.next=30;break;case 24:return e.next=26,d.b.promise(We.create(t),{pending:"Guardando...",success:"Documento Guardado \ud83d\udc4c",error:"Error de documento \ud83e\udd2f"});case 26:return o=e.sent,Ne(!1),null!==o&&void 0!==o&&o.errors?(null!==G&&void 0!==G&&G.id&&M(t),qe(dt(o))):(null!==L&&void 0!==L&&L.after_save?H({status:!(null!==q&&void 0!==q&&q.status),from:"create"}):Dt(),qe(null),Vt()),e.abrupt("return",o);case 30:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(o.useEffect)((function(){if(Q){var e,t=null===Q||void 0===Q||null===(e=Q.model)||void 0===e?void 0:e.precios.map((function(e,t){var n;return{key:t,text:null===e||void 0===e||null===(n=e.presentacion)||void 0===n?void 0:n.abbr,value:null===e||void 0===e?void 0:e.id,model:e}}));Pe(t),ct(!0)}return function(){Pe(!1)}}),[Q]),Object(o.useEffect)((function(){B&&setTimeout((function(){var e;H({status:!1});var t=null===(e=document)||void 0===e?void 0:e.querySelector("canvas");ze(null===t||void 0===t?void 0:t.toDataURL("image/jpg",.3)),Y(B),console.log(null===t||void 0===t?void 0:t.toDataURL("image/jpg",.3))}),500)}),[]),Object(v.jsx)(Oe.a,{style:{marginTop:"1vh"},children:Object(v.jsxs)(se.a,{onSubmit:S(Pt),noValidate:!0,children:[Object(v.jsxs)(X.a,{children:[Object(v.jsx)(X.a.Row,{style:{marginTop:-6},children:Object(v.jsx)(X.a.Column,{children:Object(v.jsx)("span",{class:"ui card fluid",onClick:function(){!function(e){je(e),ae(!0)}("header")},children:Object(v.jsxs)("div",{class:"content",children:[Object(v.jsx)("div",{class:"header",children:null!==T&&void 0!==T&&null!==(t=T.serie)&&void 0!==t&&t.serie&&null!==T&&void 0!==T&&T.correlativo?Object(v.jsxs)("span",{children:[null===T||void 0===T||null===(n=T.serie)||void 0===n?void 0:n.descripcion," ",null===T||void 0===T||null===(i=T.serie)||void 0===i?void 0:i.serie," ",null===T||void 0===T?void 0:T.correlativo]}):Object(v.jsx)("span",{children:"\ud83d\udc46 Seleccione Documento y Serie"})}),Object(v.jsxs)("div",{class:"meta",children:[" ",null===T||void 0===T||null===(a=T.forma_pago)||void 0===a?void 0:a.nombre]})]})})})}),Object(v.jsx)(X.a.Row,{style:{marginTop:-23},children:Object(v.jsx)(X.a.Column,{children:F?Object(v.jsx)(xt,{model:I.clientes,empresaContexto:z,control:N,venta:B,handleChangeVenta:M,setValue:D,width:16}):Object(v.jsx)(se.a.Input,{fluid:!0,label:"Cliente",placeholder:"Selecione",value:null===T||void 0===T||null===(c=T.cliente)||void 0===c?void 0:c.nombre,readOnly:!0,width:16})})}),F&&Object(v.jsx)(X.a.Row,{style:{marginTop:-20},children:Object(v.jsxs)(X.a.Column,{width:16,children:[Object(v.jsx)("div",{class:"ui form",children:Object(v.jsx)("div",{class:"fields",children:Object(v.jsx)("div",{class:"field w-full",children:Object(v.jsx)(wt,{empresaContexto:z,model:I.producto,setItemSelected:$,ref:ge})})})}),!!at&&Object(v.jsxs)(Ae.a,{size:"mini",open:!0,onClose:function(){return ct(!1)},children:[Object(v.jsx)(Ae.a.Header,{children:Q.text}),Object(v.jsx)(Ae.a.Content,{children:Object(v.jsxs)(se.a,{children:[Object(v.jsx)(se.a.Field,{width:16,children:Object(v.jsx)($e.a,{innerRef:jt,children:Object(v.jsx)(J.a,{fluid:!0,clearable:!0,options:De,onChange:function(e,t){var n,o=null===t||void 0===t||null===(n=t.options)||void 0===n?void 0:n.find((function(e){return(null===t||void 0===t?void 0:t.value)===e.value}));Ot(o)},selection:!0})})}),Object(v.jsx)(se.a.Field,{width:16,children:Object(v.jsx)(Ie.a,{content:"Precio de Venta (Con IGV Incluido)",trigger:Object(v.jsx)(et.a,{label:null!==vt&&void 0!==vt&&null!==(r=vt.model)&&void 0!==r&&r.val_descuento?{tag:!0,content:Fe((null===vt||void 0===vt||null===(l=vt.model)||void 0===l?void 0:l.precio_venta)-(null===vt||void 0===vt||null===(s=vt.model)||void 0===s?void 0:s.val_descuento)),color:"teal"}:{icon:"money"},labelPosition:null!==vt&&void 0!==vt&&null!==(j=vt.model)&&void 0!==j&&j.val_descuento?"right":"right corner",type:"number",name:"precio_venta",value:null===vt||void 0===vt||null===(b=vt.model)||void 0===b?void 0:b.precio_venta,onChange:At,placeholder:"Precio"})})}),Object(v.jsx)(se.a.Field,{width:16,children:Object(v.jsx)(Ie.a,{content:"Cantidad de Items",trigger:Object(v.jsx)(et.a,{label:{icon:"boxes"},labelPosition:"right corner",type:"number",name:"cantidad",value:null===vt||void 0===vt||null===(m=vt.model)||void 0===m?void 0:m.cantidad,placeholder:"Cantidad",onChange:At})})}),Object(v.jsx)(se.a.Field,{width:16,children:Object(v.jsx)(Ie.a,{content:"Descuento en ".concat(Ze?"Porcentaje":"Efectivo"),trigger:Object(v.jsx)("div",{children:Ze?Object(v.jsxs)(et.a,{type:"number",name:"por_descuento",value:null===vt||void 0===vt||null===(x=vt.model)||void 0===x?void 0:x.por_descuento,placeholder:"Descuento Porcentaje",onChange:function(e,t){var n=t.name,o=t.value,i={};i[n]=Number(o);var a=Object(A.a)(Object(A.a)({},vt.model),i),c=Object(A.a)(Object(A.a)({},Q.model),a),r=ft.descuentoPorcentaje(c),l=vt;l.model=r,l.model=Object(A.a)(Object(A.a)({},l.model),i),Ot(Object(A.a)({},l))},onKeyDown:_t,children:[Object(v.jsx)("input",{}),Object(v.jsx)(ue.a,{icon:"percent",style:{marginLeft:"10px"},onClick:function(e){e.preventDefault(),nt(!Ze)}})]}):Object(v.jsxs)(et.a,{type:"number",name:"val_descuento",value:null===vt||void 0===vt||null===(h=vt.model)||void 0===h?void 0:h.val_descuento,placeholder:"Descuento Valor",onChange:function(e,t){var n=t.name,o=t.value,i={};i[n]=Number(o);var a=Object(A.a)(Object(A.a)({},vt.model),i),c=Object(A.a)(Object(A.a)({},Q.model),a),r=ft.descuentoEfectivo(c),l=vt;l.model=r,l.model=Object(A.a)(Object(A.a)({},l.model),i),Ot(Object(A.a)({},l))},onKeyDown:_t,children:[Object(v.jsx)("input",{}),Object(v.jsx)(ue.a,{icon:"money",style:{marginLeft:"10px"},onClick:function(e){e.preventDefault(),nt(!Ze)}})]})})})})]})}),Object(v.jsxs)(Ae.a.Actions,{children:[Object(v.jsx)(ue.a,{primary:!0,onClick:Ct,disabled:Ye,children:"Agregar"}),Object(v.jsx)(ue.a,{as:"a",onClick:function(){return ve({state:!1,id:void 0})},children:"Cerrar"})]})]})]})}),!!st&&Object(v.jsx)(Ae.a,{size:"mini",open:!0,onClose:function(){return ut(!1)},children:Object(v.jsxs)(Ae.a.Content,{children:[Object(v.jsx)(Lt,{editionMode:F,pagos:T.pagos,moneda:T.moneda,setChangeFather:D,total_operacion:T.total_documento_fin}),Object(v.jsx)(ue.a,{primary:!0,onClick:function(){return ut(!1)},children:"Cerrar"})]})}),Object(v.jsx)(X.a.Row,{style:{marginBottom:"15vh",marginTop:-20},children:Object(v.jsx)(X.a.Column,{children:Object(v.jsx)(tt.a,{unstackable:!0,children:Object(v.jsx)(tt.a.Body,{children:null===T||void 0===T||null===(p=T.detalles)||void 0===p?void 0:p.map((function(e,t){return Object(v.jsxs)(tt.a.Row,{children:[Object(v.jsx)(tt.a.Cell,{width:8,children:e.producto.nombre}),Object(v.jsx)(tt.a.Cell,{width:3,textAlign:"right",children:Object(v.jsxs)(Ce.a,{basic:!0,size:"tiny",children:[e.cantidad," X ",T.moneda.simbolo,e.precio_venta]})}),Object(v.jsxs)(tt.a.Cell,{width:5,textAlign:"right",children:[pe.state&&pe.id===t&&Object(v.jsxs)(Ae.a,{size:"mini",open:!0,onClose:function(){return ve({state:!1,id:void 0})},children:[Object(v.jsx)(Ae.a.Header,{children:e.producto.nombre}),Object(v.jsx)(Ae.a.Content,{children:Object(v.jsx)(se.a,{children:Object(v.jsx)("form",{class:"ui form",children:Object(v.jsxs)("div",{class:"unstackable two fields",children:[Object(v.jsxs)("div",{class:"field",children:[Object(v.jsx)("label",{children:"Cantidad"}),Object(v.jsx)("div",{class:"ui input",children:Object(v.jsx)(et.a,{placeholder:"Cantidad",value:null===e||void 0===e?void 0:e.cantidad,onChange:function(e,n){return Nt(n,t)},name:"cantidad",disabled:!F})})]}),Object(v.jsxs)("div",{class:"field",children:[Object(v.jsx)("label",{children:"Precio de Venta"}),Object(v.jsx)("div",{class:"ui input",children:e.val_descuento?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("s",{children:e.precio_venta?Fe(Number(null===e||void 0===e?void 0:e.precio_venta)):(0).toFixed(2)}),Object(v.jsx)("span",{style:{marginLeft:"10px"},children:e.precio_venta?Fe(Number((null===e||void 0===e?void 0:e.precio_venta)-e.val_descuento)):(0).toFixed(2)})]}):null!==e.precio_venta?Object(v.jsx)(et.a,{value:e.precio_venta,onChange:function(e,n){return Nt(n,t)},name:"precio_venta",disabled:!F}):(0).toFixed(2)})]})]})})})}),Object(v.jsx)(Ae.a.Actions,{children:Object(v.jsx)(ue.a,{onClick:function(){return ve({state:!1,id:void 0})},children:"Cerrar"})})]}),Object(v.jsx)(ue.a,{disabled:!F,icon:!0,size:"mini",onClick:function(){var e=Object(me.a)(he.a.mark((function e(n){return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,ve({state:!0,id:t});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:Object(v.jsx)(_e.a,{name:"pencil"})}),Object(v.jsx)(ue.a,{icon:!0,size:"mini",onClick:function(){!function(e){var t=T.detalles;t.splice(e,1),D("detalles",t),kt(T.detalles,T.total_descuento_global)}(t)},disabled:!F,children:Object(v.jsx)(_e.a,{name:"trash"})})]})]},t)}))})})})}),Object(v.jsx)(X.a.Row,{children:Object(v.jsx)(de.a,{className:"hidden",style:{marginBottom:"20vh"},children:Object(v.jsx)(Je.a,{value:"http://fivip.net/comprobante/".concat(z.empresa.ruc,"/").concat(null===T||void 0===T||null===(O=T.serie)||void 0===O?void 0:O.id,"/").concat(null===T||void 0===T||null===(f=T.serie)||void 0===f?void 0:f.serie,"/").concat(null===T||void 0===T?void 0:T.correlativo)})})})]}),Object(v.jsx)(Mt,{openModal:ne,setOpenModal:ae,type:le,control:N,handleSubmit:S,errors:V,setValue:D,reset:P,watcher:T,editionMode:F,setEditionMode:E,settingDropdowns:I,empresa:z,selected:B,handleChangeVenta:M}),fe.height>480&&Object(v.jsx)(Z.a,{vertical:!0,fixed:"bottom",fluid:!0,children:Object(v.jsx)(tt.a,{striped:!0,unstackable:!0,size:"small",color:"blue",children:Object(v.jsxs)(tt.a.Body,{children:[Object(v.jsxs)(tt.a.Row,{children:[Object(v.jsxs)(tt.a.Cell,{width:5,children:[Object(v.jsx)("p",{children:"IGV 18%"}),Object(v.jsx)("p",{children:"Total Documento"})]}),Object(v.jsx)(tt.a.Cell,{width:6,textAlign:"center"}),Object(v.jsxs)(tt.a.Cell,{width:5,textAlign:"right",children:[Object(v.jsxs)("p",{children:[null===T||void 0===T||null===(g=T.moneda)||void 0===g?void 0:g.simbolo," ",Fe(null===T||void 0===T?void 0:T.total_igv)," (",null===T||void 0===T||null===(w=T.moneda)||void 0===w?void 0:w.iso,") "]}),Object(v.jsxs)("p",{children:[null===T||void 0===T||null===(_=T.moneda)||void 0===_?void 0:_.simbolo," ",Fe(null===T||void 0===T?void 0:T.total_documento)," (",null===T||void 0===T||null===(C=T.moneda)||void 0===C?void 0:C.iso,") "]})]})]}),Object(v.jsxs)(tt.a.Row,{children:[Object(v.jsx)(tt.a.Cell,{}),Object(v.jsx)(tt.a.Cell,{textAlign:"center",children:Object(v.jsx)(ue.a,{loading:ke,disabled:ke,content:"Guardar",primary:!0,fluid:!0})}),Object(v.jsx)(tt.a.Cell,{textAlign:"right",children:1===T.tipo_operacion_id&&Object(v.jsx)(ue.a,{as:"a",floated:"right",icon:"money",content:(null===T||void 0===T||null===(k=T.moneda)||void 0===k?void 0:k.simbolo)+Fe(T.total_documento_fin-T.pago_status),color:1===T.forma_pago_id?"":T.pago_status<T.total_documento_fin?"orange":T.pago_status===T.total_documento_fin?"":"blue",onClick:function(){return ut(!0)}})})]})]})})})]})})},qt=function(e){var t,n,i,a,c,r,l,s,j,b,m,x,h,p,O,f,g,w,_,k,N,S,V,D,P,T,F,E,I,z,R,L,B,M,G,q,H,U,Y,K,W,Q,$,ee,te,ne,ae,ce,re,be,xe,pe,ve,Oe,fe,ge=e.loading,we=e.selected,Ce=e.handleChangeVenta,ye=e.editionMode,ke=e.setEditionMode,Ne=e.state,Se=e.formatPrint,Ae=e.setFormatPrint,Ve=(e.response,Object(o.createRef)()),De=Object(y.h)(),Pe=Object(y.g)(),Te=ie().windowSize,Ee=Object(o.useContext)(C),ze=Ee.empresa,Re=Ee.setEmpresa,Le=Ee.impresion,Me=Object(o.useContext)(oe),Ge=Me.setDocumento,qe=Me.ventaDefaultContent,He=Object(o.useState)(!1),Ue=Object(u.a)(He,2),Ye=Ue[0],Ke=Ue[1],Qe=Object(o.useState)(!1),Ze=Object(u.a)(Qe,2),ct=Ze[0],lt=Ze[1],jt=Object(o.useState)(!1),bt=Object(u.a)(jt,2),mt=bt[0],ht=bt[1],pt=Object(o.useState)(!1),vt=Object(u.a)(pt,2),Ot=vt[0],ft=vt[1],gt=Object(o.useState)(!1),_t=Object(u.a)(gt,2),Ct=_t[0],Nt=_t[1],St=Object(o.useState)(2),At=Object(u.a)(St,2),Vt=At[0],Pt=At[1],Ft=Object(o.useState)(!1),Et=Object(u.a)(Ft,2),It=Et[0],Bt=Et[1],Mt=Object(o.useState)(!1),qt=Object(u.a)(Mt,2),Ht=qt[0],Ut=qt[1],Yt=Object(o.useState)(!1),Kt=Object(u.a)(Yt,2),Wt=Kt[0],Qt=Kt[1],Xt=Object(o.useState)(null),Zt=Object(u.a)(Xt,2),Jt=(Zt[0],Zt[1]),$t=Object(o.useState)(!1),en=Object(u.a)($t,2),tn=en[0],nn=en[1],on=Object(o.useState)([{key:0}]),an=Object(u.a)(on,2),cn=an[0],rn=an[1],ln=Object(o.useState)({model:{precio_venta:0,cantidad:0,descuento:0}}),sn=Object(u.a)(ln,2),dn=sn[0],un=sn[1],jn=Object(o.useState)([]),bn=Object(u.a)(jn,2),mn=(bn[0],bn[1],Object(o.useRef)(null),function(){var e=Object(me.a)(he.a.mark((function e(t,n){var o,i,a;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(o=_n.detalles[_n.detalles.length-1]).moneda_id=_n.moneda_id,o.costo_compra=o.precio_compra,i=Cn.precioVenta(o),e.next=6,Rt.create(i);case 6:a=e.sent,console.log({create:a}),Qt(!1);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),xn=function(e,t){var n=t.index,o=Vt.activeIndex;Pt(o===n?-1:n)};we||(we=Ne?Object(A.a)(Object(A.a)({},Ne),qe):{serie:{tipo_operacion_id:1},tipo_operacion_id:1,detalles:[],documento_relacion_search:void 0,documento_relacion_search_id:void 0});var hn=Object(Xe.e)({resolver:Object(at.a)(st),defaultValues:Object(A.a)({},we)||Ne.model}),pn=hn.control,vn=hn.handleSubmit,On=hn.formState.errors,fn=hn.setValue,gn=hn.reset,wn=hn.watch,_n=wn();Object(o.useEffect)((function(){var e=wn((function(e){Ge(e)}));return function(){return e.unsubscribe()}}),[wn,Ge]);var Cn=new zt,yn=new yt("venta",ze.empresa.limite_detraccion,ze.empresa.por_detraccion,ze.empresa.por_percepcion,null,18,8,_n.id);Object(o.useEffect)((function(){var e,t=null===tn||void 0===tn||null===(e=tn.model)||void 0===e?void 0:e.precios.map((function(e,t){var n;return{key:t,text:null===e||void 0===e||null===(n=e.presentacion)||void 0===n?void 0:n.abbr,value:null===e||void 0===e?void 0:e.id,model:e}}));return rn(t),function(){rn(!1)}}),[tn]),Object(o.useEffect)((function(){return we&&setTimeout((function(){var e;Ae({status:!1});var t=null===(e=document)||void 0===e?void 0:e.querySelector("canvas");console.log(t),Nt(null===t||void 0===t?void 0:t.toDataURL("image/jpg",.3)),Jt(we),Ge(we),console.log(null===t||void 0===t?void 0:t.toDataURL("image/jpg",.3))}),500),function(){Jt(!1)}}),[]);var kn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=yn.totales(e,t);Object.keys(n).map((function(e){return fn(e,n[e]),e}))},Nn=function(e){var t=e.productoChoose,n=e.itemSelected;return new Promise((function(e,o){t&&n&&n.model&&t.model.costo_venta&&t.model.cantidad?e({productoChoose:t,itemSelected:n}):o(!1)}))},Sn=function(e){"Tab"!==e.key&&"Enter"!==e.key||(An(),Ve.current.querySelector('[aria-selected="true"]')&&Ve.current.querySelector(".clear").click(),En.current.open())},An=function(){var e=Object(me.a)(he.a.mark((function e(){return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ft(!0),e.next=3,Nn({productoChoose:dn,itemSelected:tn}).then((function(e){var t=dn.model;t.codigo=dn.model.codigo,t.monto_igv=dn.model.igv,t.precio_unitario=dn.model.costo_venta,t.monto_precio_unitario=dn.model.costo_venta,t.producto={id:tn.model.id,nombre:tn.model.nombre,peso:tn.model.peso,afecto:tn.model.afecto},t.precios.length||Qt(!0);var n=_n.detalles||[];n.push(t),fn("detalles",n),kn(_n.detalles),ft(!1),un({model:{precio_venta:0,cantidad:0,descuento:0}})}),(function(e){d.b.error("complete el formulario de ingreso de producto"),ft(!1)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Vn=function(){var e;if(null===(e=Pe.state)||void 0===e||!e.backgroundLocation)return Ke(!1),!1;De(Pe.state.backgroundLocation.pathname,{state:{reload:{ventas:!0}}})},Dn=function(e,t){if(!t)return!1;"precio_venta"===t.name&&(dn||dn.model||(dn.model.cantidad=0));var n={};n[t.name]=t.value;var o=Object(A.a)(Object(A.a)({},dn.model),n),i=yn.item(tn.model,o),a=dn;a.model=i,un(Object(A.a)({},a))},Pn=function(){fn("correlativo",parseFloat(null===_n||void 0===_n?void 0:_n.correlativo)+1),fn("detalles",[]),fn("pagos",[]),fn("detalle",!1),fn("vendedor_id",void 0),fn("total_afecto",0),fn("total_descuento_global",0),fn("total_descuento_lineal",0),fn("total_detraccion",0),fn("total_documento",0),fn("total_documento_fin",0),fn("total_exonerado",0),fn("total_igv",0),fn("total_inafecto",0),fn("total_isc",0),fn("total_percepcion",0),fn("total_peso",0)},Tn=function(){var e=Object(me.a)(he.a.mark((function e(t){var n,o;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!t.id){e.next=24;break}return Ke(!0),e.next=4,d.b.promise(We.update(t,t.id),{pending:"Actualizando...",success:"Documento Actualizado \ud83d\udc4c",error:"Error de documento \ud83e\udd2f"});case 4:if(n=e.sent,Ne){e.next=20;break}if(Ce(t),ze.empresa.id!==n.id){e.next=16;break}return ze.empresa=n,e.next=11,Re(ze);case 11:return e.next=13,Ke(!1);case 13:Vn(),e.next=18;break;case 16:Vn(),Ke(!1);case 18:e.next=21;break;case 20:Ke(!1);case 21:null!==Le&&void 0!==Le&&Le.after_save&&Ae({status:!(null!==Se&&void 0!==Se&&Se.status),from:"update"}),e.next=30;break;case 24:return e.next=26,d.b.promise(We.create(t),{pending:"Guardando...",success:"Documento Guardado \ud83d\udc4c",error:"Error de documento \ud83e\udd2f"});case 26:return o=e.sent,Ke(!1),null!==o&&void 0!==o&&o.errors?(null!==Ne&&void 0!==Ne&&Ne.id&&Ce(t),lt(dt(o))):(null!==Le&&void 0!==Le&&Le.after_save?Ae({status:!(null!==Se&&void 0!==Se&&Se.status),from:"create"}):Pn(),lt(null),Vn()),e.abrupt("return",o);case 30:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Fn=function(e,t){console.log(e,t);var n=_n.detalles,o=_n.detalles[t];"cantidad"===e.name&&(o.cantidad=e.value||void 0),"precio_venta"===e.name&&(n[t].precio_venta=e.value||void 0),o.is_detail=!0;var i=yn.item(n[t],o);console.log(i),n[t]=i,fn("detalles",n),kn(n,0)},En=Object(o.useRef)();return Object(v.jsx)("div",{style:Pe.pathname.search("/space/ventas/")?{overflowY:"scroll",height:"84vh",marginTop:"1vh"}:{overflowY:"scroll",height:"95vh",marginTop:"1vh"},children:!Se||null!==Se&&void 0!==Se&&Se.status?Object(v.jsxs)(v.Fragment,{children:[Te.width>700&&Object(v.jsx)(kt.PDFViewer,{style:{width:"100%",height:"74vh"},children:Object(v.jsx)(Tt,{empresa:ze,status:_n,qrCodeBase64:Ct,impresion:Le})}),Te.width<699&&Object(v.jsx)(kt.PDFViewer,{style:{width:"100%",height:"74vh"},children:Object(v.jsx)(Tt,{empresa:ze,status:_n,qrCodeBase64:Ct,impresion:Le})}),Object(v.jsx)(kt.PDFDownloadLink,{document:Object(v.jsx)(Tt,{empresa:ze,status:_n,qrCodeBase64:Ct,impresion:Le}),className:"button ui primary fluid",fileName:"".concat(ze.empresa.ruc,"-").concat(null===(Oe=_n.serie)||void 0===Oe?void 0:Oe.sunat_codigo,"-").concat(null===(fe=_n.serie)||void 0===fe?void 0:fe.serie,"-").concat(_n.correlativo,".pdf"),children:"Descargar"}),Object(v.jsxs)(ue.a,{style:{marginTop:"5px"},basic:!0,fluid:!0,onClick:function(){"create"===Se.from?(Ae({status:!1}),Pn()):Ae({status:!1})},children:[" ","Cerrar"]})]}):Object(v.jsxs)(v.Fragment,{children:[Te.width>700&&Object(v.jsxs)(se.a,{onSubmit:vn(Tn),noValidate:!0,children:[Object(v.jsxs)(de.a,{loading:ge,children:[Object(v.jsxs)(se.a.Group,{widths:3,children:[ye?Object(v.jsx)(xt,{model:ut.serie,moreRouteParams:{tipo_operacion_id:null===(i=we)||void 0===i||null===(a=i.serie)||void 0===a?void 0:a.tipo_operacion_id},empresaContexto:ze,control:pn,venta:we,handleChangeVenta:Ce,setValue:fn,width:4,onListenChange:function(e){var t,n=e.options,o=e.value,i=n.find((function(e,t){return e.value===o}));fn("correlativo",(null===i||void 0===i||null===(t=i.model)||void 0===t?void 0:t.correlativo)||1)}}):Object(v.jsx)(se.a.Input,{fluid:!0,label:"Serie",placeholder:"Seleccione Serie",value:(null===_n||void 0===_n||null===(t=_n.serie)||void 0===t?void 0:t.descripcion)+"-"+(null===_n||void 0===_n||null===(n=_n.serie)||void 0===n?void 0:n.serie),readOnly:!0,width:4}),ye?Object(v.jsx)(rt,{name:"correlativo",title:"Correlativo",control:pn,errors:On,type:"number",width:2}):Object(v.jsx)(se.a.Input,{fluid:!0,label:"Correlativo",placeholder:"Selecione",value:null===_n||void 0===_n?void 0:_n.correlativo,readOnly:!0,width:2}),ye?Object(v.jsx)(xt,{model:ut.clientes,empresaContexto:ze,control:pn,venta:we,handleChangeVenta:Ce,setValue:fn,width:10}):Object(v.jsx)(se.a.Input,{fluid:!0,label:"Cliente",placeholder:"Selecione",value:null===_n||void 0===_n||null===(c=_n.cliente)||void 0===c?void 0:c.nombre,readOnly:!0,width:10})]}),Object(v.jsxs)(se.a.Group,{children:[ye?Object(v.jsx)(xt,{model:ut.almacen,empresaContexto:ze,control:pn,venta:we,handleChangeVenta:Ce,setValue:fn,width:4}):Object(v.jsx)(se.a.Input,{fluid:!0,label:"Almacen",placeholder:"Selecione",value:null===_n||void 0===_n||null===(r=_n.almacen)||void 0===r?void 0:r.nombre,readOnly:!0,width:4}),ye?Object(v.jsx)(xt,{model:ut.forma_pago,empresaContexto:ze,control:pn,venta:we,handleChangeVenta:Ce,setValue:fn,width:3}):Object(v.jsx)(se.a.Input,{fluid:!0,label:"Condici\xf3n de Pago",placeholder:"Selecione",value:null===_n||void 0===_n||null===(l=_n.forma_pago)||void 0===l?void 0:l.nombre,readOnly:!0,width:3}),ye?Object(v.jsx)(rt,{name:"fecha_emision",title:"Fecha Emisi\xf3n",control:pn,errors:On,type:"date",width:3}):Object(v.jsx)(se.a.Input,{fluid:!0,label:"Fecha de Emisi\xf3n",placeholder:"Selecione",value:Dt(null===_n||void 0===_n?void 0:_n.fecha_emision),readOnly:!0,width:3}),ye?Object(v.jsx)(rt,{name:"fecha_registro",title:"Fecha Registro",control:pn,errors:On,type:"date",width:3}):Object(v.jsx)(se.a.Input,{fluid:!0,label:"Fecha de Registro",placeholder:"Selecione",value:Dt(null===_n||void 0===_n?void 0:_n.fecha_registro),readOnly:!0,width:3}),ye?Object(v.jsx)(xt,{model:ut.moneda,empresaContexto:ze,control:pn,venta:we,handleChangeVenta:Ce,setValue:fn,width:3}):Object(v.jsx)(se.a.Input,{fluid:!0,label:"Moneda",placeholder:"Selecione",value:null===_n||void 0===_n?void 0:_n.moneda.nombre,readOnly:!0,width:3})]}),ye&&Object(v.jsxs)(se.a.Group,{children:[Object(v.jsx)(se.a.Field,{width:6,children:Object(v.jsx)(wt,{empresaContexto:ze,model:ut.producto,setItemSelected:nn,ref:En})}),Object(v.jsx)(se.a.Field,{width:2,children:Object(v.jsx)($e.a,{innerRef:Ve,children:Object(v.jsx)(J.a,{fluid:!0,clearable:!0,options:cn,onChange:function(e,t){var n,o=null===t||void 0===t||null===(n=t.options)||void 0===n?void 0:n.find((function(e){return(null===t||void 0===t?void 0:t.value)===e.value}));un(o)},selection:!0})})}),Object(v.jsx)(se.a.Field,{width:3,children:Object(v.jsx)(Ie.a,{content:"Precio de Venta (Con IGV Incluido)",trigger:Object(v.jsx)(et.a,{label:null!==dn&&void 0!==dn&&null!==(s=dn.model)&&void 0!==s&&s.val_descuento?{tag:!0,content:Fe((null===dn||void 0===dn||null===(j=dn.model)||void 0===j?void 0:j.precio_venta)-(null===dn||void 0===dn||null===(b=dn.model)||void 0===b?void 0:b.val_descuento)),color:"teal"}:{icon:"money"},labelPosition:null!==dn&&void 0!==dn&&null!==(m=dn.model)&&void 0!==m&&m.val_descuento?"right":"right corner",type:"number",name:"precio_venta",value:null===dn||void 0===dn||null===(x=dn.model)||void 0===x?void 0:x.precio_venta,onChange:Dn,placeholder:"Precio"})})}),Object(v.jsx)(se.a.Field,{width:2,children:Object(v.jsx)(Ie.a,{content:"Cantidad de Items",trigger:Object(v.jsx)(et.a,{label:{icon:"boxes"},labelPosition:"right corner",type:"number",name:"cantidad",value:null===dn||void 0===dn||null===(h=dn.model)||void 0===h?void 0:h.cantidad,placeholder:"Cantidad",onChange:Dn})})}),Object(v.jsx)(se.a.Field,{width:2,children:Object(v.jsx)(Ie.a,{content:"Descuento en ".concat(Ht?"Porcentaje":"Efectivo"),trigger:Object(v.jsx)("div",{children:Ht?Object(v.jsxs)(et.a,{type:"number",name:"por_descuento",value:null===dn||void 0===dn||null===(p=dn.model)||void 0===p?void 0:p.por_descuento,placeholder:"Descuento Porcentaje",onChange:function(e,t){var n=t.name,o=t.value,i={};i[n]=Number(o);var a=Object(A.a)(Object(A.a)({},dn.model),i),c=Object(A.a)(Object(A.a)({},tn.model),a),r=yn.descuentoPorcentaje(c),l=dn;l.model=r,l.model=Object(A.a)(Object(A.a)({},l.model),i),un(Object(A.a)({},l))},onKeyDown:Sn,children:[Object(v.jsx)("input",{}),Object(v.jsx)(ue.a,{icon:"percent",style:{marginLeft:"10px"},onClick:function(e){e.preventDefault(),Ut(!Ht)}})]}):Object(v.jsxs)(et.a,{type:"number",name:"val_descuento",value:null===dn||void 0===dn||null===(O=dn.model)||void 0===O?void 0:O.val_descuento,placeholder:"Descuento Valor",onChange:function(e,t){var n=t.name,o=t.value,i={};i[n]=Number(o);var a=Object(A.a)(Object(A.a)({},dn.model),i),c=Object(A.a)(Object(A.a)({},tn.model),a),r=yn.descuentoEfectivo(c),l=dn;l.model=r,l.model=Object(A.a)(Object(A.a)({},l.model),i),un(Object(A.a)({},l))},onKeyDown:Sn,children:[Object(v.jsx)("input",{}),Object(v.jsx)(ue.a,{icon:"money",style:{marginLeft:"10px"},onClick:function(e){e.preventDefault(),Ut(!Ht)}})]})})})}),Object(v.jsx)(se.a.Field,{width:1,children:Object(v.jsxs)(ue.a,{as:"a",fluid:!0,color:"teal",animated:"vertical",onClick:An,disabled:Ot,children:[Object(v.jsx)(ue.a.Content,{hidden:!0,children:"Agregar"}),Object(v.jsx)(ue.a.Content,{visible:!0,children:Object(v.jsx)(_e.a,{name:"arrow down"})})]})})]}),Object(v.jsxs)(X.a,{children:[Object(v.jsxs)(X.a.Column,{width:12,style:{overflowY:"scroll",height:"55vh"},children:[Object(v.jsxs)(tt.a,{compact:!0,definition:!0,striped:!0,children:[Object(v.jsx)(tt.a.Header,{fullWidth:!0,children:Object(v.jsxs)(tt.a.Row,{children:[Object(v.jsx)(tt.a.HeaderCell,{width:1}),Object(v.jsx)(tt.a.HeaderCell,{width:8,children:"Producto \xf3 Servicio"}),Object(v.jsx)(tt.a.HeaderCell,{textAlign:"right",width:2,children:Object(v.jsx)("abbr",{title:"Precio de venta con IGV",children:null===_n||void 0===_n||null===(f=_n.moneda)||void 0===f?void 0:f.simbolo})}),Object(v.jsx)(tt.a.HeaderCell,{textAlign:"right",width:2,children:Object(v.jsx)("abbr",{title:"Cantidad",children:"Cant"})}),Object(v.jsx)(tt.a.HeaderCell,{textAlign:"right",width:2,children:Object(v.jsx)("abbr",{title:"Descuento",children:"Desc"})}),Object(v.jsx)(tt.a.HeaderCell,{textAlign:"right",width:1})]})}),Object(v.jsx)(tt.a.Body,{children:null===_n||void 0===_n||null===(g=_n.detalles)||void 0===g?void 0:g.map((function(e,t){return Object(v.jsxs)(tt.a.Row,{children:[Object(v.jsx)(tt.a.Cell,{collapsing:!0,children:Object(v.jsx)(nt.a,{slider:!0})}),Object(v.jsx)(tt.a.Cell,{children:e.producto.nombre}),Object(v.jsx)(tt.a.Cell,{textAlign:"right",children:e.val_descuento?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("s",{children:e.precio_venta?Fe(Number(null===e||void 0===e?void 0:e.precio_venta)):(0).toFixed(2)}),Object(v.jsx)("span",{style:{marginLeft:"10px"},children:e.precio_venta?Fe(Number((null===e||void 0===e?void 0:e.precio_venta)-e.val_descuento)):(0).toFixed(2)})]}):null!==e.precio_venta?Object(v.jsx)(et.a,{value:e.precio_venta,onChange:function(e,n){return Fn(n,t)},name:"precio_venta",disabled:!ye}):(0).toFixed(2)}),Object(v.jsx)(tt.a.Cell,{style:{align:"center"},children:Object(v.jsx)(et.a,{placeholder:"Cantidad",value:null===e||void 0===e?void 0:e.cantidad,onChange:function(e,n){return Fn(n,t)},name:"cantidad",disabled:!ye})}),Object(v.jsx)(tt.a.Cell,{textAlign:"right",children:e.val_descuento?Fe(Number(null===e||void 0===e?void 0:e.val_descuento)):(0).toFixed(2)}),Object(v.jsx)(tt.a.Cell,{textAlign:"right",children:Object(v.jsx)(ue.a,{circular:!0,as:"a",size:"mini",onClick:function(){!function(e){var t=_n.detalles;t.splice(e,1),fn("detalles",t),kn(_n.detalles,_n.total_descuento_global)}(t)},disabled:!ye,icon:"trash"})})]},t)}))})]}),Number(_n.is_nulled)?Object(v.jsx)(de.a,{placeholder:!0,children:Object(v.jsxs)(le.a,{icon:!0,children:[Object(v.jsx)(_e.a,{name:"ban"}),"Documento sin detalles."]})}):Object(v.jsx)(v.Fragment,{})]}),Object(v.jsxs)(X.a.Column,{floated:"right",width:4,children:[Object(v.jsx)(tt.a,{compact:"very",color:"black",children:Object(v.jsxs)(tt.a.Body,{children:[Object(v.jsxs)(tt.a.Row,{children:[Object(v.jsx)(tt.a.Cell,{textAlign:"right",children:"Peso "}),Object(v.jsxs)(tt.a.Cell,{textAlign:"right",children:["Kg ",null===_n||void 0===_n||null===(w=_n.total_peso)||void 0===w?void 0:w.toFixed(2)]})]}),Object(v.jsxs)(tt.a.Row,{children:[Object(v.jsx)(tt.a.Cell,{textAlign:"right",children:" Afecto "}),Object(v.jsxs)(tt.a.Cell,{textAlign:"right",children:[null===_n||void 0===_n||null===(_=_n.moneda)||void 0===_?void 0:_.simbolo," ",Fe(null===_n||void 0===_n?void 0:_n.total_afecto)," (",null===_n||void 0===_n||null===(k=_n.moneda)||void 0===k?void 0:k.iso,") "]})]}),Object(v.jsxs)(tt.a.Row,{children:[Object(v.jsxs)(tt.a.Cell,{textAlign:"right",children:[" ","Inafecto"," "]}),Object(v.jsxs)(tt.a.Cell,{textAlign:"right",children:[null===_n||void 0===_n||null===(N=_n.moneda)||void 0===N?void 0:N.simbolo," ",Fe(null===_n||void 0===_n?void 0:_n.total_inafecto)," (",null===_n||void 0===_n||null===(S=_n.moneda)||void 0===S?void 0:S.iso,") "]})]}),Object(v.jsxs)(tt.a.Row,{children:[Object(v.jsx)(tt.a.Cell,{textAlign:"right",children:" ISC "}),Object(v.jsxs)(tt.a.Cell,{textAlign:"right",children:[null===_n||void 0===_n||null===(V=_n.moneda)||void 0===V?void 0:V.simbolo," ",Fe(_n.total_isc)," (",null===_n||void 0===_n||null===(D=_n.moneda)||void 0===D?void 0:D.iso,") "]})]}),Object(v.jsxs)(tt.a.Row,{children:[Object(v.jsx)(tt.a.Cell,{textAlign:"right",children:" IGV "}),Object(v.jsxs)(tt.a.Cell,{textAlign:"right",children:[null===_n||void 0===_n||null===(P=_n.moneda)||void 0===P?void 0:P.simbolo," ",Fe(null===_n||void 0===_n?void 0:_n.total_igv)," (",null===_n||void 0===_n||null===(T=_n.moneda)||void 0===T?void 0:T.iso,") "]})]}),Object(v.jsxs)(tt.a.Row,{children:[Object(v.jsx)(tt.a.Cell,{textAlign:"right",children:"Descuento Items"}),Object(v.jsxs)(tt.a.Cell,{textAlign:"right",children:[null===_n||void 0===_n||null===(F=_n.moneda)||void 0===F?void 0:F.simbolo," ",Fe(null===_n||void 0===_n?void 0:_n.total_descuento_lineal)," (",null===_n||void 0===_n||null===(E=_n.moneda)||void 0===E?void 0:E.iso,") "]})]}),Object(v.jsxs)(tt.a.Row,{children:[Object(v.jsx)(tt.a.Cell,{textAlign:"right",children:"Descuento Global"}),Object(v.jsxs)(tt.a.Cell,{textAlign:"right",children:[null===_n||void 0===_n||null===(I=_n.moneda)||void 0===I?void 0:I.simbolo," ",Fe(null===_n||void 0===_n?void 0:_n.total_descuento_global)," (",null===_n||void 0===_n||null===(z=_n.moneda)||void 0===z?void 0:z.iso,") "]})]}),Object(v.jsxs)(tt.a.Row,{children:[Object(v.jsx)(tt.a.Cell,{textAlign:"right",children:"Documento"}),Object(v.jsxs)(tt.a.Cell,{textAlign:"right",children:[null===_n||void 0===_n||null===(R=_n.moneda)||void 0===R?void 0:R.simbolo," ",Fe(null===_n||void 0===_n?void 0:_n.total_documento)," (",null===_n||void 0===_n||null===(L=_n.moneda)||void 0===L?void 0:L.iso,") "]})]}),Object(v.jsxs)(tt.a.Row,{children:[Object(v.jsxs)(tt.a.Cell,{textAlign:"right",children:[" ","Percepci\xf3n"," "]}),Object(v.jsxs)(tt.a.Cell,{textAlign:"right",children:[null===_n||void 0===_n||null===(B=_n.moneda)||void 0===B?void 0:B.simbolo," ",Fe(null===_n||void 0===_n?void 0:_n.total_percepcion)," (",null===_n||void 0===_n||null===(M=_n.moneda)||void 0===M?void 0:M.iso,") "]})]}),Object(v.jsxs)(tt.a.Row,{children:[Object(v.jsx)(tt.a.Cell,{textAlign:"right",children:"Detracci\xf3n"}),Object(v.jsxs)(tt.a.Cell,{textAlign:"right",children:[null===_n||void 0===_n||null===(G=_n.moneda)||void 0===G?void 0:G.simbolo," ",Fe(null===_n||void 0===_n?void 0:_n.total_detraccion)," (",null===_n||void 0===_n||null===(q=_n.moneda)||void 0===q?void 0:q.iso,") "]})]}),Object(v.jsxs)(tt.a.Row,{children:[Object(v.jsx)(tt.a.Cell,{active:!0,textAlign:"right",children:"Total"}),Object(v.jsx)(tt.a.Cell,{active:!0,textAlign:"right",children:_n.is_free?Object(v.jsxs)("strong",{children:[null===_n||void 0===_n||null===(Y=_n.moneda)||void 0===Y?void 0:Y.simbolo," ",(0).toFixed(2)," (",null===_n||void 0===_n||null===(K=_n.moneda)||void 0===K?void 0:K.iso,") "]}):Object(v.jsxs)("strong",{children:[null===_n||void 0===_n||null===(H=_n.moneda)||void 0===H?void 0:H.simbolo," ",Fe(null===_n||void 0===_n?void 0:_n.total_documento_fin)," (",null===_n||void 0===_n||null===(U=_n.moneda)||void 0===U?void 0:U.iso,") "]})})]})]})}),ye&&Object(v.jsxs)("div",{children:[Object(v.jsx)(ue.a,{loading:Ye,disabled:Ye,content:"Guardar",primary:!0,fluid:!0}),Object(v.jsx)(ue.a,{style:{marginTop:"1vh"},fluid:!0,as:"a",content:"Deshacer Cambios",onClick:function(){gn(we)}}),Object(v.jsx)(ot.a,{as:Z.a,vertical:!0,fluid:!0,children:Object(v.jsxs)(Z.a.Item,{children:[Object(v.jsx)(ot.a.Title,{active:!0===It,content:"Mas Opciones",index:0,onClick:function(){Bt(!It)}}),Object(v.jsx)(ot.a.Content,{active:!0===It,content:Object(v.jsxs)(se.a.Group,{grouped:!0,children:[Object(v.jsx)(se.a.Checkbox,{label:"Es gratuita",name:"is_free",checked:_n.is_free,onChange:function(){fn("is_free",!_n.is_free)},type:"number"}),Object(v.jsx)(se.a.Field,{children:Object(v.jsx)(et.a,{label:{content:"Desc"},labelPosition:"right",placeholder:"Descuento Global",type:"number",value:_n.total_descuento_global,onChange:function(e,t){fn("total_descuento_global",e.target.value),kn(_n.detalles,e.target.value)}})})]})})]})})]})]})]}),null!==(W=Object.keys(On))&&void 0!==W&&W.length?Object(v.jsx)(je.a,{color:"orange",header:"Advertencia",list:["Verifique que todos los campos requeridos esten completos."]}):Object(v.jsx)(v.Fragment,{}),(null===ct||void 0===ct?void 0:ct.length)&&Object(v.jsx)(je.a,{color:"red",header:"Verifique los siguientes campos",list:ct})]}),Object(v.jsx)(Be.a,{open:mt,content:"Seguro de Deshacer los cambios, perderas los datos modificados",onCancel:function(){return ht(!1)},onConfirm:function(e){gn(we)}}),Object(v.jsx)(Be.a,{open:Wt,content:"\xbfDeseas guardar este precio para futuro uso?",onCancel:function(){Qt(!1)},onConfirm:mn}),3===_n.tipo_operacion_id&&Object(v.jsxs)(de.a,{color:"teal",inverted:!0,style:{marginTop:"1vh"},loading:ge,children:[Object(v.jsxs)(se.a.Group,{children:[ye?Object(v.jsx)(xt,{model:null===ut||void 0===ut?void 0:ut.motivos_sunat_guia_remision,empresaContexto:ze,control:pn,venta:we,handleChangeVenta:Ce,setValue:fn,width:4}):Object(v.jsx)(se.a.Input,{fluid:!0,label:"Motivo de la Guia de Remision",placeholder:"Selecione",value:null===_n||void 0===_n||null===(Q=_n.motivos_sunat_guia_remision)||void 0===Q?void 0:Q.descripcion,readOnly:!0,width:4}),ye?Object(v.jsx)(xt,{model:null===ut||void 0===ut?void 0:ut.transportista,empresaContexto:ze,control:pn,venta:we,handleChangeVenta:Ce,setValue:fn,width:6}):Object(v.jsx)(se.a.Input,{fluid:!0,label:"Transportista",placeholder:"Selecione",value:null===_n||void 0===_n||null===($=_n.transportista)||void 0===$?void 0:$.nombre,readOnly:!0,width:6}),ye?Object(v.jsx)(xt,{model:null===ut||void 0===ut?void 0:ut.vehiculo,empresaContexto:ze,control:pn,venta:we,handleChangeVenta:Ce,setValue:fn,width:6}):Object(v.jsx)(se.a.Input,{fluid:!0,label:"Veh\xedculo",placeholder:"Selecione",value:null===_n||void 0===_n||null===(ee=_n.vehiculo)||void 0===ee?void 0:ee.descripcion,readOnly:!0,width:6})]}),Object(v.jsxs)(se.a.Group,{children:[Object(v.jsx)(rt,{name:"direccion_partida",title:"Direccion de Partida",control:pn,errors:On,type:"text",width:8,readOnly:!ye}),ye?Object(v.jsx)(xt,{model:ut.ubigeo_partida,empresaContexto:ze,control:pn,venta:we,handleChangeVenta:Ce,setValue:fn,width:8}):Object(v.jsx)(se.a.Input,{fluid:!0,label:"Ubigeo de Partida",placeholder:"Selecione",value:null!==_n&&void 0!==_n&&_n.ubigeo_partida?(null===_n||void 0===_n||null===(te=_n.ubigeo_partida)||void 0===te?void 0:te.provincia)+"-"+(null===_n||void 0===_n||null===(ne=_n.ubigeo_partida)||void 0===ne?void 0:ne.distrito)+"-"+(null===_n||void 0===_n||null===(ae=_n.ubigeo_partida)||void 0===ae?void 0:ae.departamento):"",readOnly:!0,width:8})]}),Object(v.jsxs)(se.a.Group,{children:[Object(v.jsx)(rt,{name:"direccion_destino",title:"Direccion de Destino",control:pn,errors:On,type:"text",width:8,readOnly:!ye}),ye?Object(v.jsx)(xt,{model:ut.ubigeo_destino,empresaContexto:ze,control:pn,venta:we,handleChangeVenta:Ce,setValue:fn,width:8}):Object(v.jsx)(se.a.Input,{fluid:!0,label:"Ubigeo de Destino",placeholder:"Selecione",value:null!==_n&&void 0!==_n&&_n.ubigeo_destino?(null===_n||void 0===_n||null===(ce=_n.ubigeo_destino)||void 0===ce?void 0:ce.provincia)+"-"+(null===_n||void 0===_n||null===(re=_n.ubigeo_destino)||void 0===re?void 0:re.distrito)+"-"+(null===_n||void 0===_n||null===(be=_n.ubigeo_destino)||void 0===be?void 0:be.departamento):"",readOnly:!0,width:8})]})]}),Object(v.jsxs)(de.a,{secondary:!0,loading:ge,children:[Object(v.jsxs)(le.a,{as:"h5",children:[Object(v.jsx)(_e.a,{name:"list ul"}),Object(v.jsx)(le.a.Content,{children:"Detalles"})]}),Object(v.jsxs)(ot.a,{exclusive:!1,fluid:!0,color:"teal",children:[Object(v.jsxs)(ot.a.Title,{active:2===Vt,index:2,onClick:xn,children:[Object(v.jsx)(_e.a,{name:"dropdown"}),"Detalles de la venta"]}),Object(v.jsx)(ot.a.Content,{active:2===Vt,children:Object(v.jsx)(Xe.a,{name:"detalle",control:pn,render:function(e){var t=e.field,n=t.onChange,o=t.onBlur,i=t.value;return Object(v.jsx)(it.a,{value:i,onBlur:o,onChange:n,placeholder:"Escribe un Comentario (sera agreagado en la impresi\xf3n del documento)",readOnly:!ye})}})}),Object(v.jsxs)(ot.a.Title,{active:0===Vt,index:0,onClick:xn,children:[Object(v.jsx)(_e.a,{name:"dropdown"}),"Documentos asociados"]}),Object(v.jsxs)(ot.a.Content,{active:0===Vt,children:[ye&&Object(v.jsxs)(se.a.Group,{children:[Object(v.jsx)(xt,{model:null===ut||void 0===ut?void 0:ut.documento_relacion_search,empresaContexto:ze,control:pn,venta:we,handleChangeVenta:Ce,setValue:fn,width:10}),Object(v.jsx)(se.a.Field,{style:{marginTop:"24px"},children:Object(v.jsx)(ue.a,{primary:!0,as:"a",onClick:function(){if(!_n.documento_relacion_search&&!_n.documento_relacion_search_id)return d.b.error("Seleccione un documento v\xe1lido"),!1;var e=_n.documento_relacion||[],t={documento_relacion_id:_n.documento_relacion_search.id,documento_relacion:_n.documento_relacion_search};e.push(t),fn("documento_relacion",e),fn("documento_relacion_search",0),fn("documento_relacion_search_id",0)},children:"Agregar Documento"})})]}),!ye&&Object(v.jsx)(ue.a,{secondary:!0,as:"a",children:"Ver Historial"}),Object(v.jsxs)(tt.a,{compact:!0,collapsing:!0,children:[Object(v.jsx)(tt.a.Header,{children:Object(v.jsxs)(tt.a.Row,{children:[Object(v.jsx)(tt.a.HeaderCell,{children:"Documento"}),Object(v.jsx)(tt.a.HeaderCell,{children:"Eliminar"})]})}),Object(v.jsx)(tt.a.Body,{children:!!_n.documento_relacion&&(null===_n||void 0===_n?void 0:_n.documento_relacion.map((function(e,t){return Object(v.jsxs)(tt.a.Row,{children:[Object(v.jsx)(tt.a.Cell,{children:null===e||void 0===e?void 0:e.documento_relacion.uniqueserie.split("-").splice(2).join("-")}),Object(v.jsx)(tt.a.Cell,{children:Object(v.jsx)(ue.a,{circular:!0,as:"a",size:"mini",onClick:function(){!function(e){var t=_n.documento_relacion;t.splice(e,1),fn("documento_relacion",t)}(t)},disabled:!ye,icon:"trash"})})]})})))})]})]}),Object(v.jsxs)(ot.a.Title,{active:1===Vt,index:1,onClick:xn,children:[Object(v.jsx)(_e.a,{name:"dropdown"}),"Vendedor"]}),Object(v.jsx)(ot.a.Content,{active:1===Vt,children:Object(v.jsx)(se.a.Group,{children:ye?Object(v.jsx)(xt,{model:null===ut||void 0===ut?void 0:ut.vendedor,empresaContexto:ze,control:pn,venta:we,handleChangeVenta:Ce,setValue:fn,width:10}):Object(v.jsx)(se.a.Input,{fluid:!0,label:"Vendedor",placeholder:"Selecione",value:null===_n||void 0===_n||null===(xe=_n.vendedor)||void 0===xe?void 0:xe.nombre,readOnly:!0,width:10})})}),Object(v.jsxs)(ot.a.Title,{active:3===Vt,index:3,onClick:xn,children:[Object(v.jsx)(_e.a,{name:"dropdown"}),"Informacion Relacionada"]}),Object(v.jsxs)(ot.a.Content,{active:3===Vt,children:[Object(v.jsx)(se.a.Group,{children:Object(v.jsx)(rt,{name:"numero_expediente",title:"Numero de Expediente",control:pn,errors:On,type:"text",width:10,readOnly:!ye})}),Object(v.jsx)(se.a.Group,{children:Object(v.jsx)(rt,{name:"orden_compra",title:"Orden de Compra",control:pn,errors:On,type:"text",width:10,readOnly:!ye})}),Object(v.jsx)(se.a.Group,{children:Object(v.jsx)(rt,{name:"codigo_unidad_ejecutora",title:"C\xf3digo Unidad Ejecutora",control:pn,errors:On,type:"text",width:10,readOnly:!ye})}),Object(v.jsx)(se.a.Group,{children:Object(v.jsx)(rt,{name:"numero_proceso_seleccion",title:"N\xfamero de proceso de selecci\xf3n",control:pn,errors:On,type:"text",width:10,readOnly:!ye})}),Object(v.jsx)(se.a.Group,{children:Object(v.jsx)(rt,{name:"numero_contrato",title:"N\xfamero de Contrato",control:pn,errors:On,type:"text",width:10,readOnly:!ye})})]})]}),ye&&Object(v.jsxs)("div",{style:{marginTop:"5vh"},children:[Object(v.jsx)(ue.a,{loading:Ye,disabled:Ye,content:"Guardar",primary:!0}),Object(v.jsx)(ue.a,{style:{marginTop:"1vh"},as:"a",content:"Deshacer Cambios",onClick:function(){gn(we)}})]})]}),1!==_n.forma_pago_id&&1===_n.tipo_operacion_id?Object(v.jsxs)(de.a,{secondary:!0,children:[Object(v.jsx)(Lt,{editionMode:ye,pagos:_n.pagos,moneda:_n.moneda,setChangeFather:fn,total_operacion:_n.total_documento_fin}),ye&&Object(v.jsxs)("div",{style:{marginTop:"5vh"},children:[Object(v.jsx)(ue.a,{loading:Ye,disabled:Ye,content:"Guardar",primary:!0}),Object(v.jsx)(ue.a,{style:{marginTop:"1vh"},as:"a",content:"Deshacer Cambios",onClick:function(){gn(we)}})]})]}):"",Object(v.jsx)(de.a,{style:{marginBottom:"20vh"},loading:ge,children:Object(v.jsx)(Je.a,{value:"http://fivip.net/comprobante/".concat(ze.empresa.ruc,"/").concat(null===_n||void 0===_n||null===(pe=_n.serie)||void 0===pe?void 0:pe.id,"/").concat(null===_n||void 0===_n||null===(ve=_n.serie)||void 0===ve?void 0:ve.serie,"/").concat(null===_n||void 0===_n?void 0:_n.correlativo)})})]}),Te.width<699&&Object(v.jsx)(Gt,{control:pn,handleSubmit:vn,errors:On,setValue:fn,reset:gn,watcher:_n,editionMode:ye,setEditionMode:ke,settingDropdowns:ut,empresa:ze,setEmpresa:Re,impresion:Le,selected:we,handleChangeVenta:Ce,state:Ne,formatPrint:Se,setFormatPrint:Ae})]})})},Ht=function(e){var t=Vt()(e),n=Vt()(new Date);return!(t.diff(n)<-36e4)},Ut=function(e){return Object(v.jsx)(Ie.a,{content:"Actualizado recientemente",pinned:!0,trigger:Object(v.jsx)(Ce.a,{circular:!0,color:"blue",empty:!0},e)})},Yt=function(e){e.searchInput;var t=e.setSearchInput,n=e.placeholder,o=function(){var e=Object(me.a)(he.a.mark((function e(n){return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(n.target.value);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsx)("div",{class:"ui category search",children:Object(v.jsxs)("div",{class:"ui icon input",style:{width:"100%"},children:[Object(v.jsx)("input",{class:"prompt fluid",type:"text",placeholder:n,onChange:o}),Object(v.jsx)("i",{class:"search icon"})]})})},Kt=function(){var e=ie().windowSize,t=Object(y.g)(),n=Object(o.useContext)(C),i=n.empresa,a=(n.impresion,Object(o.useState)([])),c=Object(u.a)(a,2),r=c[0],l=c[1],d=Object(o.useState)(null),j=Object(u.a)(d,2),b=j[0],m=j[1],x=Object(o.useState)(!1),h=Object(u.a)(x,2),p=h[0],O=h[1],f=Object(o.useState)(!1),g=Object(u.a)(f,2),w=(g[0],g[1],Object(y.h)(),Object(o.useState)(null)),_=Object(u.a)(w,2),k=_[0],N=(_[1],Object(o.useState)(!1)),S=Object(u.a)(N,2),V=S[0],D=S[1],P=Object(o.useState)(!1),T=Object(u.a)(P,2),F=T[0],E=T[1],I=Object(o.useState)(!1),z=Object(u.a)(I,2),R=z[0],L=z[1],B=new Te.a("db"),M=Object(o.useState)({status:!1,format:"A4"}),G=Object(u.a)(M,2),q=G[0],H=G[1],U=function(e,t){H({status:e,format:t})},Y=function(){var e=Object(me.a)(he.a.mark((function e(t){var n,o,a,c=arguments;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.length>1&&void 0!==c[1]&&c[1],n=i.empresa.id,o=i.id,e.next=5,We.show(n,o,t);case 5:a=e.sent,l(a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(e){var t=r.map((function(t){return parseInt(t.id)===parseInt(e.id)?e:t}));l(t)},W=function(){var e=Object(me.a)(he.a.mark((function e(t){return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(null);case 2:return e.next=4,m(t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(e){We.download(b,e)},Z=function(){var e=Object(me.a)(he.a.mark((function e(t,n){var o,i,a,c,s;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(o=r.find((function(e,n){return e.id===t}))).send_status=!0,i=r.map((function(e,t){return e.id===o.id?(console.log("respuesta del envio a sunat",e),o):e})),l(i),e.next=6,We.sendSunat(o);case 6:a=e.sent,(c=Object(A.a)(Object(A.a)({},o),a)).send_status=!1,s=r.map((function(e,t){return e.id===c.id?c:e})),l(s);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),$=function(){var e=Object(me.a)(he.a.mark((function e(t){return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:B.collection("ventas").get().then((function(e){if(t){var n=e.filter((function(e){if(1===e.tipo_operacion_id&&2===e.forma_pago_id&&e.total_documento_fin-e.pago_status>.001)return e}));E(!t),l(n)}else E(!t),l(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(o.useEffect)((function(){return B.collection("ventas").get().then((function(e){var n,o=e.sort((function(e,t){return t.id-e.id}));console.log(t),null!==t&&void 0!==t&&null!==(n=t.state)&&void 0!==n&&n.porcobrar?(D(!0),$(!0)):(l(o),D(!0),Y(1))})),function(){l([])}}),[t]),Object(o.useEffect)((function(){Object(me.a)(he.a.mark((function e(){var t,n;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.collection("ventas").get();case 2:t=e.sent,R?(n=t.filter((function(e){if(e.cliente.nombre.indexOf(R)>=0||e.cliente.nombre_comercial.indexOf(R)>=0||e.cliente.direccion.indexOf(R)>=0||e.uniqueserie.indexOf(R)>=0||e.serie.descripcion.indexOf(R)>=0)return e})),l(n)):l(t);case 4:case"end":return e.stop()}}),e)})))()}),[R]),Object(v.jsxs)(v.Fragment,{children:[e.width>700?Object(v.jsxs)(X.a.Column,{width:5,children:[Object(v.jsx)(ye.a,{relaxed:"very",style:{marginTop:"1rem"},children:Object(v.jsxs)(ye.a.Item,{children:[Object(v.jsxs)(ye.a.Content,{floated:"right",children:[Object(v.jsx)(ue.a,{size:"mini",onClick:function(){return $(F)},active:!F,children:"Por Cobrar"}),Object(v.jsx)(Le,{empresaContext:i})]}),Object(v.jsxs)(ye.a.Content,{children:[Object(v.jsx)(ye.a.Header,{as:"a",children:Object(v.jsx)(s.b,{to:"/welcome/empresas/".concat(i.empresa.id),state:{backgroundLocation:t,model:i.empresa},children:i.empresa.nombre})}),i.nombre]})]})}),V?Object(v.jsx)(ye.a,{celled:!0,relaxed:"very",style:{overflowY:"scroll",height:"88vh"},children:null===r||void 0===r?void 0:r.map((function(e,t){var n,o,i,a,c,r;return Object(v.jsxs)(ye.a.Item,{onClick:function(){W(e)},style:{backgroundColor:(null===e||void 0===e?void 0:e.id)===(null===b||void 0===b?void 0:b.id)?"rgb(0 181 173 / 12%)":"#fff"},children:[Object(v.jsxs)(ye.a.Content,{style:{width:"200px"},floated:"right",children:[Object(v.jsx)(Ce.a.Group,{tag:!0,color:1===e.tipo_operacion_id?1===e.forma_pago_id?"":e.pago_status<e.total_documento_fin?"orange":e.pago_status===e.total_documento_fin?"":"blue":"",children:Object(v.jsxs)(Ce.a,{as:"a",children:[null===e||void 0===e||null===(n=e.moneda)||void 0===n?void 0:n.simbolo," ",Fe(e.total_documento_fin)," (",e.moneda.iso,") "]})}),Object(v.jsx)(Ie.a,{content:"Click para enviar comprobante a Sunat",header:"Pendiente por enviar",trigger:2!==e.tipo_operacion_id&&"CT"!==e.serie.abbr&&"NV"!==e.serie.abbr&&Object(v.jsx)(ue.a,{icon:"0"===e.sunat_code?"check":e.sunat_code>="2000"?"times":"cloud upload",size:"mini",onClick:function(n){n.stopPropagation(),Z(e.id,t)},color:"0"===e.sunat_code?"green":e.sunat_code>="2000"?"red":"primary",loading:e.send_status,disabled:e.send_status||"0"===e.sunat_code})}),!!e.vendedor&&Object(v.jsx)(Ie.a,{content:null===e||void 0===e||null===(o=e.vendedor)||void 0===o?void 0:o.nombre,header:"Vendedor",trigger:Object(v.jsx)(ue.a,{icon:"user",size:"mini",onClick:function(e){e.stopPropagation()},content:null===e||void 0===e||null===(i=e.vendedor)||void 0===i?void 0:i.nombre.split(" ")[0],color:" "})}),Number(null===e||void 0===e?void 0:e.is_nulled)?Object(v.jsx)(Ce.a,{as:"span",content:"Anulado",color:"red"}):Object(v.jsx)(v.Fragment,{children:" \xa0"})]}),Object(v.jsxs)(ye.a.Content,{children:[Object(v.jsxs)(ye.a.Header,{as:"a",children:[null===e||void 0===e||null===(a=e.serie)||void 0===a?void 0:a.abbr," ",null===e||void 0===e||null===(c=e.serie)||void 0===c?void 0:c.serie," ",null===e||void 0===e?void 0:e.correlativo," ",Ht(e.updated_at)&&Object(v.jsx)(Ut,{index:t})]}),Object(v.jsx)(ye.a.Item,{children:Object(v.jsx)("strong",{children:null===e||void 0===e||null===(r=e.cliente)||void 0===r?void 0:r.nombre})}),Object(v.jsxs)(ye.a.Item,{children:["Fecha Emision:"," ",Object(v.jsx)(Re.a,{format:"DD/MM/YYYY",children:e.fecha_emision})]})]})]},t)}))}):Object(v.jsx)(ge.a,{active:!0,inline:"centered"})]}):Object(v.jsxs)(v.Fragment,{children:[!b&&Object(v.jsxs)(X.a.Column,{width:16,children:[Object(v.jsx)(X.a.Row,{children:Object(v.jsx)(ye.a,{relaxed:"very",style:{marginTop:"1rem"},children:Object(v.jsxs)(ye.a.Item,{children:[Object(v.jsx)(ye.a.Content,{floated:"right",children:Object(v.jsx)(Yt,{searchInput:R,setSearchInput:L,placeholder:"Buscar Documento"})}),Object(v.jsxs)(ye.a.Content,{floated:"left",style:{paddingRight:"2px",paddingLeft:"2px"},children:[Object(v.jsx)(Le,{empresaContext:i}),Object(v.jsx)(ue.a,{size:"mini",onClick:function(){return $(F)},active:!F,children:"Por Cobrar"})]})]})})}),Object(v.jsx)(X.a.Row,{style:{overflowY:"scroll",height:"83vh",marginTop:"1rem"},children:V?Object(v.jsx)(ye.a,{celled:!0,relaxed:"very",children:null===r||void 0===r?void 0:r.map((function(e,t){var n,o,i,a,c,r;return Object(v.jsxs)(ye.a.Item,{onClick:function(){W(e)},style:{backgroundColor:(null===e||void 0===e?void 0:e.id)===(null===b||void 0===b?void 0:b.id)?"rgb(0 181 173 / 12%)":"#fff"},children:[Object(v.jsxs)(ye.a.Content,{style:{width:"200px"},floated:"right",children:[Object(v.jsx)(Ce.a.Group,{tag:!0,color:1===e.tipo_operacion_id?1===e.forma_pago_id?"":e.pago_status<e.total_documento_fin?"orange":e.pago_status===e.total_documento_fin?"":"blue":"",children:Object(v.jsxs)(Ce.a,{as:"a",children:[null===e||void 0===e||null===(n=e.moneda)||void 0===n?void 0:n.simbolo," ",Fe(e.total_documento_fin)," (",e.moneda.iso,") "]})}),Object(v.jsx)(Ie.a,{content:"Click para enviar comprobante a Sunat",header:"Pendiente por enviar",trigger:2!==e.tipo_operacion_id&&"CT"!==e.serie.abbr&&"NV"!==e.serie.abbr&&Object(v.jsx)(ue.a,{icon:"0"===e.sunat_code?"check":e.sunat_code>="2000"?"times":"cloud upload",size:"mini",onClick:function(n){n.stopPropagation(),Z(e.id,t)},color:"0"===e.sunat_code?"green":e.sunat_code>="2000"?"red":"primary",loading:e.send_status,disabled:e.send_status||"0"===e.sunat_code})}),!!e.vendedor&&Object(v.jsx)(Ie.a,{content:null===e||void 0===e||null===(o=e.vendedor)||void 0===o?void 0:o.nombre,header:"Vendedor",trigger:Object(v.jsx)(ue.a,{icon:"user",size:"mini",onClick:function(e){e.stopPropagation()},content:null===e||void 0===e||null===(i=e.vendedor)||void 0===i?void 0:i.nombre.split(" ")[0],color:" "})}),Number(null===e||void 0===e?void 0:e.is_nulled)?Object(v.jsx)(Ce.a,{as:"span",content:"Anulado",color:"red"}):Object(v.jsx)(v.Fragment,{children:" \xa0"})]}),Object(v.jsxs)(ye.a.Content,{children:[Object(v.jsxs)(ye.a.Header,{as:"a",children:[null===e||void 0===e||null===(a=e.serie)||void 0===a?void 0:a.abbr," ",null===e||void 0===e||null===(c=e.serie)||void 0===c?void 0:c.serie," ",null===e||void 0===e?void 0:e.correlativo," ",Ht(e.updated_at)&&Object(v.jsx)(Ut,{index:t})]}),Object(v.jsx)(ye.a.Item,{children:Object(v.jsx)("strong",{children:null===e||void 0===e||null===(r=e.cliente)||void 0===r?void 0:r.nombre})}),Object(v.jsxs)(ye.a.Item,{children:["Fecha Emision:"," ",Object(v.jsx)(Re.a,{format:"DD/MM/YYYY",children:e.fecha_emision})]})]})]},t)}))}):Object(v.jsx)(ge.a,{active:!0,inline:"centered"})})]}),!!b&&Object(v.jsxs)(X.a.Column,{width:16,children:[Object(v.jsx)(ye.a,{relaxed:"very",style:{marginTop:"1rem"},children:Object(v.jsxs)(ye.a.Item,{children:[Object(v.jsx)("span",{className:"float left",children:Object(v.jsx)(ue.a,{size:"mini",icon:"arrow circle left",content:"Regresar",style:{marginRight:"2px",marginLeft:"2px"},onClick:Object(me.a)(he.a.mark((function e(){return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(void 0);case 2:case"end":return e.stop()}}),e)})))})}),Object(v.jsxs)(ye.a.Content,{floated:"right",children:[Number(b.is_nulled)&&b?Object(v.jsx)(v.Fragment,{}):Object(v.jsx)(Qe,{handleChangeVenta:K,documento:b,style:{marginRight:"2px",marginLeft:"2px"}}),b&&Object(v.jsx)(J.a,{icon:"download",floating:!0,button:!0,className:"button ui mini icon",children:Object(v.jsxs)(J.a.Menu,{children:[b.sunat_documento&&Object(v.jsx)(J.a.Item,{onClick:function(){Q("xml")},children:"Descargar XML"}),b.sunat_notes&&Object(v.jsx)(J.a.Item,{onClick:function(){Q("cdn")},children:"Descargar CDN"})]})}),Object(v.jsx)(ue.a,{size:"mini",icon:"print",style:{marginRight:"2px",marginLeft:"2px"},onClick:function(){U(!q.status,"A4")},active:q.status}),Number(b.is_nulled)&&b?Object(v.jsx)(v.Fragment,{}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(s.b,{to:"/welcome/email/create",state:{backgroundLocation:t,model:Object(A.a)(Object(A.a)({},b),{file:k})},className:"button ui mini",children:Object(v.jsx)(_e.a,{name:"mail"})}),Object(v.jsx)(ue.a,{size:"mini",icon:"pencil",color:p?"orange":"",style:{marginRight:"2px",marginLeft:"2px"},onClick:function(){O(!p)},active:q.status})]})]})]})}),Object(v.jsx)(qt,{selected:b,handleChangeVenta:K,editionMode:p,setEditionMode:O,formatPrint:q,setFormatPrint:H,response:!0})]})]}),e.width>700&&Object(v.jsx)(X.a.Column,{width:11,children:b?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(ye.a,{relaxed:"very",style:{marginTop:"1rem"},children:Object(v.jsx)(ye.a.Item,{children:Object(v.jsxs)(ye.a.Content,{floated:"right",children:[b&&Object(v.jsx)(J.a,{text:"Descargar",icon:"download",floating:!0,labeled:!0,button:!0,className:"button ui mini icon",children:Object(v.jsxs)(J.a.Menu,{children:[b.sunat_documento&&Object(v.jsx)(J.a.Item,{onClick:function(){Q("xml")},children:"Descargar XML"}),b.sunat_notes&&Object(v.jsx)(J.a.Item,{onClick:function(){Q("cdn")},children:"Descargar CDN"})]})}),Object(v.jsx)(ue.a,{size:"mini",content:"Imprimir",icon:"print",labelPosition:"left",style:{marginRight:"2px",marginLeft:"2px"},onClick:function(){U(!q.status,"A4")},active:q.status}),Number(b.is_nulled)&&b?Object(v.jsx)(v.Fragment,{}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(ue.a,{size:"mini",content:"Editar",icon:"pencil",labelPosition:"left",style:{marginRight:"2px",marginLeft:"2px"},active:p,onClick:function(){O(!p)}}),Object(v.jsx)(s.b,{to:"/welcome/email/create",state:{backgroundLocation:t,model:Object(A.a)(Object(A.a)({},b),{file:k})},className:"button ui mini",children:"Enviar"}),Object(v.jsx)(Qe,{handleChangeVenta:K,documento:b,style:{marginRight:"2px",marginLeft:"2px"}})]})]})})}),Object(v.jsx)(ue.a,{circular:!0,size:"mini",icon:!0,onClick:function(){m(null)},children:Object(v.jsx)(_e.a,{name:"times"})}),Object(v.jsx)(s.b,{to:"/space/ventas/1",state:{model:b},children:Object(v.jsx)(ue.a,{circular:!0,size:"mini",icon:!0,children:Object(v.jsx)(_e.a,{name:"expand"})})}),Number(b.is_nulled)?Object(v.jsx)(Ce.a,{as:"span",content:"Anulado",icon:"ban",color:"red"}):Object(v.jsx)(v.Fragment,{}),Object(v.jsx)(qt,{selected:b,handleChangeVenta:K,editionMode:p,formatPrint:q,setFormatPrint:H,response:!1})]}):Object(v.jsx)(de.a,{placeholder:!0,style:{marginTop:"6vh"},children:Object(v.jsxs)(le.a,{icon:!0,children:[Object(v.jsx)(_e.a,{name:"file outline"}),"No tienes un documento seleccionado"]})})})]})},Wt=n(866);n(169);var Qt=function(e){var t,n=e.type,a=e.name,c=e.icon,r=e.title,l=e.value,s=e.color,d=e.service,u=e.setValue,j=e.isContextEmpresa,b=Object(o.useContext)(C),x=b.empresa,h=b.setEmpresa,p=i.a.createRef(),O=m("public"),f=function(){var e=Object(me.a)(he.a.mark((function e(t){var n,o;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target.files[0],e.next=3,d(x.empresa.id,n);case 3:o=e.sent,u(a,o.success),x.empresa.certificado=o.success,"certificado"===a&&u("certificado_validate",0),"logo"===a&&u("logo",o.success),j&&h(x),console.log(x);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsxs)(v.Fragment,{children:["imagen"===n&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("label",{children:r}),Object(v.jsxs)(Ce.a,{as:"a",onClick:function(e){e.preventDefault(),p.current.click()},children:[Object(v.jsx)("img",{src:"".concat(O,"/storage/").concat(null===x||void 0===x||null===(t=x.empresa)||void 0===t?void 0:t.id,"/").concat(l),alt:"logo_empresa"})," ",l]})]}),"file"===n&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("label",{children:r}),Object(v.jsx)(ue.a,{as:"a",color:s,fluid:!0,content:l||"Certificado",labelPosition:"left",icon:c||"file",onClick:function(e){e.preventDefault(),p.current.click()}})]}),Object(v.jsx)("input",{ref:p,hidden:!0,type:"file",onChange:f})]})},Xt=lt.a({ruc:lt.b().required("Complete"),nombre:lt.b().required("Complete"),nombre_comercial:lt.b().required("Complete").min(2,"Minimo 2 letras").max(50,"Max 50 Letras"),direccion:lt.b().required("Complete"),ubigeo_id:lt.b().required("Complete"),telefono:lt.b().required("Complete"),celular:lt.b().required("Complete"),email:lt.b().email().required("Complete"),decimales:lt.b().required("Complete"),por_detraccion:lt.b().required("Complete"),por_retencion:lt.b().required("Complete"),igv:lt.b().required("Complete"),agente:lt.b().required("Complete"),por_percepcion:lt.b().required("Complete"),limite_detraccion:lt.b().required("Complete"),country_id:lt.b().required("Complete")}).required(),Zt=function(e){var t,n=e.state,i=Object(y.h)(),a=Object(y.g)(),c=Object(o.useContext)(C),r=c.empresa,l=c.setEmpresa,s=Object(o.useState)(!1),d=Object(u.a)(s,2),j=d[0],b=d[1],m=Object(o.useState)(!1),x=Object(u.a)(m,2),h=x[0],p=x[1],O=Object(o.useState)(!1),f=Object(u.a)(O,2),g=f[0],w=f[1],_=Object(Xe.e)({resolver:Object(at.a)(Xt),defaultValues:n}),k=_.control,N=_.handleSubmit,S=_.setValue,A=_.formState.errors,V=(0,_.watch)(),D=Object(o.useState)(),P=Object(u.a)(D,2),T=P[0],F=P[1];Object(o.useEffect)(Object(me.a)(he.a.mark((function e(){var t;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=7;break}return e.next=3,ke.find(n.id);case 3:return t=e.sent,e.abrupt("return",F(t));case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e)}))),{data:T});var E=function(){var e=Object(me.a)(he.a.mark((function e(t){var n,o;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),w(!0),n=V.certificado_clave,e.next=5,ke.unlockCertificado(r.empresa.id,n);case 5:o=e.sent,S("certificado_validate",o.status),w(!1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){i(a.state.backgroundLocation.pathname,{state:{reload:{empresa:!0}}})},z=function(){var e=Object(me.a)(he.a.mark((function e(t){var n,o;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b(!0),!t||!t.id){e.next=8;break}return e.next=4,ke.update(t,t.id);case 4:n=e.sent,r.empresa.id===n.id?(r.empresa=n,window.localStorage.removeItem("empresa"),window.localStorage.setItem("empresa",JSON.stringify(r)),l(r),b(!1),I()):I(),e.next=14;break;case 8:return e.next=10,ke.create(t);case 10:return o=e.sent,b(!1),null!==o&&void 0!==o&&o.errors?p(dt(o)):(p(null),I()),e.abrupt("return",o);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsxs)(se.a,{onSubmit:N(z),noValidate:!0,children:[Object(v.jsxs)(se.a.Group,{widths:1,children:[Object(v.jsx)(rt,{name:"ruc",title:"Ruc",control:k,errors:A,width:8}),Object(v.jsx)(se.a.Field,{children:Object(v.jsx)(Qt,{type:"imagen",name:"logo",title:"Logo de la Empresa",value:V.logo,service:ke.updateLogo,setValue:S,isContextEmpresa:!0})})]}),Object(v.jsxs)(se.a.Group,{widths:2,children:[Object(v.jsx)(rt,{name:"nombre",title:"Nombre",control:k,errors:A,width:8}),Object(v.jsx)(rt,{name:"nombre_comercial",title:"Nombre Comercial",control:k,errors:A,width:8})]}),Object(v.jsxs)(se.a.Group,{widths:4,children:[Object(v.jsx)(rt,{name:"direccion",title:"Direccion",control:k,errors:A,width:8}),Object(v.jsx)(xt,{model:ut.ubigeo,empresaContexto:r,control:k,venta:V,setValue:S,width:8})]}),Object(v.jsxs)(se.a.Group,{widths:4,children:[Object(v.jsx)(rt,{name:"telefono",title:"Telefono Fijo",control:k,errors:A,width:4}),Object(v.jsx)(rt,{name:"celular",title:"Telefono Celular",control:k,errors:A,width:4}),Object(v.jsx)(rt,{name:"email",title:"Email",control:k,errors:A,width:4}),Object(v.jsx)(rt,{name:"decimales",title:"Decimales",control:k,errors:A,width:4})]}),Object(v.jsx)(Wt.a,{}),Object(v.jsxs)(se.a.Group,{widths:5,children:[Object(v.jsx)(se.a.Field,{width:6,children:Object(v.jsx)(Qt,{type:"file",icon:"expeditedssl",name:"certificado",title:"Certificado Digital",value:V.certificado,color:0===V.certificado_validate?"secundary":1===V.certificado_validate?"red":2===V.certificado_validate?"green":"secundary",service:ke.updateCertificado,empresaContexto:r,setValue:S,isContextEmpresa:!0})}),Object(v.jsx)(rt,{name:"certificado_clave",title:"Contrase\xf1a del Certificado Digital",control:k,errors:A,width:6,type:"password"}),Object(v.jsxs)(se.a.Field,{children:[Object(v.jsx)("label",{children:"\xa0"}),Object(v.jsx)(ue.a,{fluid:!0,content:"Validar Certificado",onClick:E,loading:g})]})]}),Object(v.jsxs)(se.a.Group,{widths:5,children:[Object(v.jsx)(rt,{name:"usuario_sunat",title:"Usuario Sunat",control:k,errors:A,width:6}),Object(v.jsx)(rt,{name:"usuario_sunat_clave",title:"Clave de Usuario Sunat",control:k,errors:A,width:6,type:"password"}),Object(v.jsx)(rt,{name:"country_id",title:"Pais",control:k,errors:A,width:4})]}),Object(v.jsx)(Wt.a,{}),Object(v.jsxs)(se.a.Group,{widths:5,children:[Object(v.jsx)(rt,{name:"igv",title:"IGV",control:k,errors:A,width:3}),Object(v.jsx)(rt,{name:"agente",title:"Agente",control:k,errors:A,width:3}),Object(v.jsx)(rt,{name:"por_percepcion",title:"% Percepci\xf3n",control:k,errors:A,width:3}),Object(v.jsx)(rt,{name:"por_retencion",title:"% Retencion",control:k,errors:A,width:3})]}),Object(v.jsx)(Wt.a,{}),Object(v.jsxs)(se.a.Group,{widths:16,children:[Object(v.jsx)(rt,{name:"por_detraccion",title:"% Detracci\xf3n",control:k,errors:A,width:3}),Object(v.jsx)(rt,{name:"limite_detraccion",title:"Limite Detracci\xf3n",control:k,errors:A,width:3}),Object(v.jsx)(rt,{name:"cuenta_detraccion",title:"Cuenta Detracci\xf3n",control:k,errors:A,width:5})]}),Object(v.jsx)(se.a.Group,{widths:16,children:Object(v.jsx)(se.a.Field,{width:16,children:Object(v.jsx)(Xe.a,{name:"detalle",control:k,render:function(e){var t=e.field,n=t.onChange,o=t.onBlur,i=t.value;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("label",{children:"Comentario de Pie de P\xe1gina"}),Object(v.jsx)(it.a,{rows:12,value:i,onBlur:o,onChange:n,placeholder:"Comentarios de pie de pagina de las impresiones del modulo de ventas"})]})}})})}),Object(v.jsx)(Wt.a,{}),Object(v.jsxs)(se.a.Group,{roup:!0,widths:16,children:[Object(v.jsx)(rt,{name:"smtp_mail_host",title:"Host",control:k,errors:A,width:3}),Object(v.jsx)(rt,{name:"smtp_mail_port",title:"Puerto",control:k,errors:A,width:3}),Object(v.jsx)(rt,{name:"smtp_mail_service",title:"Servicio",control:k,errors:A,width:3}),Object(v.jsx)(rt,{name:"smtp_mail_auth_user",title:"Usuario",control:k,errors:A,width:3}),Object(v.jsx)(rt,{name:"smtp_mail_auth_password",title:"Contrase\xf1a",type:"password",control:k,errors:A,width:3})]}),null!==(t=Object.keys(A))&&void 0!==t&&t.length?Object(v.jsx)(je.a,{color:"orange",header:"Advertencia",list:["Verifique que todos los campos requeridos esten completos."]}):Object(v.jsx)(v.Fragment,{}),(null===h||void 0===h?void 0:h.length)&&Object(v.jsx)(je.a,{color:"red",header:"Verifique los siguientes campos",list:h}),Object(v.jsx)(ue.a,{loading:j,secondary:!0,children:"Guardar"})]})},Jt=lt.a({nombre:lt.b().required("Complete"),direccion:lt.b().required("Complete"),ubigeo_id:lt.b().required("Complete"),empresa_id:lt.b().required("Complete")}).required(),$t=function(e){var t,n=e.state;console.log(n);var i=Object(y.h)(),a=Object(y.g)(),c=Object(o.useContext)(C),r=(c.empresa,c.setEmpresa),l=Object(o.useState)(!1),s=Object(u.a)(l,2),d=s[0],j=s[1],b=Object(o.useState)(!1),m=Object(u.a)(b,2),x=m[0],h=m[1],p=Object(Xe.e)({resolver:Object(at.a)(Jt),defaultValues:n}),O=p.control,f=p.handleSubmit,g=p.formState.errors,w=Object(o.useState)(),_=Object(u.a)(w,2),k=_[0],N=_[1];Object(o.useEffect)(Object(me.a)(he.a.mark((function e(){var t;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n||!n.id){e.next=7;break}return e.next=3,Ne.find(n.id);case 3:return t=e.sent,e.abrupt("return",N(t));case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e)}))),{data:k});var S=function(){i(a.state.backgroundLocation.pathname,{state:{reload:{empresa:!0}}})},A=function(){var e=Object(me.a)(he.a.mark((function e(t){var n;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(j(!0),!t||!t.id){e.next=10;break}return e.next=4,Ne.update(t,t.id);case 4:e.sent,localStorage.removeItem("empresa"),r(null),S(),e.next=16;break;case 10:return e.next=12,Ne.create(t);case 12:return n=e.sent,j(!1),null!==n&&void 0!==n&&n.errors?h(dt(n)):(h(null),S()),e.abrupt("return",n);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsxs)(se.a,{onSubmit:f(A),noValidate:!0,children:[Object(v.jsx)(rt,{name:"nombre",title:"Nombre",control:O,errors:g,width:16}),Object(v.jsxs)(se.a.Group,{children:[Object(v.jsx)(rt,{name:"direccion",title:"Direccion",control:O,errors:g,width:16}),Object(v.jsx)(rt,{name:"ubigeo_id",title:"Ubigeo",control:O,errors:g,width:16})]}),null!==(t=Object.keys(g))&&void 0!==t&&t.length?Object(v.jsx)(je.a,{color:"orange",header:"Advertencia",list:["Verifique que todos los campos requeridos esten completos."]}):Object(v.jsx)(v.Fragment,{}),(null===x||void 0===x?void 0:x.length)&&Object(v.jsx)(je.a,{color:"red",header:"Verifique los siguientes campos",list:x}),Object(v.jsx)(ue.a,{loading:d,secondary:!0,children:"Guardar"})]})},en=new Te.a("db");en.config.debug=!1;var tn={show:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{order:{id:"DESC"}},n=He.a.stringify(t);return new Promise((function(t,o){h.get("/cliente/".concat(e,"?").concat(n)).then(function(){var e=Object(me.a)(he.a.mark((function e(n){return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:en.collection("contactos").set(n.data.data).then((function(e){t(e.data)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){o(!1)}))}))},find:function(e,t){return new Promise((function(n,o){h.get("cliente/"+e+"/"+t).then((function(e){n(e.data)}))}))},create:function(e){return new Promise((function(t,n){h.post("cliente",e).then(function(){var e=Object(me.a)(he.a.mark((function e(n){return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:en.collection("contactos").set(n.data).then((function(e){return console.log(e),t(n.data)})),t(n.data);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch(function(){var e=Object(me.a)(he.a.mark((function e(n){return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.response?(console.log(n.response),t(n.response.data)):alert("error desconexion");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))},update:function(e,t){return new Promise((function(n,o){h.put("cliente/"+t,e).then(function(){var e=Object(me.a)(he.a.mark((function e(t){return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,en.collection("contactos").doc({id:t.data.id}).update(t.data);case 2:n(t.data);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(t){n(e)}))}))},getDni:function(e){return new Promise((function(t,n){b.a.post("https://api.nubefa.com/api/dni",e).then((function(e){t(e)}),(function(e){n(!1)}))}))},getRuc:function(e){return new Promise((function(t,n){b.a.post("https://api.nubefa.com/api/ruc",e).then((function(e){t(e)}),(function(e){n(!1)}))}))}},nn=lt.a({tipo_documento_identy_id:lt.b().required("Complete"),numero_documento:lt.b().required("Complete"),nombre:lt.b().required("Complete"),nombre_comercial:lt.b().required("Complete").min(2,"Minimo 2 letras").max(50,"Max 50 Letras"),direccion:lt.b().required("Complete"),ubigeo_id:lt.b().required("Complete"),empresa_id:lt.b().required("Complete")}).required(),on=function(e){var t,n=e.state,i=Object(y.h)(),a=Object(y.g)(),c=Object(o.useContext)(C).empresa,r=Object(o.useState)(!1),l=Object(u.a)(r,2),s=l[0],d=l[1],j=Object(o.useState)(!1),b=Object(u.a)(j,2),m=b[0],x=b[1],h=Object(o.useState)(!1),p=Object(u.a)(h,2),O=p[0],f=p[1],g=Object(o.useState)(!1),w=Object(u.a)(g,2),_=w[0],k=w[1],N=function(e){i(a.state.backgroundLocation.pathname,{state:{reload:{cliente_id:e}}})},S=function(){var e=Object(me.a)(he.a.mark((function e(t){var n;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d(!0),!t||!t.id){e.next=8;break}return e.next=4,tn.update(t,t.id);case 4:null!==(n=e.sent)&&void 0!==n&&n.errors?k(dt(n)):(k(null),N(n)),e.next=9;break;case 8:tn.create(t).then((function(e){if(d(!1),null===e||void 0===e||!e.errors)return k(null),N(e),e;k(dt(e))}),(function(e){N(t)}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=Object(Xe.e)({resolver:Object(at.a)(nn),defaultValues:n}),V=A.control,D=A.handleSubmit,P=A.formState.errors,T=A.setValue,F=A.watch,E=A.reset,I=F(),z=function(){var e=Object(me.a)(he.a.mark((function e(){return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x(!0),3===(null===I||void 0===I?void 0:I.tipo_documento_identy_id)&&tn.getDni({data:I.numero_documento}).then((function(e){return T("nombre",e.data.ane_alias),T("nombre_comercial",e.data.ane_alias),f(!0),x(!1),!0}),(function(e){return x(!1),!0})),4===(null===I||void 0===I?void 0:I.tipo_documento_identy_id)&&tn.getRuc({data:I.numero_documento}).then((function(e){return T("nombre",e.data.razonSocial),T("nombre_comercial",e.data.razonSocial),T("direccion",e.data.direccion),T("ubigeo_id",parseInt(e.data.ubi_id)),T("ubigeo",{id:e.data.ubi_id,provincia:e.data.provincia,distrito:e.data.distrito,departamento:e.data.departamento}),f(!0),x(!1),!0}),(function(e){return x(!1),!0}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(v.jsxs)(se.a,{onSubmit:D(S),noValidate:!0,children:[Object(v.jsx)(se.a.Group,{children:Object(v.jsx)(xt,{model:ut.tipo_documento_identy,empresaContexto:c,control:V,setValue:T,width:7})}),Object(v.jsxs)(se.a.Group,{children:[Object(v.jsx)(rt,{name:"numero_documento",title:"Numero de Documento",control:V,errors:P,width:7}),4===I.tipo_documento_identy_id||3===I.tipo_documento_identy_id?Object(v.jsx)(se.a.Field,{children:Object(v.jsx)(ue.a,{primary:!0,style:{marginTop:"22px"},onClick:function(e){e.preventDefault(),z()},loading:m,children:"Buscar en Sunat"})}):Object(v.jsx)(v.Fragment,{})]}),Object(v.jsxs)(se.a.Group,{widths:2,children:[Object(v.jsx)(rt,{name:"nombre",title:"Nombre",control:V,errors:P,width:7}),Object(v.jsx)(rt,{name:"nombre_comercial",title:"Nombre Comercial",control:V,errors:P,width:8})]}),Object(v.jsx)(se.a.Group,{widths:2,children:Object(v.jsx)(rt,{name:"direccion",title:"Direccion",control:V,errors:P,width:15})}),Object(v.jsx)(se.a.Group,{children:O?Object(v.jsx)(se.a.Field,{width:5,control:et.a,label:"Ubigeo",value:"".concat(I.ubigeo.provincia," ").concat(I.ubigeo.distrito," ").concat(I.ubigeo.departamento),placeholder:"Ubigeo",type:"text",readOnly:!0}):Object(v.jsx)(xt,{model:ut.ubigeo,empresaContexto:c,control:V,setValue:T,venta:I})}),Object(v.jsxs)(se.a.Group,{widths:3,children:[Object(v.jsx)(rt,{type:"number",name:"telefono",title:"Telefono Fijo",control:V,errors:P,width:5}),Object(v.jsx)(rt,{type:"number",name:"celular",title:"Telefono Celular",control:V,errors:P,width:5}),Object(v.jsx)(rt,{name:"email",title:"Email",control:V,errors:P,width:5})]}),null!==(t=Object.keys(P))&&void 0!==t&&t.length?Object(v.jsx)(je.a,{color:"orange",header:"Advertencia",list:["Verifique que todos los campos requeridos esten completos."]}):Object(v.jsx)(v.Fragment,{}),(null===_||void 0===_?void 0:_.length)&&Object(v.jsx)(je.a,{color:"red",header:"Verifique los siguientes campos",list:_}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsx)(ue.a,{primary:!0,disabled:!!s,children:"Guardar"}),Object(v.jsx)(ue.a,{style:{marginTop:"1vh"},as:"a",content:"Deshacer Cambios",onClick:function(){E(n)}})]})};var an={show:function(e){return new Promise((function(t,n){h.get("/moneda/"+e).then((function(e){t(e.data)}),(function(e){n(new Error("bad request"))}))}))},find:function(e){return new Promise((function(t,n){h.get("moneda/"+e).then((function(e){t(e.data)}))}))},create:function(e){return new Promise((function(t,n){h.post("moneda",e).then((function(e){t(e.data)})).catch((function(e){e.response&&t(e.response.data)}))}))},update:function(e,t){var n=e.empresa_id;return new Promise((function(o,i){h.put("moneda/"+n+"/"+t,e).then((function(e){o(e.data)}))}))}},cn=lt.a({nombre:lt.b().required("Complete"),iso:lt.b().required("Complete"),simbolo:lt.b().required("Complete"),sunat_codigo:lt.b().required("Complete"),dolar:lt.b().required("Complete"),empresa_id:lt.b().required("Complete")}).required(),rn=function(e){var t,n=e.state,i=Object(y.h)(),a=Object(y.g)(),c=Object(o.useContext)(C),r=(c.empresa,c.setEmpresa,Object(o.useState)(!1)),l=Object(u.a)(r,2),s=l[0],d=l[1],j=Object(o.useState)(!1),b=Object(u.a)(j,2),m=b[0],x=b[1],h=Object(Xe.e)({resolver:Object(at.a)(cn),defaultValues:n}),p=h.control,O=h.handleSubmit,f=h.formState.errors,g=h.reset,w=Object(o.useState)(),_=Object(u.a)(w,2),k=_[0],N=_[1];Object(o.useEffect)(Object(me.a)(he.a.mark((function e(){var t;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n||!n.id){e.next=7;break}return e.next=3,an.find(n.id);case 3:return t=e.sent,e.abrupt("return",N(t));case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e)}))),{data:k});var S=function(e){i(a.state.backgroundLocation.pathname,{state:{reload:{moneda_id:e}}})},A=function(){var e=Object(me.a)(he.a.mark((function e(t){var n,o;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t),d(!0),!t||!t.id){e.next=9;break}return e.next=5,an.update(t,t.id);case 5:n=e.sent,S(n),e.next=15;break;case 9:return e.next=11,an.create(t);case 11:return o=e.sent,d(!1),null!==o&&void 0!==o&&o.errors?x(dt(o)):(x(null),S(o)),e.abrupt("return",o);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsxs)(se.a,{onSubmit:O(A),noValidate:!0,children:[Object(v.jsxs)(se.a.Group,{children:[Object(v.jsx)(rt,{name:"nombre",title:"Nombre",control:p,errors:f,width:4}),Object(v.jsx)(rt,{name:"iso",title:"ISO",control:p,errors:f,width:3}),Object(v.jsx)(rt,{name:"simbolo",title:"Simbolo",control:p,errors:f,width:3}),Object(v.jsx)(rt,{name:"sunat_codigo",title:"Codigo Sunat",control:p,errors:f,width:3}),Object(v.jsx)(rt,{name:"dolar",title:"Dolar",control:p,errors:f,width:3})]}),null!==(t=Object.keys(f))&&void 0!==t&&t.length?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(je.a,{color:"orange",header:"Advertencia",list:["Verifique que todos los campos requeridos esten completos."]}),Object(v.jsx)(de.a,{children:JSON.stringify(f,null,2)})]}):Object(v.jsx)(v.Fragment,{}),(null===m||void 0===m?void 0:m.length)&&Object(v.jsx)(je.a,{color:"red",header:"Verifique los siguientes campos",list:m}),Object(v.jsx)(ue.a,{loading:s,disabled:s,content:"Guardar",primary:!0}),Object(v.jsx)(ue.a,{as:"a",content:"Deshacer Cambios",secondary:!0,onClick:function(){g(n)}})]})};var ln={show:function(){return new Promise((function(e,t){h.get("/vehiculo").then((function(t){e(t.data)}),(function(e){t(new Error("bad request"))}))}))},find:function(e){return new Promise((function(t,n){h.get("vehiculo/"+e).then((function(e){t(e.data)}))}))},create:function(e){return new Promise((function(t,n){h.post("vehiculo",e).then((function(e){t(e.data)})).catch((function(e){e.response&&t(e.response.data)}))}))},update:function(e,t){var n=e.empresa_id;return new Promise((function(o,i){h.put("vehiculo/"+n+"/"+t,e).then((function(e){o(e.data)}))}))}},sn=lt.a({descripcion:lt.b().required("Complete"),placa:lt.b().required("Complete"),marca:lt.b().required("Complete"),empresa_id:lt.b().required("Complete")}).required(),dn=function(e){var t,n=e.state,i=Object(y.h)(),a=Object(y.g)(),c=Object(o.useContext)(C),r=(c.empresa,c.setEmpresa,Object(o.useState)(!1)),l=Object(u.a)(r,2),s=l[0],d=l[1],j=Object(o.useState)(!1),b=Object(u.a)(j,2),m=b[0],x=b[1],h=Object(Xe.e)({resolver:Object(at.a)(sn),defaultValues:n}),p=h.control,O=h.handleSubmit,f=h.formState.errors,g=h.reset,w=Object(o.useState)(),_=Object(u.a)(w,2),k=_[0],N=_[1];Object(o.useEffect)(Object(me.a)(he.a.mark((function e(){var t;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n||!n.id){e.next=7;break}return e.next=3,ln.find(n.id);case 3:return t=e.sent,e.abrupt("return",N(t));case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e)}))),{data:k});var S=function(e){i(a.state.backgroundLocation.pathname,{state:{reload:{moneda_id:e}}})},A=function(){var e=Object(me.a)(he.a.mark((function e(t){var n,o;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t),d(!0),!t||!t.id){e.next=9;break}return e.next=5,ln.update(t,t.id);case 5:n=e.sent,S(n),e.next=15;break;case 9:return e.next=11,ln.create(t);case 11:return o=e.sent,d(!1),null!==o&&void 0!==o&&o.errors?x(dt(o)):(x(null),S(o)),e.abrupt("return",o);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsxs)(se.a,{onSubmit:O(A),noValidate:!0,children:[Object(v.jsxs)(se.a.Group,{children:[Object(v.jsx)(rt,{name:"descripcion",title:"Descripci\xf3n",control:p,errors:f,width:4}),Object(v.jsx)(rt,{name:"placa",title:"Placa",control:p,errors:f,width:3}),Object(v.jsx)(rt,{name:"marca",title:"Marca",control:p,errors:f,width:3})]}),null!==(t=Object.keys(f))&&void 0!==t&&t.length?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(je.a,{color:"orange",header:"Advertencia",list:["Verifique que todos los campos requeridos esten completos."]}),Object(v.jsx)(de.a,{children:JSON.stringify(f,null,2)})]}):Object(v.jsx)(v.Fragment,{}),(null===m||void 0===m?void 0:m.length)&&Object(v.jsx)(je.a,{color:"red",header:"Verifique los siguientes campos",list:m}),Object(v.jsx)(ue.a,{loading:s,disabled:s,content:"Guardar",primary:!0}),Object(v.jsx)(ue.a,{as:"a",content:"Deshacer Cambios",secondary:!0,onClick:function(){g(n)}})]})},un=lt.a({nombre:lt.b().required("Complete")}).required(),jn=function(e){var t,n=e.state,i=Object(y.h)(),a=Object(y.g)(),c=Object(o.useContext)(C),r=c.empresa,l=(c.setEmpresa,Object(o.useState)(!1)),s=Object(u.a)(l,2),d=s[0],j=s[1],b=Object(o.useState)(!1),m=Object(u.a)(b,2),x=m[0],h=m[1],p=Object(Xe.e)({resolver:Object(at.a)(un),defaultValues:n}),O=p.control,f=p.handleSubmit,g=p.watch,w=p.setValue,_=p.formState.errors,k=Object(o.useState)(),N=Object(u.a)(k,2),S=N[0],A=N[1],V=g();Object(o.useEffect)((function(){Object(me.a)(he.a.mark((function e(){var t;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n||!n.id){e.next=7;break}return e.next=3,vt.find(n.id);case 3:return t=e.sent,e.abrupt("return",A(t));case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e)})))()}),{data:S});var D=function(e){i(a.state.backgroundLocation.pathname,{state:{reload:{producto_id:e}}})},P=function(){var e=Object(me.a)(he.a.mark((function e(t){var n;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(j(!0),!t||!t.id){e.next=8;break}return e.next=4,vt.update(t,t.id);case 4:null!==(n=e.sent)&&void 0!==n&&n.errors?h(dt(n)):(h(null),D(n)),e.next=9;break;case 8:vt.create(t).then((function(e){if(j(!1),null===e||void 0===e||!e.errors)return h(null),D(e),e;h(dt(e))}),(function(e){D(t)}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsxs)(se.a,{onSubmit:f(P),noValidate:!0,children:[Object(v.jsx)(xt,{model:ut.tipo_producto,empresaContexto:r,control:O,venta:V,setValue:w,width:16}),Object(v.jsxs)(se.a.Group,{children:[Object(v.jsx)(rt,{name:"nombre",title:"Descripci\xf3n",control:O,errors:_,width:8}),Object(v.jsx)(rt,{name:"codigo",title:"C\xf3digo",control:O,errors:_,width:4}),Object(v.jsx)(rt,{name:"codigo_barras",title:"C\xf3digo de Barras",control:O,errors:_,width:4})]}),Object(v.jsxs)(se.a.Group,{children:[Object(v.jsx)(xt,{model:ut.presentacion,empresaContexto:r,control:O,venta:V,setValue:w,width:8}),Object(v.jsx)(rt,{name:"peso",title:"Peso KG",control:O,errors:_,width:4,type:"number"})]}),Object(v.jsxs)(se.a.Group,{children:[Object(v.jsx)(rt,{name:"precio_compra",title:"Costo de Compra (SIN IGV)",control:O,errors:_,width:4,type:"number"}),Object(v.jsx)(rt,{name:"por_detraccion",title:"% Detracci\xf3n",control:O,errors:_,width:4,type:"number"}),Object(v.jsx)(rt,{name:"por_isc",title:"% ISC",control:O,errors:_,width:4,type:"number"}),Object(v.jsxs)(se.a.Field,{children:[Object(v.jsx)("label",{children:" \xa0"}),Object(v.jsx)(nt.a,{label:"Afecto",checked:V.afecto,onChange:function(){w("afecto",!V.afecto)}})]})]}),Object(v.jsxs)(se.a.Group,{children:[Object(v.jsx)(xt,{model:ut.categoria,empresaContexto:r,control:O,venta:V,setValue:w,width:8}),Object(v.jsx)(xt,{model:ut.subcategoria,empresaContexto:r,control:O,venta:V,setValue:w,width:8})]}),Object(v.jsxs)(se.a.Group,{children:[Object(v.jsx)(xt,{model:ut.marca,empresaContexto:r,control:O,venta:V,setValue:w,width:8}),Object(v.jsx)(xt,{model:ut.linea,empresaContexto:r,control:O,venta:V,setValue:w,width:8})]}),null!==(t=Object.keys(_))&&void 0!==t&&t.length?Object(v.jsx)(je.a,{color:"orange",header:"Advertencia",list:["Verifique que todos los campos requeridos esten completos."]}):Object(v.jsx)(v.Fragment,{}),(null===x||void 0===x?void 0:x.length)&&Object(v.jsx)(je.a,{color:"red",header:"Verifique los siguientes campos",list:x}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsx)(ue.a,{loading:d,primary:!0,id:"formulario_guardar",children:"Guardar"})]})},bn=function(){var e=Object(o.useContext)(C).empresa;return Object(v.jsx)(v.Fragment,{children:e?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(ae,{}),Object(v.jsx)(X.a,{children:Object(v.jsx)(X.a.Row,{children:Object(v.jsxs)(X.a.Column,{width:16,style:{marginTop:"1rem",overflowY:"scroll",height:"93vh"},children:[Object(v.jsx)("span",{}),Object(v.jsx)(y.b,{})]})})})]}):Object(v.jsx)(y.a,{to:"/welcome/empresas"})})},mn=function(e){var t=e.state,n=e.resolve,i=Object(o.useState)({}),a=Object(u.a)(i,2),c=a[0],r=a[1];return Object(o.useEffect)((function(){return console.log("component did amount"),r(n(t)),function(){return r({})}}),[t]),Object(v.jsx)(Pe.a,{children:Object(v.jsxs)(Pe.a.Content,{children:[Object(v.jsx)(Pe.a.Header,{content:null===c||void 0===c?void 0:c.title}),Object(v.jsx)(Pe.a.Meta,{content:null===c||void 0===c?void 0:c.mensaje}),c.detalles&&Object.keys(c.detalles).map((function(e,t){return Object(v.jsx)(Pe.a.Description,{content:"Total: ".concat(c.detalles[e].simbolo," ").concat(c.detalles[e].total.toFixed(2),"\n                  (").concat(c.detalles[e].iso,")\n                ")})}))]})})},xn=function(){var e,t,n=Object(y.h)(),i=Object(y.g)(),a=Object(o.useContext)(C).empresa,c=ie().windowSize,r=Object(o.useState)(!1),l=Object(u.a)(r,2),d=l[0],j=l[1],b=Object(o.useState)([]),m=Object(u.a)(b,2),x=m[0],h=m[1],p=Object(o.useState)([]),O=Object(u.a)(p,2),f=O[0],g=O[1],w=Object(o.useState)(!1),_=Object(u.a)(w,2),k=_[0],N=_[1],S=new Te.a("db"),V=Object(o.useState)({page:0,limit:5e3,order:{id:"ASC"}}),D=Object(u.a)(V,2),P=(D[0],D[1],Object(o.useCallback)(Object(me.a)(he.a.mark((function e(){var t,n,o,i=arguments;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>0&&void 0!==i[0]&&i[0],t=i.length>1&&void 0!==i[1]&&i[1],n=a.empresa.id,e.next=5,tn.show(n,t);case 5:o=e.sent,h(o.reverse());case 7:case"end":return e.stop()}}),e)}))),[])),T=function(e){j(e),F(e)},F=function(){var e=Object(me.a)(he.a.mark((function e(t){var n,o;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("contacto",t.id),(n={}).filter=[["cliente_id","=",t.id]],n.limit=50,n.order={id:"DESC"},e.next=7,We.show(a.empresa.id,a.id,1,n,!1);case 7:o=e.sent,g(o||[]);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){n("/welcome/clientes/create",{state:{backgroundLocation:i,model:{empresa_id:a.empresa.id},empresa:a}})},I=function(){n("/welcome/clientes/"+d.id,{state:{backgroundLocation:i,model:d,empresa:a}})},z=function(e){for(var t={title:"Ventas",mensaje:"Ultimos 50 Documento",detalles:{}},n=0;n<e.length;n++){var o=e[n];t.detalles.hasOwnProperty(o.moneda.nombre)?t.detalles[o.moneda.nombre].total+=o.total_documento_fin:t.detalles[o.moneda.nombre]={simbolo:o.moneda.simbolo,total:o.total_documento_fin,iso:o.moneda.iso}}return t},R=function(e){for(var t={title:"Por Cobros",mensaje:"Ultimos 50 Documento, ",detalles:{}},n=0,o=0;o<e.length;o++){var i=e[o];1===i.tipo_operacion_id&&2===i.forma_pago_id&&i.total_documento_fin-i.pago_status>.001&&(t.detalles.hasOwnProperty(i.moneda.nombre)?(t.detalles[i.moneda.nombre].total+=i.total_documento_fin-i.pago_status,n++):(t.detalles[i.moneda.nombre]={iso:i.moneda.iso,simbolo:i.moneda.simbolo,total:i.total_documento_fin-i.pago_status},n++))}return t.mensaje+=n+" Pendiente(s)",t};return Object(o.useEffect)((function(){return S.collection("contactos").get().then((function(e){h(e.reverse()),P(!1,"")})),function(){return!1}}),[]),Object(o.useEffect)((function(){var e;if(null!==i&&void 0!==i&&null!==(e=i.state)&&void 0!==e&&e.reload)return S.collection("contactos").get().then((function(e){h(e.reverse()),P(!1,""),j(Object(A.a)({},i.state.reload.cliente_id)),i.state=null})),function(){return!1}}),[null===i||void 0===i?void 0:i.state]),Object(o.useEffect)((function(){Object(me.a)(he.a.mark((function e(){var t,n;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.collection("contactos").get();case 2:t=e.sent,k?(n=t.filter((function(e){if(console.log(e),e.nombre.indexOf(k)>=0||String(e.numero_documento).indexOf(k)>=0||e.direccion.indexOf(k)>=0)return e})),h(n)):h(t);case 4:case"end":return e.stop()}}),e)})))()}),[k]),Object(v.jsxs)(v.Fragment,{children:[c.width>700&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(X.a.Column,{width:8,children:[Object(v.jsx)(X.a.Row,{children:Object(v.jsx)(ye.a,{relaxed:"very",style:{marginTop:"1rem"},children:Object(v.jsxs)(ye.a.Item,{children:[Object(v.jsx)(ye.a.Content,{floated:"left",children:Object(v.jsx)(ye.a.Content,{floated:"right",children:Object(v.jsx)(Yt,{searchInput:k,setSearchInput:N,placeholder:"Buscar Contacto"})})}),Object(v.jsx)(ye.a.Content,{floated:"right",children:Object(v.jsx)(ue.a,{size:"mini",color:"teal",onClick:E,children:"Nuevo"})})]})})}),Object(v.jsx)(X.a.Row,{children:Object(v.jsx)(X.a.Column,{style:{overflowY:"scroll",height:"83vh",marginTop:"1rem"},children:Object(v.jsxs)(tt.a,{celled:!0,selectable:!0,children:[Object(v.jsx)(tt.a.Header,{children:Object(v.jsxs)(tt.a.Row,{children:[Object(v.jsx)(tt.a.HeaderCell,{children:"Nombre"}),Object(v.jsx)(tt.a.HeaderCell,{children:"Documento"}),Object(v.jsx)(tt.a.HeaderCell,{children:"Direccion"})]})}),Object(v.jsx)(tt.a.Body,{children:x.map((function(e,t){var n;return Object(v.jsxs)(tt.a.Row,{onClick:function(){T(e)},children:[Object(v.jsxs)(tt.a.Cell,{width:3,children:[e.await&&"\ud83c\udf28",e.nombre,"\xa0",Ht(e.updated_at)&&Object(v.jsx)(Ut,{index:t})]}),Object(v.jsxs)(tt.a.Cell,{width:3,children:[null===e||void 0===e||null===(n=e.tipo_documento)||void 0===n?void 0:n.nombre," ",e.numero_documento]}),Object(v.jsx)(tt.a.Cell,{width:10,children:null===e||void 0===e?void 0:e.direccion})]})}))})]})})})]}),Object(v.jsx)(X.a.Column,{width:5,children:d&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(Pe.a.Group,{doubling:!0,itemsPerRow:1,stackable:!0,style:{marginTop:"5vh"},children:Object(v.jsxs)(Pe.a,{children:[Object(v.jsx)(Pe.a.Content,{children:Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(Pe.a.Header,{children:[Object(v.jsx)($.a,{srcSet:null===d||void 0===d?void 0:d.photo,alt:d.nombre_comercial,as:"div",size:"tiny",circular:!0}),"\xa0 ",null===d||void 0===d?void 0:d.nombre," ",Ht(null===d||void 0===d?void 0:d.updated_at)&&Object(v.jsx)(Ut,{index:null===d||void 0===d?void 0:d.id})]}),Object(v.jsxs)(Pe.a.Description,{children:[Object(v.jsx)("b",{children:"Nombre Comercial"})," : ",null===d||void 0===d?void 0:d.nombre_comercial," "]}),Object(v.jsxs)(Pe.a.Description,{children:[Object(v.jsx)("b",{children:"Documento "}),": ",null===d||void 0===d||null===(e=d.tipo_documento)||void 0===e?void 0:e.nombre," ",null===d||void 0===d?void 0:d.numero_documento," "]}),Object(v.jsxs)(Pe.a.Description,{children:[Object(v.jsx)("b",{children:"Direcci\xf3n "}),": ",null===d||void 0===d?void 0:d.direccion]}),Object(v.jsxs)(Pe.a.Description,{children:[Object(v.jsx)("b",{children:"Email "}),": ",null===d||void 0===d?void 0:d.email]}),Object(v.jsxs)(Pe.a.Description,{children:[Object(v.jsx)("b",{children:"Tel\xe9fono | Whatapp"}),": ",null===d||void 0===d?void 0:d.telefono]}),Object(v.jsxs)(Pe.a.Description,{children:[Object(v.jsx)("b",{children:"Celular "}),": ",null===d||void 0===d?void 0:d.celular]})]})}),Object(v.jsxs)(Pe.a.Content,{extra:!0,children:[Object(v.jsx)(ue.a,{primary:!0,onClick:I,children:"Editar"}),Object(v.jsx)("a",{href:"https://wa.me/".concat(d.telefono,"?text=Hola"),className:"button ui green",children:"Enviar Whatapp"})]})]})}),!!d&&!!f.length&&Object(v.jsxs)(v.Fragment,{children:[!!d&&Object(v.jsxs)(Pe.a.Group,{itemsPerRow:1,stackable:!0,children:[Object(v.jsx)(mn,{className:"mt-1",state:f,resolve:z}),Object(v.jsx)(mn,{className:"mt-1",state:f,resolve:R})]}),Object(v.jsx)(Pe.a.Group,{itemsPerRow:1,stackable:!0,children:Object(v.jsx)(Pe.a,{style:{overflowY:"scroll",height:"25vh"},children:Object(v.jsx)(Pe.a.Content,{children:Object(v.jsx)(tt.a,{unstackable:!0,children:Object(v.jsx)(tt.a.Body,{children:f.map((function(e,t){var n,o,i;return Object(v.jsxs)(tt.a.Row,{children:[Object(v.jsxs)(tt.a.Cell,{children:[Object(v.jsx)(Ce.a,{ribbon:!0,color:1===e.tipo_operacion_id?1===e.forma_pago_id?"":e.pago_status<e.total_documento_fin?"orange":e.pago_status===e.total_documento_fin?"":"blue":"",children:1===e.tipo_operacion_id?1===e.forma_pago_id?"Pagado":e.pago_status<e.total_documento_fin?"X Pago":(e.pago_status,e.total_documento_fin,"Pagado"):"Pagado"}),Object(v.jsxs)(s.b,{to:"/space/ventas/".concat(e.id),state:{model:e},children:[null===e||void 0===e||null===(n=e.serie)||void 0===n?void 0:n.serie,"-",null===e||void 0===e?void 0:e.correlativo," ","\xa0\xa0\xa0"]})]}),Object(v.jsx)(tt.a.Cell,{textAlign:"right",children:"".concat(null===e||void 0===e||null===(o=e.moneda)||void 0===o?void 0:o.simbolo," ").concat(e.total_documento_fin.toFixed(2)," (").concat(null===e||void 0===e?void 0:e.moneda.iso,") ")}),Object(v.jsxs)(tt.a.Cell,{textAlign:"right",children:[null===e||void 0===e||null===(i=e.moneda)||void 0===i?void 0:i.simbolo," ",1===e.tipo_operacion_id?1===e.forma_pago_id?0:e.pago_status<e.total_documento_fin?e.total_documento_fin-e.pago_status:(e.pago_status,e.total_documento_fin,0):0," ",null===e||void 0===e?void 0:e.moneda.iso]})]})}))})})})})})]})]})})," "]}),c.width<699&&Object(v.jsxs)(v.Fragment,{children:[!d&&Object(v.jsxs)(X.a.Column,{width:16,children:[Object(v.jsx)(X.a.Row,{children:Object(v.jsx)(ye.a,{relaxed:"very",style:{marginTop:"1rem"},children:Object(v.jsxs)(ye.a.Item,{children:[Object(v.jsx)(ye.a.Content,{floated:"left",children:Object(v.jsx)(ue.a,{size:"small",onClick:E,style:{marginRight:"2px",marginLeft:"2px"},children:"Nuevo"})}),Object(v.jsx)(ye.a.Content,{floated:"right",children:Object(v.jsx)(Yt,{searchInput:k,setSearchInput:N,placeholder:"Buscar Contacto"})})]})})}),Object(v.jsx)(X.a.Row,{children:Object(v.jsx)(X.a.Column,{style:{overflowY:"scroll",height:"83vh",marginTop:"1rem"},children:Object(v.jsx)(tt.a,{celled:!0,selectable:!0,children:Object(v.jsx)(tt.a.Body,{children:x.map((function(e,t){var n;return Object(v.jsxs)(tt.a.Row,{onClick:function(){T(e)},children:[Object(v.jsxs)(tt.a.Cell,{width:3,children:[e.await&&"\ud83c\udf28",e.nombre,"\xa0",Ht(e.updated_at)&&Object(v.jsx)(Ut,{index:t})]}),Object(v.jsxs)(tt.a.Cell,{width:3,children:[null===e||void 0===e||null===(n=e.tipo_documento)||void 0===n?void 0:n.nombre," ",e.numero_documento]}),Object(v.jsx)(tt.a.Cell,{width:10,children:null===e||void 0===e?void 0:e.direccion})]})}))})})})})]}),!!d&&Object(v.jsx)(X.a.Column,{width:16,children:Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(X.a.Row,{style:{marginTop:10,marginLeft:12},children:Object(v.jsx)("span",{className:"float left",children:Object(v.jsx)(ue.a,{size:"mini",icon:"arrow circle left",content:"Regresar",onClick:Object(me.a)(he.a.mark((function e(){return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(void 0);case 2:case"end":return e.stop()}}),e)})))})})}),Object(v.jsx)(X.a.Row,{children:Object(v.jsx)(Pe.a.Group,{doubling:!0,itemsPerRow:1,stackable:!0,style:{marginTop:"1vh"},children:Object(v.jsxs)(Pe.a,{children:[Object(v.jsx)(Pe.a.Content,{children:Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(Pe.a.Header,{children:[Object(v.jsx)($.a,{srcSet:null===d||void 0===d?void 0:d.photo,alt:d.nombre_comercial,as:"div",size:"tiny",circular:!0}),"\xa0 ",null===d||void 0===d?void 0:d.nombre," ",Ht(null===d||void 0===d?void 0:d.updated_at)&&Object(v.jsx)(Ut,{index:null===d||void 0===d?void 0:d.id})]}),Object(v.jsxs)(Pe.a.Description,{children:[Object(v.jsx)("b",{children:"Nombre Comercial"})," :"," ",null===d||void 0===d?void 0:d.nombre_comercial," "]}),Object(v.jsxs)(Pe.a.Description,{children:[Object(v.jsx)("b",{children:"Documento "}),":"," ",null===d||void 0===d||null===(t=d.tipo_documento)||void 0===t?void 0:t.nombre," ",null===d||void 0===d?void 0:d.numero_documento," "]}),Object(v.jsxs)(Pe.a.Description,{children:[Object(v.jsx)("b",{children:"Direcci\xf3n "}),": ",null===d||void 0===d?void 0:d.direccion]}),Object(v.jsxs)(Pe.a.Description,{children:[Object(v.jsx)("b",{children:"Email "}),": ",null===d||void 0===d?void 0:d.email]}),Object(v.jsxs)(Pe.a.Description,{children:[Object(v.jsx)("b",{children:"Tel\xe9fono "}),": ",null===d||void 0===d?void 0:d.telefono]}),Object(v.jsxs)(Pe.a.Description,{children:[Object(v.jsx)("b",{children:"Celular "}),": ",null===d||void 0===d?void 0:d.celular]})]})}),Object(v.jsxs)(Pe.a.Content,{extra:!0,children:[Object(v.jsx)(ue.a,{primary:!0,onClick:I,children:"Editar"}),Object(v.jsx)("a",{href:"https://wa.me/".concat(d.telefono,"?text=Hola"),className:"button ui green",children:"Enviar Whatapp"})]})]})})}),!!d&&!!f.length&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(Pe.a.Group,{itemsPerRow:1,stackable:!0,style:{marginTop:10},children:[Object(v.jsx)(mn,{className:"mt-1",state:f,resolve:z}),Object(v.jsx)(mn,{className:"mt-1",state:f,resolve:R})]}),Object(v.jsx)(Pe.a.Group,{itemsPerRow:1,stackable:!0,children:Object(v.jsx)(Pe.a,{style:{overflowY:"scroll",height:"25vh"},children:Object(v.jsx)(Pe.a.Content,{children:Object(v.jsx)(tt.a,{unstackable:!0,children:Object(v.jsx)(tt.a.Body,{children:f.map((function(e,t){var n,o,i;return Object(v.jsxs)(tt.a.Row,{children:[Object(v.jsxs)(tt.a.Cell,{children:[Object(v.jsx)(Ce.a,{ribbon:!0,color:1===e.tipo_operacion_id?1===e.forma_pago_id?"":e.pago_status<e.total_documento_fin?"orange":e.pago_status===e.total_documento_fin?"":"blue":"",children:1===e.tipo_operacion_id?1===e.forma_pago_id?"Pagado":e.pago_status<e.total_documento_fin?"X Pagar":(e.pago_status,e.total_documento_fin,"Pagado"):"Pagado"}),Object(v.jsxs)(s.b,{to:"/space/ventas/".concat(e.id),state:{model:e},children:[null===e||void 0===e||null===(n=e.serie)||void 0===n?void 0:n.serie,"-",null===e||void 0===e?void 0:e.correlativo," ","\xa0\xa0\xa0"]})]}),Object(v.jsx)(tt.a.Cell,{textAlign:"right",children:"".concat(null===e||void 0===e||null===(o=e.moneda)||void 0===o?void 0:o.simbolo," ").concat(e.total_documento_fin.toFixed(2)," (").concat(null===e||void 0===e?void 0:e.moneda.iso,") ")}),Object(v.jsxs)(tt.a.Cell,{textAlign:"right",children:[null===e||void 0===e||null===(i=e.moneda)||void 0===i?void 0:i.simbolo," ",1===e.tipo_operacion_id?1===e.forma_pago_id?(0).toFixed(2):e.pago_status<e.total_documento_fin?(e.total_documento_fin-e.pago_status).toFixed(2):(e.pago_status,e.total_documento_fin,(0).toFixed(2)):(0).toFixed(2)," (",null===e||void 0===e?void 0:e.moneda.iso,") "]})]})}))})})})})})]})]})})]})]})},hn=function(e){e.query,e.setQuery;var t=e.child,n=Object(o.useState)(!1),i=Object(u.a)(n,2),a=i[0],c=i[1];return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(J.a,{onClick:function(){c(!a)},text:"Filtrar",button:!0,labeled:!0,icon:"filter",open:a,className:"icon mini",children:Object(v.jsx)(J.a.Menu,{onClick:function(e){e.stopPropagation()},style:{width:"45vh"},children:Object(v.jsx)("div",{style:{padding:"15px"},children:t})})})})},pn=function(e){var t=e.close,n=Object(o.useContext)(C).empresa,i=function(){var e=Object(me.a)(he.a.mark((function e(o){var i;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(!1),e.next=3,d.b.promise(vt.importadorFivip(n,o),{pending:"Importando...",success:"Productos Instalados \ud83d\udc4c",error:"Error de Importaci\xf3n \ud83e\udd2f"});case 3:i=e.sent,console.log(i);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsxs)(Pe.a.Group,{children:[Object(v.jsxs)(Pe.a,{children:[Object(v.jsxs)(Pe.a.Content,{children:[Object(v.jsx)(Pe.a.Header,{children:"Ferreteria"}),Object(v.jsx)(Pe.a.Meta,{children:"Cantidad +3000 Productos"}),Object(v.jsx)(Pe.a.Description,{children:"Contiene: Productos de Tuberias, Drywall, Contrucci\xf3n de Marcas como"})]}),Object(v.jsx)(Pe.a.Content,{extra:!0,children:Object(v.jsx)(ue.a,{basic:!0,color:"blue",onClick:function(){i("ferreteria")},children:"Importar"})})]}),Object(v.jsxs)(Pe.a,{children:[Object(v.jsxs)(Pe.a.Content,{children:[Object(v.jsx)(Pe.a.Header,{children:"Market"}),Object(v.jsx)(Pe.a.Meta,{children:"Cantidad +1000 Productos"}),Object(v.jsx)(Pe.a.Description,{children:"Contiene: Productos Comestibles, Primera Necesidad, Productos de Limpieza"})]}),Object(v.jsx)(Pe.a.Content,{extra:!0,children:Object(v.jsx)(ue.a,{basic:!0,color:"blue",onClick:function(){i("markert")},children:"Importar"})})]}),Object(v.jsxs)(Pe.a,{children:[Object(v.jsxs)(Pe.a.Content,{children:[Object(v.jsx)(Pe.a.Header,{children:"Botica"}),Object(v.jsx)(Pe.a.Meta,{children:"Cantidad +1500 Productos"}),Object(v.jsx)(Pe.a.Description,{children:"Contiene: Productos Farmaceuticos, Boticas, Articulos de Primera Necesidad, Marcas, Componentes"})]}),Object(v.jsx)(Pe.a.Content,{extra:!0,children:Object(v.jsx)(ue.a,{basic:!0,color:"blue",onClick:function(){i("markert")},children:"Importar"})})]})]})},vn=function(){var e,t,n,i,a,c,r,l,s,d,j=Object(y.h)(),b=new Te.a("db"),m=ie().windowSize,x=Object(y.g)(),h=Object(o.useContext)(C).empresa,p=Object(o.useState)([]),O=Object(u.a)(p,2),f=O[0],g=O[1],w=Object(o.useState)(null),_=Object(u.a)(w,2),k=_[0],N=_[1],S=Object(o.useState)([]),V=Object(u.a)(S,2),D=(V[0],V[1]),P=Object(o.useState)(!1),T=Object(u.a)(P,2),F=T[0],E=T[1],I=Object(o.useState)(!1),z=Object(u.a)(I,2),R=z[0],L=z[1],B=Object(o.useState)({show:!1,message:"Eliminar Precio"}),M=Object(u.a)(B,2),G=M[0],q=M[1],H=Object(o.useState)({page:0,limit:14,order:{id:"ASC"}}),U=Object(u.a)(H,2),Y=U[0],K=U[1],W=function(){var e=Object(me.a)(he.a.mark((function e(t){var n,o;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n={}).filter=[["producto_id","=",t.id]],n.limit=25,n.order={id:"ASC"},e.next=6,We.showDetalles(h.empresa.id,h.id,1,n);case 6:o=e.sent,D(o.data);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(me.a)(he.a.mark((function e(){var t,n,o,i=arguments;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>0&&void 0!==i[0]&&i[0],t=i.length>1&&void 0!==i[1]&&i[1],n=h.empresa.id,e.next=5,vt.show("producto/"+n,t);case 5:o=e.sent,console.log({fetch:o}),g(o);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=function(e){var t=Y;t.filter.splice(e,1),K(Object(A.a)({},t))},J=function(e){N(e),W(e)},$=function(){j("/welcome/productos/create",{state:{backgroundLocation:x,model:{empresa_id:h.empresa.id,local_id:h.id,afecto:1},empresa:h}})},ee=function(){j("/welcome/productos/"+k.id,{state:{backgroundLocation:x,model:k,empresa:h}})},te=function(){j("/welcome/precios/create",{state:{backgroundLocation:x,model:{local_id:h.id,empresa_id:h.empresa.id,producto_id:k.id,costo_compra:k.precio_compra,presentacion_id:49},empresa:h}})},ne=function(e){j("/welcome/precios/"+e.id,{state:{backgroundLocation:x,model:e,empresa:h}})},oe=function(){var e=Object(me.a)(he.a.mark((function e(){var t;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rt.destroy(G.precio.id);case 2:t=e.sent,console.log(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(o.useEffect)((function(){return b.collection("productos").get().then((function(e){var t=e.sort((function(e,t){return t.id-e.id}));g(t),Q(1)})),function(){g([])}}),[]),Object(o.useEffect)((function(){var e,t,n,o,i,a;if(null!==x&&void 0!==x&&null!==(e=x.state)&&void 0!==e&&e.reload&&null!==x&&void 0!==x&&null!==(t=x.state)&&void 0!==t&&null!==(n=t.reload)&&void 0!==n&&n.producto_id&&b.collection("productos").get().then((function(e){g(e.reverse()),Q(1);var t=e.find((function(e){return e.id===x.state.reload.producto_id.data.id}));N(t),x.state=null})),null!==x&&void 0!==x&&null!==(o=x.state)&&void 0!==o&&o.reload&&null!==x&&void 0!==x&&null!==(i=x.state)&&void 0!==i&&null!==(a=i.reload)&&void 0!==a&&a.precio_id){var c,r;if(null!==x&&void 0!==x&&null!==(c=x.state)&&void 0!==c&&null!==(r=c.reload)&&void 0!==r&&r.push){var l=k,s=k.precios||[];s.push(x.state.reload.precio_id),l.precios=s,N(Object(A.a)({},l))}else{var d=null===k||void 0===k?void 0:k.precios.map((function(e,t){return e.id===x.state.reload.precio_id.id?x.state.reload.precio_id:e}));if(d){var u=k;u.precios=d,N(Object(A.a)({},u))}}x.state=null}}),[null===x||void 0===x?void 0:x.state]),Object(o.useEffect)((function(){Object(me.a)(he.a.mark((function e(){var t,n;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.collection("productos").get();case 2:t=e.sent,F?(n=t.filter((function(e){if(e.nombre.indexOf(F)>=0)return e})),g(n)):g(t);case 4:case"end":return e.stop()}}),e)})))()}),[F]),Object(v.jsxs)(v.Fragment,{children:[m.width>700&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(X.a.Column,{width:8,children:[Object(v.jsx)(X.a.Row,{children:Object(v.jsx)(ye.a,{relaxed:"very",style:{marginTop:"1rem"},children:Object(v.jsxs)(ye.a.Item,{children:[Object(v.jsx)(ye.a.Content,{floated:"left",children:Object(v.jsx)(Yt,{searchInput:F,setSearchInput:E,placeholder:"Buscar Producto"})}),Object(v.jsx)(ye.a.Content,{floated:"right",children:Object(v.jsx)(ue.a,{size:"mini",color:"teal",onClick:$,children:"Nuevo Producto"})})]})})}),Object(v.jsx)(X.a.Row,{children:Object(v.jsx)(ye.a,{relaxed:"very",style:{marginTop:"1rem"},children:Object(v.jsx)(ye.a.Item,{children:Object(v.jsx)(ye.a.Content,{floated:"left",children:null===Y||void 0===Y||null===(e=Y.filter)||void 0===e?void 0:e.map((function(e,t){return Object(v.jsxs)(Ce.a,{as:"a",onClick:function(){Z(t)},children:[e[0],Object(v.jsx)(_e.a,{name:"delete"},t)]},t)}))})})})}),Object(v.jsx)(X.a.Row,{children:Object(v.jsx)(X.a.Column,{style:{overflowY:"scroll",height:"83vh",marginTop:"1rem"},children:Object(v.jsxs)(tt.a,{celled:!0,selectable:!0,children:[Object(v.jsx)(tt.a.Header,{children:Object(v.jsxs)(tt.a.Row,{children:[Object(v.jsx)(tt.a.HeaderCell,{children:"Codigo"}),Object(v.jsx)(tt.a.HeaderCell,{children:"Descripci\xf3n"}),Object(v.jsx)(tt.a.HeaderCell,{children:"Codigo de Barras"}),Object(v.jsx)(tt.a.HeaderCell,{children:"Marca"}),Object(v.jsx)(tt.a.HeaderCell,{children:"Presentaci\xf3n"}),Object(v.jsx)(tt.a.HeaderCell,{children:"Categor\xeda"}),Object(v.jsx)(tt.a.HeaderCell,{children:"Sub Categoria"})]})}),Object(v.jsx)(tt.a.Body,{children:null===f||void 0===f?void 0:f.map((function(e,t){var n,o,i,a;return Object(v.jsxs)(tt.a.Row,{onClick:function(){J(e)},children:[Object(v.jsx)(tt.a.Cell,{width:1,children:e.codigo}),Object(v.jsxs)(tt.a.Cell,{width:6,children:[e.nombre,"\xa0",Ht(e.updated_at)&&Object(v.jsx)(Ut,{index:t})]}),Object(v.jsx)(tt.a.Cell,{width:2,children:null===e||void 0===e?void 0:e.codigo_barras}),Object(v.jsx)(tt.a.Cell,{width:2,children:null===e||void 0===e||null===(n=e.marca)||void 0===n?void 0:n.nombre}),Object(v.jsx)(tt.a.Cell,{width:1,children:null===e||void 0===e||null===(o=e.presentacion)||void 0===o?void 0:o.nombre}),Object(v.jsx)(tt.a.Cell,{width:2,children:null===e||void 0===e||null===(i=e.categoria)||void 0===i?void 0:i.nombre}),Object(v.jsx)(tt.a.Cell,{width:2,children:null===e||void 0===e||null===(a=e.subcategoria)||void 0===a?void 0:a.nombre})]})}))})]})})})]}),Object(v.jsxs)(X.a.Column,{width:8,children:[k&&k.id&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(Pe.a.Group,{doubling:!0,itemsPerRow:1,stackable:!0,style:{marginTop:"5vh"},children:[Object(v.jsxs)(Pe.a,{children:[Object(v.jsx)(Pe.a.Content,{children:Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(Pe.a.Header,{children:[null===k||void 0===k?void 0:k.nombre," ",Ht(null===k||void 0===k?void 0:k.updated_at)&&Object(v.jsx)(Ut,{index:null===k||void 0===k?void 0:k.id})]}),Object(v.jsx)(Pe.a.Description,{children:Object(v.jsx)(tt.a,{basic:"very",children:Object(v.jsxs)(tt.a.Body,{children:[Object(v.jsxs)(tt.a.Row,{children:[Object(v.jsxs)(tt.a.Cell,{children:[Object(v.jsx)("b",{children:"C\xf3digo:"}),Object(v.jsx)("br",{}),null===k||void 0===k?void 0:k.codigo]}),Object(v.jsxs)(tt.a.Cell,{children:[Object(v.jsx)("b",{children:"C\xf3digo de Barras:"}),Object(v.jsx)("br",{}),null===k||void 0===k?void 0:k.codigo_barras]}),Object(v.jsxs)(tt.a.Cell,{children:[Object(v.jsx)("b",{children:"Marca:"}),Object(v.jsx)("br",{}),null===k||void 0===k||null===(t=k.marca)||void 0===t?void 0:t.nombre]}),Object(v.jsxs)(tt.a.Cell,{children:[Object(v.jsx)("b",{children:"Linea:"}),Object(v.jsx)("br",{}),null===k||void 0===k||null===(n=k.linea)||void 0===n?void 0:n.nombre]})]}),Object(v.jsxs)(tt.a.Row,{children:[Object(v.jsxs)(tt.a.Cell,{children:[Object(v.jsx)("b",{children:"Afecto:"}),Object(v.jsx)("br",{}),null!==k&&void 0!==k&&k.afecto?"Si":"No"]}),Object(v.jsxs)(tt.a.Cell,{children:[Object(v.jsx)("b",{children:"Precio de Compra:"}),Object(v.jsx)("br",{}),null===k||void 0===k||null===(i=k.moneda)||void 0===i?void 0:i.simbolo," ",null===k||void 0===k?void 0:k.precio_compra]}),Object(v.jsxs)(tt.a.Cell,{children:[Object(v.jsx)("b",{children:"Peso:"}),Object(v.jsx)("br",{}),null===k||void 0===k?void 0:k.peso," KG"]}),Object(v.jsx)(tt.a.Cell,{children:"\xa0"})]}),Object(v.jsxs)(tt.a.Row,{children:[Object(v.jsxs)(tt.a.Cell,{children:[Object(v.jsx)("b",{children:"% IGV:"}),Object(v.jsx)("br",{}),null===k||void 0===k?void 0:k.igv]}),Object(v.jsxs)(tt.a.Cell,{children:[Object(v.jsx)("b",{children:"% Detracci\xf3n:"}),Object(v.jsx)("br",{}),null===k||void 0===k?void 0:k.por_detraccion]}),Object(v.jsxs)(tt.a.Cell,{children:[Object(v.jsx)("b",{children:"% ISC:"}),Object(v.jsx)("br",{}),null===k||void 0===k?void 0:k.por_isc]}),Object(v.jsx)(tt.a.Cell,{children:" \xa0"})]})]})})})]})}),Object(v.jsx)(Pe.a.Content,{extra:!0,children:Object(v.jsx)(ue.a,{primary:!0,onClick:ee,children:"Editar"})})]}),Object(v.jsx)(Pe.a,{children:Object(v.jsxs)(Pe.a.Content,{style:{overflowY:"scroll",height:"24vh"},children:[Object(v.jsxs)(Pe.a.Header,{children:["Precios de Venta",Object(v.jsxs)(ue.a,{floated:"right",icon:!0,labelPosition:"left",primary:!0,size:"small",onClick:te,style:{marginBottom:"1vh"},children:[Object(v.jsx)(_e.a,{name:"currency"}),"Nuevo Precio"]})]}),Object(v.jsx)(Pe.a.Description,{children:Object(v.jsxs)(tt.a,{basic:"very",children:[Object(v.jsx)(tt.a.Header,{children:Object(v.jsxs)(tt.a.Row,{children:[Object(v.jsx)(tt.a.HeaderCell,{children:Object(v.jsx)("abbr",{title:"Presentacion Unitaria",children:"PST."})}),Object(v.jsx)(tt.a.HeaderCell,{children:Object(v.jsx)("abbr",{title:"Utlidad",children:"UTL."})}),Object(v.jsx)(tt.a.HeaderCell,{children:Object(v.jsx)("abbr",{title:"Precio de Compra sin IGV",children:"COSTO"})}),Object(v.jsx)(tt.a.HeaderCell,{children:Object(v.jsx)("abbr",{title:"Precio de Venta sin IGV",children:"GRAV."})}),Object(v.jsx)(tt.a.HeaderCell,{children:Object(v.jsx)("abbr",{title:"Valor del IGV",children:"IGV"})}),Object(v.jsx)(tt.a.HeaderCell,{children:Object(v.jsx)("abbr",{title:"Precio de Venta",children:"PV."})}),Object(v.jsx)(tt.a.HeaderCell,{})]})}),Object(v.jsx)(tt.a.Body,{children:null===k||void 0===k||null===(a=k.precios)||void 0===a?void 0:a.map((function(e,t){var n,o,i,a;return Object(v.jsxs)(tt.a.Row,{children:[Object(v.jsxs)(tt.a.Cell,{children:[e.presentacion.nombre," \xa0",Ht(e.updated_at)&&Object(v.jsx)(Ut,{index:t})," "]}),Object(v.jsxs)(tt.a.Cell,{children:["% ",null===e||void 0===e?void 0:e.por_utilidad]}),Object(v.jsxs)(tt.a.Cell,{children:[null===(n=k.moneda)||void 0===n?void 0:n.simbolo," ",null===e||void 0===e?void 0:e.costo_compra]}),Object(v.jsxs)(tt.a.Cell,{children:[null===e||void 0===e||null===(o=e.moneda)||void 0===o?void 0:o.simbolo," ",e.costo_venta]}),Object(v.jsxs)(tt.a.Cell,{children:[null===e||void 0===e||null===(i=e.moneda)||void 0===i?void 0:i.simbolo," ",e.igv]}),Object(v.jsx)(tt.a.Cell,{children:Object(v.jsxs)("b",{children:[null===e||void 0===e||null===(a=e.moneda)||void 0===a?void 0:a.simbolo," ",e.precio_venta]})}),Object(v.jsx)(tt.a.Cell,{children:Object(v.jsx)(ue.a.Group,{size:"mini",children:Object(v.jsx)(ue.a,{icon:"pencil",onClick:function(){ne(e)}})})})]})}))}),Object(v.jsx)(tt.a.Footer,{fullWidth:!0,children:Object(v.jsxs)(tt.a.Row,{children:[Object(v.jsx)(tt.a.HeaderCell,{}),Object(v.jsx)(tt.a.HeaderCell,{colSpan:"6"})]})})]})})]})})]}),Object(v.jsx)(Pe.a.Group,{})]}),Object(v.jsx)(Be.a,{open:G.show,content:G.message,onCancel:function(){q({show:!G.show})},onConfirm:function(){oe()}})]})]}),m.width<699&&Object(v.jsxs)(v.Fragment,{children:[!k&&Object(v.jsxs)(X.a.Column,{width:16,children:[Object(v.jsx)(X.a.Row,{children:Object(v.jsx)(ye.a,{relaxed:"very",style:{marginTop:"1rem"},children:Object(v.jsxs)(ye.a.Item,{children:[Object(v.jsx)(ye.a.Content,{floated:"left",children:Object(v.jsx)(ue.a,{style:{marginLeft:2},size:"small",onClick:$,children:"Nuevo"})}),Object(v.jsx)(ye.a.Content,{floated:"right",children:Object(v.jsx)(Yt,{searchInput:F,setSearchInput:E,placeholder:"Buscar Producto"})})]})})}),Object(v.jsx)(X.a.Row,{children:Object(v.jsx)(ye.a,{relaxed:"very",style:{marginTop:"1rem"},children:Object(v.jsx)(ye.a.Item,{children:Object(v.jsx)(ye.a.Content,{floated:"left",children:null===Y||void 0===Y||null===(c=Y.filter)||void 0===c?void 0:c.map((function(e,t){return Object(v.jsxs)(Ce.a,{as:"a",onClick:function(){Z(t)},children:[e[0],Object(v.jsx)(_e.a,{name:"delete"},t)]},t)}))})})})}),Object(v.jsx)(X.a.Row,{children:Object(v.jsx)(X.a.Column,{style:{overflowY:"scroll",height:"83vh",marginTop:"1rem"},children:Object(v.jsx)(tt.a,{celled:!0,selectable:!0,children:Object(v.jsx)(tt.a.Body,{children:null===f||void 0===f?void 0:f.map((function(e,t){var n,o,i,a;return Object(v.jsxs)(tt.a.Row,{onClick:function(){J(e)},children:[Object(v.jsx)(tt.a.Cell,{width:1,children:e.codigo}),Object(v.jsxs)(tt.a.Cell,{width:6,children:[e.nombre,"\xa0",Ht(e.updated_at)&&Object(v.jsx)(Ut,{index:t})]}),Object(v.jsx)(tt.a.Cell,{width:2,children:null===e||void 0===e?void 0:e.codigo_barras}),Object(v.jsx)(tt.a.Cell,{width:2,children:null===e||void 0===e||null===(n=e.marca)||void 0===n?void 0:n.nombre}),Object(v.jsx)(tt.a.Cell,{width:1,children:null===e||void 0===e||null===(o=e.presentacion)||void 0===o?void 0:o.nombre}),Object(v.jsx)(tt.a.Cell,{width:2,children:null===e||void 0===e||null===(i=e.categoria)||void 0===i?void 0:i.nombre}),Object(v.jsx)(tt.a.Cell,{width:2,children:null===e||void 0===e||null===(a=e.subcategoria)||void 0===a?void 0:a.nombre})]})}))})})})})]}),Object(v.jsxs)(X.a.Column,{width:16,children:[k&&k.id&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(X.a.Row,{style:{marginTop:10,marginLeft:12},children:Object(v.jsx)("span",{className:"float left",children:Object(v.jsx)(ue.a,{size:"mini",icon:"arrow circle left",content:"Regresar",onClick:Object(me.a)(he.a.mark((function e(){return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N(void 0);case 2:case"end":return e.stop()}}),e)})))})})}),Object(v.jsxs)(X.a.Row,{children:[Object(v.jsxs)(Pe.a.Group,{doubling:!0,itemsPerRow:1,stackable:!0,style:{marginTop:"5vh"},children:[Object(v.jsxs)(Pe.a,{children:[Object(v.jsx)(Pe.a.Content,{children:Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(Pe.a.Header,{children:[null===k||void 0===k?void 0:k.nombre,Ht(null===k||void 0===k?void 0:k.updated_at)&&Object(v.jsx)(Ut,{index:null===k||void 0===k?void 0:k.id})]}),Object(v.jsx)(Pe.a.Description,{children:Object(v.jsx)(tt.a,{basic:"very",unstackable:!0,children:Object(v.jsxs)(tt.a.Body,{children:[Object(v.jsxs)(tt.a.Row,{children:[Object(v.jsxs)(tt.a.Cell,{children:[Object(v.jsx)("b",{children:"C\xf3digo:"}),Object(v.jsx)("br",{}),null===k||void 0===k?void 0:k.codigo]}),Object(v.jsxs)(tt.a.Cell,{children:[Object(v.jsx)("b",{children:"C\xf3digo de Barras:"}),Object(v.jsx)("br",{}),null===k||void 0===k?void 0:k.codigo_barras]}),Object(v.jsxs)(tt.a.Cell,{children:[Object(v.jsx)("b",{children:"Marca:"}),Object(v.jsx)("br",{}),null===k||void 0===k||null===(r=k.marca)||void 0===r?void 0:r.nombre]}),Object(v.jsxs)(tt.a.Cell,{children:[Object(v.jsx)("b",{children:"Linea:"}),Object(v.jsx)("br",{}),null===k||void 0===k||null===(l=k.linea)||void 0===l?void 0:l.nombre]})]}),Object(v.jsxs)(tt.a.Row,{children:[Object(v.jsxs)(tt.a.Cell,{children:[Object(v.jsx)("b",{children:"Afecto:"}),Object(v.jsx)("br",{}),null!==k&&void 0!==k&&k.afecto?"Si":"No"]}),Object(v.jsxs)(tt.a.Cell,{children:[Object(v.jsx)("b",{children:"Precio de Compra:"}),Object(v.jsx)("br",{}),null===k||void 0===k||null===(s=k.moneda)||void 0===s?void 0:s.simbolo," ",null===k||void 0===k?void 0:k.precio_compra]}),Object(v.jsxs)(tt.a.Cell,{children:[Object(v.jsx)("b",{children:"Peso:"}),Object(v.jsx)("br",{}),null===k||void 0===k?void 0:k.peso," KG"]}),Object(v.jsx)(tt.a.Cell,{children:"\xa0"})]}),Object(v.jsxs)(tt.a.Row,{children:[Object(v.jsxs)(tt.a.Cell,{children:[Object(v.jsx)("b",{children:"% IGV:"}),Object(v.jsx)("br",{}),null===k||void 0===k?void 0:k.igv]}),Object(v.jsxs)(tt.a.Cell,{children:[Object(v.jsx)("b",{children:"% Detracci\xf3n:"}),Object(v.jsx)("br",{}),null===k||void 0===k?void 0:k.por_detraccion]}),Object(v.jsxs)(tt.a.Cell,{children:[Object(v.jsx)("b",{children:"% ISC:"}),Object(v.jsx)("br",{}),null===k||void 0===k?void 0:k.por_isc]}),Object(v.jsx)(tt.a.Cell,{children:" \xa0"})]})]})})})]})}),Object(v.jsx)(Pe.a.Content,{extra:!0,children:Object(v.jsx)(ue.a,{primary:!0,onClick:ee,children:"Editar"})})]}),Object(v.jsx)(Pe.a,{children:Object(v.jsxs)(Pe.a.Content,{style:{overflowY:"scroll",height:"24vh"},children:[Object(v.jsxs)(Pe.a.Header,{children:["Precios de Venta",Object(v.jsxs)(ue.a,{floated:"right",icon:!0,labelPosition:"left",primary:!0,size:"small",onClick:te,style:{marginBottom:"1vh"},children:[Object(v.jsx)(_e.a,{name:"currency"}),"Nuevo Precio"]})]}),Object(v.jsx)(Pe.a.Description,{children:Object(v.jsxs)(tt.a,{basic:"very",unstackable:!0,children:[Object(v.jsx)(tt.a.Header,{children:Object(v.jsxs)(tt.a.Row,{children:[Object(v.jsx)(tt.a.HeaderCell,{children:Object(v.jsx)("abbr",{title:"Presentacion Unitaria",children:"PST."})}),Object(v.jsx)(tt.a.HeaderCell,{children:Object(v.jsx)("abbr",{title:"Utlidad",children:"UTL."})}),Object(v.jsx)(tt.a.HeaderCell,{children:Object(v.jsx)("abbr",{title:"Precio de Compra sin IGV",children:"COSTO"})}),Object(v.jsx)(tt.a.HeaderCell,{children:Object(v.jsx)("abbr",{title:"Precio de Venta sin IGV",children:"GRAV."})}),Object(v.jsx)(tt.a.HeaderCell,{children:Object(v.jsx)("abbr",{title:"Valor del IGV",children:"IGV"})}),Object(v.jsx)(tt.a.HeaderCell,{children:Object(v.jsx)("abbr",{title:"Precio de Venta",children:"PV."})}),Object(v.jsx)(tt.a.HeaderCell,{})]})}),Object(v.jsx)(tt.a.Body,{children:null===k||void 0===k||null===(d=k.precios)||void 0===d?void 0:d.map((function(e,t){var n,o,i,a;return Object(v.jsxs)(tt.a.Row,{children:[Object(v.jsxs)(tt.a.Cell,{children:[e.presentacion.nombre," \xa0",Ht(e.updated_at)&&Object(v.jsx)(Ut,{index:t})," "]}),Object(v.jsxs)(tt.a.Cell,{children:["% ",null===e||void 0===e?void 0:e.por_utilidad]}),Object(v.jsxs)(tt.a.Cell,{children:[null===(n=k.moneda)||void 0===n?void 0:n.simbolo," ",null===e||void 0===e?void 0:e.costo_compra]}),Object(v.jsxs)(tt.a.Cell,{children:[null===e||void 0===e||null===(o=e.moneda)||void 0===o?void 0:o.simbolo," ",e.costo_venta]}),Object(v.jsxs)(tt.a.Cell,{children:[null===e||void 0===e||null===(i=e.moneda)||void 0===i?void 0:i.simbolo," ",e.igv]}),Object(v.jsx)(tt.a.Cell,{children:Object(v.jsxs)("b",{children:[null===e||void 0===e||null===(a=e.moneda)||void 0===a?void 0:a.simbolo," ",e.precio_venta]})}),Object(v.jsx)(tt.a.Cell,{children:Object(v.jsx)(ue.a.Group,{size:"mini",children:Object(v.jsx)(ue.a,{icon:"pencil",onClick:function(){ne(e)}})})})]})}))}),Object(v.jsx)(tt.a.Footer,{fullWidth:!0,children:Object(v.jsxs)(tt.a.Row,{children:[Object(v.jsx)(tt.a.HeaderCell,{}),Object(v.jsx)(tt.a.HeaderCell,{colSpan:"6"})]})})]})})]})})]}),Object(v.jsx)(Pe.a.Group,{})]})]}),Object(v.jsx)(Be.a,{open:G.show,content:G.message,onCancel:function(){q({show:!G.show})},onConfirm:function(){oe()}})]})]}),Object(v.jsxs)(Ae.a,{dimmer:"blurring",open:R,onClose:function(){return L(!R)},children:[Object(v.jsx)(Ae.a.Header,{children:"Selecciona uno \xf3 varios paquetes de Productos"}),Object(v.jsx)(Ae.a.Content,{children:Object(v.jsx)(pn,{close:L})}),Object(v.jsx)(Ae.a.Actions,{children:Object(v.jsx)(ue.a,{onClick:function(){return L(!R)},children:"Cerrar"})})]})]})},On=lt.a({presentacion_id:lt.b().required("Complete"),moneda_id:lt.b().required("Complete"),producto_id:lt.b().required("Complete")}).required(),fn=function(e){var t,n,a,c=e.state,r=Object(y.h)(),l=Object(y.g)(),s=Object(o.useContext)(C),d=s.empresa,j=(s.setEmpresa,Object(o.useState)(!1)),b=Object(u.a)(j,2),m=b[0],x=b[1],h=Object(o.useState)(!1),p=Object(u.a)(h,2),O=p[0],f=p[1],g=Object(Xe.e)({resolver:Object(at.a)(On),defaultValues:c}),w=g.control,_=g.handleSubmit,k=g.setValue,N=g.watch,S=g.formState.errors,A=N(),V=new zt;i.a.useEffect((function(){var e=N((function(e,t){var n=t.name,o=t.type,i=[];"precio_venta"===n&&"change"===o&&(i=V.precioVenta(e)),"costo_venta"===n&&"change"===o&&(i=V.costoVenta(e));for(var a=Object.keys(i),c=0;c<a.length;c++){var r=a[c];k(r,i[r])}}));return function(){return e.unsubscribe()}}),[N]);var D=Object(o.useState)(),P=Object(u.a)(D,2),T=P[0],F=P[1];Object(o.useEffect)((function(){Object(me.a)(he.a.mark((function e(){var t;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c||!c.id){e.next=7;break}return e.next=3,Rt.find(c.id);case 3:return t=e.sent,e.abrupt("return",F(t));case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e)})))()}),{data:T});var E=function(e,t){r(l.state.backgroundLocation.pathname,{state:{reload:{precio_id:e,push:t}}})},I=function(){var e=Object(me.a)(he.a.mark((function e(t){var n,o;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x(!0),!t||!t.id){e.next=8;break}return e.next=4,Rt.update(t,d.empresa.id,t.id);case 4:n=e.sent,E(n,!1),e.next=14;break;case 8:return e.next=10,Rt.create(t);case 10:return o=e.sent,x(!1),null!==o&&void 0!==o&&o.errors?f(dt(o)):(f(null),E(o,!0)),e.abrupt("return",o);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsxs)(se.a,{onSubmit:_(I),noValidate:!0,children:[Object(v.jsxs)(se.a.Group,{children:[Object(v.jsx)(xt,{model:ut.presentacion,empresaContexto:d,control:w,venta:c,setValue:k,width:6}),Object(v.jsx)(xt,{model:ut.moneda,empresaContexto:d,control:w,venta:c,setValue:k,width:3})]}),Object(v.jsxs)(se.a.Group,{children:[Object(v.jsx)(rt,{name:"costo_compra",title:"Costo de Compra",control:w,errors:S,width:3,readOnly:!0}),Object(v.jsx)(rt,{name:"igv",title:"% de IGV",control:w,errors:S,width:3,readOnly:!0}),Object(v.jsx)(rt,{name:"por_utilidad",title:"% de Utilidad",type:"number",control:w,errors:S,width:3,readOnly:!0}),Object(v.jsx)(rt,{name:"utilidad",title:null!==A&&void 0!==A&&null!==(t=A.moneda)&&void 0!==t&&t.simbolo?"Utilidad "+(null===A||void 0===A||null===(n=A.moneda)||void 0===n?void 0:n.simbolo):"Utilidad",control:w,errors:S,width:3,readOnly:!0,type:"number"}),Object(v.jsx)(rt,{name:"costo_venta",title:"Costo de Venta",control:w,errors:S,width:3,type:"number"}),Object(v.jsx)(rt,{name:"precio_venta",title:"Precio Venta",control:w,errors:S,width:3,type:"number"})]}),null!==(a=Object.keys(S))&&void 0!==a&&a.length?Object(v.jsx)(je.a,{color:"orange",header:"Advertencia",list:["Verifique que todos los campos requeridos esten completos."]}):Object(v.jsx)(v.Fragment,{}),(null===O||void 0===O?void 0:O.length)&&Object(v.jsx)(je.a,{color:"red",header:"Verifique los siguientes campos",list:O}),Object(v.jsx)(ue.a,{loading:m,secondary:!0,children:"Guardar"})]})},gn=lt.a({cliente:lt.b().required("Complete"),message:lt.b().required("Complete")}).required();var wn={send:function(e){console.log("http://192.168.2.3:3001","https://mailer-service.fivip.net");for(var t=new FormData,n=Object.keys(e),o=0;o<n.length;o++){var i=n[o];["id","message","sunat_documento","cliente","empresa_id","file","files","empresa","serie","correlativo"].indexOf(i)>=0&&("object"===typeof e[i]&&"file"!==i?t.append(i,JSON.stringify(e[i])):t.append(i,e[i]))}return console.log(t),new Promise((function(e,n){b.a.post("https://mailer-service.fivip.net/send",t).then((function(t){e(t.data)})).catch((function(t){t.response&&e(t.response.data)}))}))}},_n=function(e){var t=e.state,n=e.handleChangeVenta,i=Object(y.h)(),a=(Object(y.g)(),Object(Xe.e)({resolver:Object(at.a)(gn),defaultValues:t})),c=a.control,r=a.handleSubmit,l=a.setValue,s=(0,a.watch)(),j=function(){var e=Object(me.a)(he.a.mark((function e(t){return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(me.a)(he.a.mark((function e(t){return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),i(-1),d.b.promise(wn.send(Object(A.a)(Object(A.a)({},s),{files:p})),{pending:"Enviando Correo",success:"Correo Enviado \ud83d\udc4c",error:"Correo no enviado \ud83e\udd2f"});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=Object(o.useContext)(C).empresa,x=Object(o.useState)([]),h=Object(u.a)(x,2),p=h[0],O=h[1];return Object(o.useState)((function(){if(null!==t&&void 0!==t&&t.sunat_documento){var e=[{icon:"file code outline",name:"".concat(t.sunat_documento,".xml"),path:"".concat(m.empresa.id,"/xml/R-").concat(t.sunat_documento,".xml"),enviable:!0},{icon:"file archive outline",name:"".concat(t.sunat_documento,".zip"),path:"".concat(m.empresa.id,"/resp/R-").concat(t.sunat_documento,".zip"),enviable:!0}];e.length||(e=[]);var n="".concat(m.empresa.ruc,"-").concat(t.serie.sunat_codigo,"-").concat(t.serie.serie,"-").concat(t.correlativo,".pdf");t.file&&e.push({icon:"file pdf outline",name:n,enviable:!1}),O(e)}else{var o=[],i="".concat(m.empresa.ruc,"-").concat(t.serie.sunat_codigo,"-").concat(t.serie.serie,"-").concat(t.correlativo,".pdf");t.file&&o.push({icon:"file pdf outline",name:i,enviable:!1}),O(o)}return function(){console.log("unmounted send mailer")}}),t),Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(se.a,{onSubmit:r(j),noValidate:!0,children:[Object(v.jsx)(se.a.Group,{widths:16,children:Object(v.jsx)(xt,{model:ut.clientes,empresaContexto:m,control:c,venta:t,handleChangeVenta:n,setValue:l,width:16})}),Object(v.jsx)(se.a.Group,{widths:16,children:Object(v.jsx)(se.a.Field,{width:16,children:Object(v.jsx)(Xe.a,{name:"message",control:c,render:function(e){var t=e.field,n=t.onChange,o=t.onBlur,i=t.value;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("label",{children:"Mensaje"}),Object(v.jsx)(it.a,{rows:12,value:i,onBlur:o,onChange:n,placeholder:"Escribe tu mensaje"})]})}})})}),Object(v.jsxs)(tt.a,{unstackable:!0,children:[Object(v.jsx)(tt.a.Header,{children:Object(v.jsxs)(tt.a.Row,{children:[Object(v.jsx)(tt.a.HeaderCell,{children:"Archivo"}),Object(v.jsx)(tt.a.HeaderCell,{children:"Nombre"})]})}),Object(v.jsx)(tt.a.Body,{children:p.map((function(e,t){return Object(v.jsxs)(tt.a.Row,{children:[Object(v.jsx)(tt.a.Cell,{children:Object(v.jsx)(_e.a,{name:e.icon})}),Object(v.jsx)(tt.a.Cell,{children:e.name})]})}))})]}),Object(v.jsx)(ue.a,{content:"Enviar Correo",color:"primary",fluid:!0,onClick:b})]})})},Cn=function(){var e=Object(y.g)(),t=Object(y.h)();return Object(v.jsx)(Oe.a,{children:Object(v.jsxs)(X.a.Column,{width:16,style:{marginTop:"10px",padding:10},children:[Object(v.jsx)(X.a.Row,{children:Object(v.jsx)(le.a,{as:"h1",children:"Reportes"})}),Object(v.jsx)(X.a.Row,{style:{marginTop:"10px"},children:Object(v.jsx)(Pe.a.Group,{children:Object(v.jsx)(Pe.a,{onClick:function(){t("/reportes/"+"ventas",{state:{backgroundLocation:e}})},header:"Ventas",description:"Genera el Reporte de Venta por Periodos de Fechas, Operacion, Clientes en formato Excel"})})})]})})},yn=lt.a({}).required(),kn=function(){var e=Object(o.useContext)(C),t=Object(Xe.e)({resolver:Object(at.a)(yn),defaultValues:{_desde:Pt(new Date),_hasta:Pt(new Date),_anulado:!0,_ventas:!0,_cotizacion:!1,_guia_remision:!1,_nota_credito:!1}}),n=t.control,i=(t.handleSubmit,t.formState.errors),a=t.setValue,c=(t.reset,(0,t.watch)()),r={_ventas:1,_cotizacion:2,_guia_remision:3,_nota_credito:4,_anulado:5},l=function(){var t=Object(me.a)(he.a.mark((function t(){var n,o,i,a;return he.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(n={},o=Object.keys(c),n.filter=[["tipo_operacion_id","in",[]]],i=0;i<o.length;i++)a=c[o[i]],"_desde"===o[i]?n.filter.push(["fecha_emision",">=",c[o[i]]]):"_hasta"===o[i]?n.filter.push(["fecha_emision","<=",c[o[i]]]):(console.log(a,o[i]),a&&n.filter[0][2].push(r[o[i]]));return t.next=6,We.reporte(e.empresa,n);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(v.jsxs)(se.a,{children:[Object(v.jsxs)(se.a.Group,{children:[Object(v.jsx)(rt,{name:"_desde",title:"Desde",control:n,errors:i,type:"date",width:5}),Object(v.jsx)(rt,{name:"_hasta",title:"Hasta",control:n,errors:i,type:"date",width:5})]}),Object(v.jsx)(le.a,{as:"h3",children:"Tipo de Documento"}),Object(v.jsxs)(se.a.Group,{children:[Object(v.jsx)(se.a.Checkbox,{label:"Documentos de Ventas",name:"_ventas",checked:c._ventas,onChange:function(){a("_ventas",!c._ventas)}}),Object(v.jsx)(se.a.Checkbox,{label:"Cotizaciones",name:"_cotizacion",checked:c._cotizacion,onChange:function(){a("_cotizacion",!c._cotizacion)}}),Object(v.jsx)(se.a.Checkbox,{label:"Guia de Remisi\xf3n",name:"_guia_remision",checked:c._guia_remision,onChange:function(){a("_guia_remision",!c._guia_remision)}}),Object(v.jsx)(se.a.Checkbox,{label:"Nota de Cr\xe9dito",name:"_nota_credito",checked:c._nota_credito,onChange:function(){a("_nota_credito",!c._nota_credito)}}),Object(v.jsx)(se.a.Checkbox,{label:"Anulados",name:"_anulado",checked:c._anulado,onChange:function(){a("_anulado",!c._anulado)}})]}),Object(v.jsx)("div",{style:{marginTop:"5vh"},children:Object(v.jsx)(ue.a,{content:"Generar Reporte",fluid:!0,primary:!0,onClick:function(){return l()}})})]})},Nn=n(886),Sn=lt.a({}).required(),An=function(e){var t,n,i,a,c,r,l,s,j,b,m,x,h,p,O,f,g,w,_,k,N,S,V,D,P,T,F,E,I,z,R,L,B,M,G,q,H,U,Y,K,W,Q,$,ee,te,ne,ie,ae,ce,re,be,xe,pe,ve,Oe=e.loading,fe=e.selected,ge=e.handleChangeVenta,we=e.editionMode,Ce=e.state,ye=e.formatPrint,ke=e.setFormatPrint,Ne=Object(o.createRef)(),Se=Object(y.h)(),Ae=Object(y.g)(),Ve=Object(o.useContext)(C),De=Ve.empresa,Pe=Ve.setEmpresa,Te=Ve.impresion,Fe=Object(o.useContext)(oe),Ee=Fe.setDocumento,ze=Fe.ventaDefaultContent,Re=Object(o.useState)(!1),Le=Object(u.a)(Re,2),Me=Le[0],Ge=Le[1],qe=Object(o.useState)(!1),He=Object(u.a)(qe,2),Ue=He[0],Ye=He[1],Ke=Object(o.useState)(!1),Qe=Object(u.a)(Ke,2),Ze=Qe[0],ct=Qe[1],lt=Object(o.useState)(!1),st=Object(u.a)(lt,2),jt=st[0],bt=st[1],mt=Object(o.useState)(!1),ht=Object(u.a)(mt,2),pt=ht[0],vt=ht[1],Ot=Object(o.useState)(2),ft=Object(u.a)(Ot,2),gt=ft[0],_t=ft[1],Ct=Object(o.useState)(!1),Nt=Object(u.a)(Ct,2),St=Nt[0],At=Nt[1],Vt=Object(o.useState)(!1),Pt=Object(u.a)(Vt,2),Ft=Pt[0],Et=Pt[1],It=Object(o.useState)(!1),Lt=Object(u.a)(It,2),Bt=Lt[0],Mt=Lt[1],Gt=Object(o.useState)(null),qt=Object(u.a)(Gt,2),Ht=(qt[0],qt[1]),Ut=Object(o.useState)(!1),Yt=Object(u.a)(Ut,2),Kt=Yt[0],Wt=Yt[1],Qt=Object(o.useState)([{key:0}]),Xt=Object(u.a)(Qt,2),Zt=Xt[0],Jt=Xt[1],$t=Object(o.useState)({model:{precio_venta:0,cantidad:0,descuento:0}}),en=Object(u.a)($t,2),tn=en[0],nn=en[1],on=Object(o.useState)([]),an=Object(u.a)(on,2),cn=(an[0],an[1]),rn=(Object(o.useRef)(null),function(){var e=Object(me.a)(he.a.mark((function e(t,n){var o,i,a;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(o=hn.detalles[hn.detalles.length-1]).moneda_id=hn.moneda_id,o.costo_compra=o.precio_compra,i=pn.precioVenta(o),e.next=6,Rt.create(i);case 6:a=e.sent,console.log({create:a}),Mt(!1);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),ln=function(e,t){var n=t.index,o=gt.activeIndex;_t(o===n?-1:n)};fe||(fe=Ce?Object(A.a)(Object(A.a)({},Ce),ze):{serie:{tipo_operacion_id:1},tipo_operacion_id:1,detalles:[],documento_relacion_search:void 0,documento_relacion_search_id:void 0});var sn=Object(Xe.e)({resolver:Object(at.a)(Sn),defaultValues:Object(A.a)({},fe)||Ce.model}),dn=sn.control,un=sn.handleSubmit,jn=sn.formState.errors,bn=sn.setValue,mn=sn.reset,xn=sn.watch,hn=xn();Object(o.useEffect)((function(){var e=xn((function(e){Ee(e)}));return function(){return e.unsubscribe()}}),[xn,Ee]);var pn=new zt,vn=new yt("venta",De.empresa.limite_detraccion,De.empresa.por_detraccion,De.empresa.por_percepcion,null,18,8,hn.id);Object(o.useEffect)((function(){var e,t=null===Kt||void 0===Kt||null===(e=Kt.model)||void 0===e?void 0:e.precios.map((function(e,t){var n;return{key:t,text:null===e||void 0===e||null===(n=e.presentacion)||void 0===n?void 0:n.abbr,value:null===e||void 0===e?void 0:e.id,model:e}}));return Jt(t),function(){Jt(!1)}}),[Kt]),Object(o.useEffect)((function(){if(fe){var e;ke({status:!1});var t=null===(e=document)||void 0===e?void 0:e.querySelector("canvas");vt(null===t||void 0===t?void 0:t.toDataURL("image/jpg",.3)),Ht(fe),Ee(fe)}return function(){Ht(!1)}}),[]);var On=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=vn.totales(e,t);Object.keys(n).map((function(e){return bn(e,n[e]),e}))},fn=function(e){var t=e.productoChoose,n=e.itemSelected;return new Promise((function(e,o){t&&n&&n.model&&t.model.costo_venta&&t.model.cantidad?e({productoChoose:t,itemSelected:n}):o(!1)}))},gn=function(e){"Tab"!==e.key&&"Enter"!==e.key||(wn(),Ne.current.querySelector('[aria-selected="true"]')&&Ne.current.querySelector(".clear").click(),An.current.open())},wn=function(){var e=Object(me.a)(he.a.mark((function e(){return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return bt(!0),e.next=3,fn({productoChoose:tn,itemSelected:Kt}).then((function(e){var t=tn.model;t.codigo=tn.model.codigo,t.monto_igv=tn.model.igv,t.precio_unitario=tn.model.costo_venta,t.monto_precio_unitario=tn.model.costo_venta,t.producto={id:Kt.model.id,nombre:Kt.model.nombre,peso:Kt.model.peso,afecto:Kt.model.afecto},t.precios.length||Mt(!0);var n=hn.detalles||[];n.push(t),bn("detalles",n),On(hn.detalles),bt(!1),nn({model:{precio_venta:0,cantidad:0,descuento:0}})}),(function(e){d.b.error("complete el formulario de ingreso de producto"),bt(!1)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_n=function(){var e;if(null===(e=Ae.state)||void 0===e||!e.backgroundLocation)return Ge(!1),!1;Se(Ae.state.backgroundLocation.pathname,{state:{reload:{ventas:!0}}})},Cn=function(e,t){if(!t)return!1;"precio_venta"===t.name&&(tn||tn.model||(tn.model.cantidad=0));var n={};n[t.name]=t.value;var o=Object(A.a)(Object(A.a)({},tn.model),n),i=vn.item(Kt.model,o),a=tn;a.model=i,nn(Object(A.a)({},a))},yn=function(){bn("correlativo",parseFloat(null===hn||void 0===hn?void 0:hn.correlativo)+1),bn("detalles",[]),bn("total_afecto",0),bn("total_descuento_global",0),bn("total_descuento_lineal",0),bn("total_detraccion",0),bn("total_documento",0),bn("total_documento_fin",0),bn("total_exonerado",0),bn("total_igv",0),bn("total_inafecto",0),bn("total_isc",0),bn("total_percepcion",0),bn("total_peso",0)},kn=function(){var e=Object(me.a)(he.a.mark((function e(t){var n,o;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!t.id){e.next=24;break}return Ge(!0),e.next=4,d.b.promise(We.update(t,t.id),{pending:"Actualizando...",success:"Documento Actualizado \ud83d\udc4c",error:"Error de documento \ud83e\udd2f"});case 4:if(n=e.sent,Ce){e.next=20;break}if(ge(t),De.empresa.id!==n.id){e.next=16;break}return De.empresa=n,e.next=11,Pe(De);case 11:return e.next=13,Ge(!1);case 13:_n(),e.next=18;break;case 16:_n(),Ge(!1);case 18:e.next=21;break;case 20:Ge(!1);case 21:null!==Te&&void 0!==Te&&Te.after_save&&ke({status:!(null!==ye&&void 0!==ye&&ye.status),from:"update"}),e.next=30;break;case 24:return e.next=26,d.b.promise(We.create(t),{pending:"Guardando...",success:"Documento Guardado \ud83d\udc4c",error:"Error de documento \ud83e\udd2f"});case 26:return o=e.sent,Ge(!1),null!==o&&void 0!==o&&o.errors?(Ce.id&&ge(t),Ye(dt(o))):(null!==Te&&void 0!==Te&&Te.after_save?ke({status:!(null!==ye&&void 0!==ye&&ye.status),from:"create"}):yn(),Ye(null),_n()),e.abrupt("return",o);case 30:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Nn=function(e,t){console.log(e,t);var n=hn.detalles,o=hn.detalles[t];"cantidad"===e.name&&(o.cantidad=e.value||void 0),"precio_venta"===e.name&&(n[t].precio_venta=e.value||void 0),o.is_detail=!0;var i=vn.item(n[t],o);console.log(i),n[t]=i,bn("detalles",n),On(n,0)},An=Object(o.useRef)();return Object(v.jsx)("div",{style:Ae.pathname.search("/space/ventas/")?{overflowY:"scroll",height:"85vh",marginTop:"1vh"}:{overflowY:"scroll",height:"95vh",marginTop:"0vh"},children:!ye||null!==ye&&void 0!==ye&&ye.status?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(kt.PDFViewer,{style:{width:"100%",height:"75vh"},children:Object(v.jsx)(Tt,{empresa:De,status:hn,qrCodeBase64:pt,impresion:Te})}),Object(v.jsx)(kt.PDFDownloadLink,{document:Object(v.jsx)(Tt,{empresa:De,status:hn,qrCodeBase64:pt,impresion:Te}),className:"button ui primary fluid",fileName:"".concat(De.empresa.ruc,"-").concat(null===(pe=hn.serie)||void 0===pe?void 0:pe.sunat_codigo,"-").concat(null===(ve=hn.serie)||void 0===ve?void 0:ve.serie,"-").concat(hn.correlativo,".pdf"),children:"Descargar"}),Object(v.jsxs)(ue.a,{style:{marginTop:"5px"},basic:!0,fluid:!0,onClick:function(){"create"===ye.from?(ke({status:!1}),yn()):ke({status:!1})},children:[" ","Cerrar"]})]}):Object(v.jsxs)(se.a,{onSubmit:un(kn),noValidate:!0,children:[Object(v.jsxs)(de.a,{loading:Oe,children:[Object(v.jsxs)(se.a.Group,{children:[we?Object(v.jsx)(xt,{model:ut.serie,moreRouteParams:{tipo_operacion_id:null===(i=fe)||void 0===i||null===(a=i.serie)||void 0===a?void 0:a.tipo_operacion_id},empresaContexto:De,control:dn,venta:fe,handleChangeVenta:ge,setValue:bn,width:4,onListenChange:function(e){var t,n=e.options,o=e.value,i=n.find((function(e,t){return e.value===o}));bn("correlativo",(null===i||void 0===i||null===(t=i.model)||void 0===t?void 0:t.correlativo)||1)}}):Object(v.jsx)(se.a.Input,{fluid:!0,label:"Serie",placeholder:"Seleccione Serie",value:(null===hn||void 0===hn||null===(t=hn.serie)||void 0===t?void 0:t.descripcion)+"-"+(null===hn||void 0===hn||null===(n=hn.serie)||void 0===n?void 0:n.serie),readOnly:!0,width:4}),we?Object(v.jsx)(rt,{name:"correlativo",title:"Correlativo",control:dn,errors:jn,type:"number",width:2}):Object(v.jsx)(se.a.Input,{fluid:!0,label:"Correlativo",placeholder:"Selecione",value:null===hn||void 0===hn?void 0:hn.correlativo,readOnly:!0,width:2}),we?Object(v.jsx)(xt,{model:ut.proveedores,empresaContexto:De,control:dn,venta:fe,handleChangeVenta:ge,setValue:bn,width:10}):Object(v.jsx)(se.a.Input,{fluid:!0,label:"Proveedor",placeholder:"Selecione",value:null===hn||void 0===hn||null===(c=hn.cliente)||void 0===c?void 0:c.nombre,readOnly:!0,width:10})]}),Object(v.jsxs)(se.a.Group,{children:[we?Object(v.jsx)(xt,{model:ut.almacen,empresaContexto:De,control:dn,venta:fe,handleChangeVenta:ge,setValue:bn,width:4}):Object(v.jsx)(se.a.Input,{fluid:!0,label:"Almacen",placeholder:"Selecione",value:null===hn||void 0===hn||null===(r=hn.almacen)||void 0===r?void 0:r.nombre,readOnly:!0,width:4}),we?Object(v.jsx)(xt,{model:ut.forma_pago,empresaContexto:De,control:dn,venta:fe,handleChangeVenta:ge,setValue:bn,width:3}):Object(v.jsx)(se.a.Input,{fluid:!0,label:"Condici\xf3n de Pago",placeholder:"Selecione",value:null===hn||void 0===hn||null===(l=hn.forma_pago)||void 0===l?void 0:l.nombre,readOnly:!0,width:3}),we?Object(v.jsx)(rt,{name:"fecha_emision",title:"Fecha Emisi\xf3n",control:dn,errors:jn,type:"date",width:3}):Object(v.jsx)(se.a.Input,{fluid:!0,label:"Fecha de Emisi\xf3n",placeholder:"Selecione",value:Dt(null===hn||void 0===hn?void 0:hn.fecha_emision),readOnly:!0,width:3}),we?Object(v.jsx)(rt,{name:"fecha_registro",title:"Fecha Registro",control:dn,errors:jn,type:"date",width:3}):Object(v.jsx)(se.a.Input,{fluid:!0,label:"Fecha de Registro",placeholder:"Selecione",value:Dt(null===hn||void 0===hn?void 0:hn.fecha_registro),readOnly:!0,width:3}),we?Object(v.jsx)(xt,{model:ut.moneda,empresaContexto:De,control:dn,venta:fe,handleChangeVenta:ge,setValue:bn,width:3}):Object(v.jsx)(se.a.Input,{fluid:!0,label:"Moneda",placeholder:"Selecione",value:null===hn||void 0===hn?void 0:hn.moneda.nombre,readOnly:!0,width:3})]}),we&&Object(v.jsxs)(se.a.Group,{children:[Object(v.jsx)(se.a.Field,{width:6,children:Object(v.jsx)(wt,{empresaContexto:De,model:ut.producto,setItemSelected:Wt,ref:An})}),Object(v.jsx)(se.a.Field,{width:2,children:Object(v.jsx)($e.a,{innerRef:Ne,children:Object(v.jsx)(J.a,{fluid:!0,clearable:!0,options:Zt,onChange:function(e,t){var n,o=null===t||void 0===t||null===(n=t.options)||void 0===n?void 0:n.find((function(e){return(null===t||void 0===t?void 0:t.value)===e.value}));nn(o)},selection:!0})})}),Object(v.jsx)(se.a.Field,{width:3,children:Object(v.jsx)(Ie.a,{content:"Precio de Venta (Con IGV Incluido)",trigger:Object(v.jsx)(et.a,{label:null!==tn&&void 0!==tn&&null!==(s=tn.model)&&void 0!==s&&s.val_descuento?{tag:!0,content:((null===tn||void 0===tn||null===(j=tn.model)||void 0===j?void 0:j.precio_venta)-(null===tn||void 0===tn||null===(b=tn.model)||void 0===b?void 0:b.val_descuento)).toFixed(2),color:"teal"}:{icon:"money"},labelPosition:null!==tn&&void 0!==tn&&null!==(m=tn.model)&&void 0!==m&&m.val_descuento?"right":"right corner",type:"number",name:"precio_venta",value:null===tn||void 0===tn||null===(x=tn.model)||void 0===x?void 0:x.precio_venta,onChange:Cn,placeholder:"Precio"})})}),Object(v.jsx)(se.a.Field,{width:2,children:Object(v.jsx)(Ie.a,{content:"Cantidad de Items",trigger:Object(v.jsx)(et.a,{label:{icon:"boxes"},labelPosition:"right corner",type:"number",name:"cantidad",value:null===tn||void 0===tn||null===(h=tn.model)||void 0===h?void 0:h.cantidad,placeholder:"Cantidad",onChange:Cn})})}),Object(v.jsx)(se.a.Field,{width:2,children:Object(v.jsx)(Ie.a,{content:"Descuento en ".concat(Ft?"Porcentaje":"Efectivo"),trigger:Object(v.jsx)("div",{children:Ft?Object(v.jsxs)(et.a,{type:"number",name:"por_descuento",value:null===tn||void 0===tn||null===(p=tn.model)||void 0===p?void 0:p.por_descuento,placeholder:"Descuento Porcentaje",onChange:function(e,t){var n=t.name,o=t.value,i={};i[n]=Number(o);var a=Object(A.a)(Object(A.a)({},tn.model),i),c=Object(A.a)(Object(A.a)({},Kt.model),a),r=vn.descuentoPorcentaje(c),l=tn;l.model=r,l.model=Object(A.a)(Object(A.a)({},l.model),i),nn(Object(A.a)({},l))},onKeyDown:gn,children:[Object(v.jsx)("input",{}),Object(v.jsx)(ue.a,{icon:"percent",style:{marginLeft:"10px"},onClick:function(e){e.preventDefault(),Et(!Ft)}})]}):Object(v.jsxs)(et.a,{type:"number",name:"val_descuento",value:null===tn||void 0===tn||null===(O=tn.model)||void 0===O?void 0:O.val_descuento,placeholder:"Descuento Valor",onChange:function(e,t){var n=t.name,o=t.value,i={};i[n]=Number(o);var a=Object(A.a)(Object(A.a)({},tn.model),i),c=Object(A.a)(Object(A.a)({},Kt.model),a),r=vn.descuentoEfectivo(c),l=tn;l.model=r,l.model=Object(A.a)(Object(A.a)({},l.model),i),nn(Object(A.a)({},l))},onKeyDown:gn,children:[Object(v.jsx)("input",{}),Object(v.jsx)(ue.a,{icon:"money",style:{marginLeft:"10px"},onClick:function(e){e.preventDefault(),Et(!Ft)}})]})})})}),Object(v.jsx)(se.a.Field,{width:1,children:Object(v.jsxs)(ue.a,{as:"a",fluid:!0,color:"teal",animated:"vertical",onClick:wn,disabled:jt,children:[Object(v.jsx)(ue.a.Content,{hidden:!0,children:"Agregar"}),Object(v.jsx)(ue.a.Content,{visible:!0,children:Object(v.jsx)(_e.a,{name:"arrow down"})})]})})]}),Object(v.jsxs)(X.a,{children:[Object(v.jsxs)(X.a.Column,{width:12,style:{overflowY:"scroll",height:"55vh"},children:[Object(v.jsxs)(tt.a,{compact:!0,definition:!0,striped:!0,children:[Object(v.jsx)(tt.a.Header,{fullWidth:!0,children:Object(v.jsxs)(tt.a.Row,{children:[Object(v.jsx)(tt.a.HeaderCell,{width:1}),Object(v.jsx)(tt.a.HeaderCell,{width:8,children:"Producto \xf3 Servicio"}),Object(v.jsx)(tt.a.HeaderCell,{textAlign:"right",width:2,children:Object(v.jsx)("abbr",{title:"Precio de venta con IGV",children:null===hn||void 0===hn||null===(f=hn.moneda)||void 0===f?void 0:f.simbolo})}),Object(v.jsx)(tt.a.HeaderCell,{textAlign:"right",width:2,children:Object(v.jsx)("abbr",{title:"Cantidad",children:"Cant"})}),Object(v.jsx)(tt.a.HeaderCell,{textAlign:"right",width:2,children:Object(v.jsx)("abbr",{title:"Descuento",children:"Desc"})}),Object(v.jsx)(tt.a.HeaderCell,{textAlign:"right",width:1})]})}),Object(v.jsx)(tt.a.Body,{children:null===hn||void 0===hn||null===(g=hn.detalles)||void 0===g?void 0:g.map((function(e,t){return Object(v.jsxs)(tt.a.Row,{children:[Object(v.jsx)(tt.a.Cell,{collapsing:!0,children:Object(v.jsx)(nt.a,{slider:!0})}),Object(v.jsx)(tt.a.Cell,{children:e.producto.nombre}),Object(v.jsx)(tt.a.Cell,{textAlign:"right",children:e.val_descuento?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("s",{children:e.precio_venta?Number(null===e||void 0===e?void 0:e.precio_venta).toFixed(3):(0).toFixed(3)}),Object(v.jsx)("span",{style:{marginLeft:"10px"},children:e.precio_venta?Number((null===e||void 0===e?void 0:e.precio_venta)-e.val_descuento).toFixed(3):(0).toFixed(3)})]}):null!==e.precio_venta?Object(v.jsx)(et.a,{value:e.precio_venta,onChange:function(e,n){return Nn(n,t)},name:"precio_venta",disabled:!we}):(0).toFixed(3)}),Object(v.jsx)(tt.a.Cell,{style:{align:"center"},children:Object(v.jsx)(et.a,{placeholder:"Cantidad",value:null===e||void 0===e?void 0:e.cantidad,onChange:function(e,n){return Nn(n,t)},name:"cantidad",disabled:!we})}),Object(v.jsx)(tt.a.Cell,{textAlign:"right",children:e.val_descuento?Number(null===e||void 0===e?void 0:e.val_descuento).toFixed(3):(0).toFixed(3)}),Object(v.jsx)(tt.a.Cell,{textAlign:"right",children:Object(v.jsx)(ue.a,{circular:!0,as:"a",size:"mini",onClick:function(){!function(e){var t=hn.detalles;t.splice(e,1),cn(t),bn("detalles",t),On(hn.detalles,hn.total_descuento_global)}(t)},disabled:!we,icon:"trash"})})]},t)}))})]}),hn.is_nulled?Object(v.jsx)(de.a,{placeholder:!0,children:Object(v.jsxs)(le.a,{icon:!0,children:[Object(v.jsx)(_e.a,{name:"ban"}),"Documento sin detalles."]})}):Object(v.jsx)(v.Fragment,{})]}),Object(v.jsxs)(X.a.Column,{floated:"right",width:4,children:[Object(v.jsx)(tt.a,{compact:"very",color:"black",children:Object(v.jsxs)(tt.a.Body,{children:[Object(v.jsxs)(tt.a.Row,{children:[Object(v.jsx)(tt.a.Cell,{textAlign:"right",children:"Peso "}),Object(v.jsxs)(tt.a.Cell,{textAlign:"right",children:["Kg ",null===hn||void 0===hn||null===(w=hn.total_peso)||void 0===w?void 0:w.toFixed(3)]})]}),Object(v.jsxs)(tt.a.Row,{children:[Object(v.jsx)(tt.a.Cell,{textAlign:"right",children:" Afecto "}),Object(v.jsxs)(tt.a.Cell,{textAlign:"right",children:[null===hn||void 0===hn||null===(_=hn.moneda)||void 0===_?void 0:_.simbolo," ",null===hn||void 0===hn||null===(k=hn.total_afecto)||void 0===k?void 0:k.toFixed(3)]})]}),Object(v.jsxs)(tt.a.Row,{children:[Object(v.jsx)(tt.a.Cell,{textAlign:"right",children:" Inafecto "}),Object(v.jsxs)(tt.a.Cell,{textAlign:"right",children:[null===hn||void 0===hn||null===(N=hn.moneda)||void 0===N?void 0:N.simbolo," ",null===hn||void 0===hn||null===(S=hn.total_inafecto)||void 0===S?void 0:S.toFixed(3)]})]}),Object(v.jsxs)(tt.a.Row,{children:[Object(v.jsx)(tt.a.Cell,{textAlign:"right",children:" ISC "}),Object(v.jsxs)(tt.a.Cell,{textAlign:"right",children:[null===hn||void 0===hn||null===(V=hn.moneda)||void 0===V?void 0:V.simbolo," ",null===(D=hn.total_isc)||void 0===D?void 0:D.toFixed(3)]})]}),Object(v.jsxs)(tt.a.Row,{children:[Object(v.jsx)(tt.a.Cell,{textAlign:"right",children:" IGV "}),Object(v.jsxs)(tt.a.Cell,{textAlign:"right",children:[null===hn||void 0===hn||null===(P=hn.moneda)||void 0===P?void 0:P.simbolo," ",null===hn||void 0===hn||null===(T=hn.total_igv)||void 0===T?void 0:T.toFixed(3)]})]}),Object(v.jsxs)(tt.a.Row,{children:[Object(v.jsx)(tt.a.Cell,{textAlign:"right",children:"Descuento Items"}),Object(v.jsxs)(tt.a.Cell,{textAlign:"right",children:[null===hn||void 0===hn||null===(F=hn.moneda)||void 0===F?void 0:F.simbolo,null===hn||void 0===hn||null===(E=hn.total_descuento_lineal)||void 0===E?void 0:E.toFixed(3)]})]}),Object(v.jsxs)(tt.a.Row,{children:[Object(v.jsx)(tt.a.Cell,{textAlign:"right",children:"Descuento Global"}),Object(v.jsxs)(tt.a.Cell,{textAlign:"right",children:[null===hn||void 0===hn||null===(I=hn.moneda)||void 0===I?void 0:I.simbolo," ",null===hn||void 0===hn||null===(z=hn.total_descuento_global)||void 0===z?void 0:z.toFixed(3)]})]}),Object(v.jsxs)(tt.a.Row,{children:[Object(v.jsx)(tt.a.Cell,{textAlign:"right",children:"Documento"}),Object(v.jsxs)(tt.a.Cell,{textAlign:"right",children:[null===hn||void 0===hn||null===(R=hn.moneda)||void 0===R?void 0:R.simbolo," ",null===hn||void 0===hn||null===(L=hn.total_documento)||void 0===L?void 0:L.toFixed(3)]})]}),Object(v.jsxs)(tt.a.Row,{children:[Object(v.jsx)(tt.a.Cell,{textAlign:"right",children:" Percepci\xf3n "}),Object(v.jsxs)(tt.a.Cell,{textAlign:"right",children:[null===hn||void 0===hn||null===(B=hn.moneda)||void 0===B?void 0:B.simbolo," ",null===hn||void 0===hn||null===(M=hn.total_percepcion)||void 0===M?void 0:M.toFixed(3)]})]}),Object(v.jsxs)(tt.a.Row,{children:[Object(v.jsx)(tt.a.Cell,{textAlign:"right",children:"Detracci\xf3n"}),Object(v.jsxs)(tt.a.Cell,{textAlign:"right",children:[null===hn||void 0===hn||null===(G=hn.moneda)||void 0===G?void 0:G.simbolo," ",null===hn||void 0===hn||null===(q=hn.total_detraccion)||void 0===q?void 0:q.toFixed(3)]})]}),Object(v.jsxs)(tt.a.Row,{children:[Object(v.jsx)(tt.a.Cell,{active:!0,textAlign:"right",children:"Total"}),Object(v.jsx)(tt.a.Cell,{active:!0,textAlign:"right",children:hn.is_free?Object(v.jsxs)("strong",{children:[null===hn||void 0===hn||null===(Y=hn.moneda)||void 0===Y?void 0:Y.simbolo," ",(0).toFixed(3)]}):Object(v.jsxs)("strong",{children:[null===hn||void 0===hn||null===(H=hn.moneda)||void 0===H?void 0:H.simbolo," ",null===hn||void 0===hn||null===(U=hn.total_documento_fin)||void 0===U?void 0:U.toFixed(3)]})})]})]})}),we&&Object(v.jsxs)("div",{children:[Object(v.jsx)(ue.a,{loading:Me,disabled:Me,content:"Guardar",primary:!0,fluid:!0}),Object(v.jsx)(ue.a,{style:{marginTop:"1vh"},fluid:!0,as:"a",content:"Deshacer Cambios",onClick:function(){mn(fe)}}),Object(v.jsx)(ot.a,{as:Z.a,vertical:!0,fluid:!0,children:Object(v.jsxs)(Z.a.Item,{children:[Object(v.jsx)(ot.a.Title,{active:!0===St,content:"Mas Opciones",index:0,onClick:function(){At(!St)}}),Object(v.jsx)(ot.a.Content,{active:!0===St,content:Object(v.jsxs)(se.a.Group,{grouped:!0,children:[Object(v.jsx)(se.a.Checkbox,{label:"Es gratuita",name:"is_free",checked:hn.is_free,onChange:function(){bn("is_free",!hn.is_free)},type:"number"}),Object(v.jsx)(se.a.Field,{children:Object(v.jsx)(et.a,{label:{content:"Desc"},labelPosition:"right",placeholder:"Descuento Global",type:"number",value:hn.total_descuento_global,onChange:function(e,t){bn("total_descuento_global",e.target.value),On(hn.detalles,e.target.value)}})})]})})]})})]})]})]}),null!==(K=Object.keys(jn))&&void 0!==K&&K.length?Object(v.jsx)(je.a,{color:"orange",header:"Advertencia",list:["Verifique que todos los campos requeridos esten completos."]}):Object(v.jsx)(v.Fragment,{}),(null===Ue||void 0===Ue?void 0:Ue.length)&&Object(v.jsx)(je.a,{color:"red",header:"Verifique los siguientes campos",list:Ue})]}),Object(v.jsx)(Be.a,{open:Ze,content:"Seguro de Deshacer los cambios, perderas los datos modificados",onCancel:function(){return ct(!1)},onConfirm:function(e){mn(fe)}}),Object(v.jsx)(Be.a,{open:Bt,content:"\xbfDeseas guardar este precio para futuro uso?",onCancel:function(){Mt(!1)},onConfirm:rn}),3===hn.tipo_operacion_id&&Object(v.jsxs)(de.a,{color:"teal",inverted:!0,style:{marginTop:"1vh"},loading:Oe,children:[Object(v.jsxs)(se.a.Group,{children:[we?Object(v.jsx)(xt,{model:null===ut||void 0===ut?void 0:ut.motivos_sunat_guia_remision,empresaContexto:De,control:dn,venta:fe,handleChangeVenta:ge,setValue:bn,width:4}):Object(v.jsx)(se.a.Input,{fluid:!0,label:"Motivo de la Guia de Remision",placeholder:"Selecione",value:null===hn||void 0===hn||null===(W=hn.motivos_sunat_guia_remision)||void 0===W?void 0:W.descripcion,readOnly:!0,width:4}),we?Object(v.jsx)(xt,{model:null===ut||void 0===ut?void 0:ut.transportista,empresaContexto:De,control:dn,venta:fe,handleChangeVenta:ge,setValue:bn,width:6}):Object(v.jsx)(se.a.Input,{fluid:!0,label:"Transportista",placeholder:"Selecione",value:null===hn||void 0===hn||null===(Q=hn.transportista)||void 0===Q?void 0:Q.nombre,readOnly:!0,width:6}),we?Object(v.jsx)(xt,{model:null===ut||void 0===ut?void 0:ut.vehiculo,empresaContexto:De,control:dn,venta:fe,handleChangeVenta:ge,setValue:bn,width:6}):Object(v.jsx)(se.a.Input,{fluid:!0,label:"Veh\xedculo",placeholder:"Selecione",value:null===hn||void 0===hn||null===($=hn.vehiculo)||void 0===$?void 0:$.descripcion,readOnly:!0,width:6})]}),Object(v.jsxs)(se.a.Group,{children:[Object(v.jsx)(rt,{name:"direccion_partida",title:"Direccion de Partida",control:dn,errors:jn,type:"text",width:8,readOnly:!we}),we?Object(v.jsx)(xt,{model:ut.ubigeo_partida,empresaContexto:De,control:dn,venta:fe,handleChangeVenta:ge,setValue:bn,width:8}):Object(v.jsx)(se.a.Input,{fluid:!0,label:"Ubigeo de Partida",placeholder:"Selecione",value:null!==hn&&void 0!==hn&&hn.ubigeo_partida?(null===hn||void 0===hn||null===(ee=hn.ubigeo_partida)||void 0===ee?void 0:ee.provincia)+"-"+(null===hn||void 0===hn||null===(te=hn.ubigeo_partida)||void 0===te?void 0:te.distrito)+"-"+(null===hn||void 0===hn||null===(ne=hn.ubigeo_partida)||void 0===ne?void 0:ne.departamento):"",readOnly:!0,width:8})]}),Object(v.jsxs)(se.a.Group,{children:[Object(v.jsx)(rt,{name:"direccion_destino",title:"Direccion de Destino",control:dn,errors:jn,type:"text",width:8,readOnly:!we}),we?Object(v.jsx)(xt,{model:ut.ubigeo_destino,empresaContexto:De,control:dn,venta:fe,handleChangeVenta:ge,setValue:bn,width:8}):Object(v.jsx)(se.a.Input,{fluid:!0,label:"Ubigeo de Destino",placeholder:"Selecione",value:null!==hn&&void 0!==hn&&hn.ubigeo_destino?(null===hn||void 0===hn||null===(ie=hn.ubigeo_destino)||void 0===ie?void 0:ie.provincia)+"-"+(null===hn||void 0===hn||null===(ae=hn.ubigeo_destino)||void 0===ae?void 0:ae.distrito)+"-"+(null===hn||void 0===hn||null===(ce=hn.ubigeo_destino)||void 0===ce?void 0:ce.departamento):"",readOnly:!0,width:8})]})]}),Object(v.jsxs)(de.a,{secondary:!0,loading:Oe,children:[Object(v.jsxs)(ot.a,{exclusive:!1,fluid:!0,color:"teal",children:[Object(v.jsxs)(ot.a.Title,{active:2===gt,index:2,onClick:ln,children:[Object(v.jsx)(_e.a,{name:"dropdown"}),"Detalles de la venta"]}),Object(v.jsx)(ot.a.Content,{active:2===gt,children:Object(v.jsx)(Xe.a,{name:"detalle",control:dn,render:function(e){var t=e.field,n=t.onChange,o=t.onBlur,i=t.value;return Object(v.jsx)(it.a,{value:i,onBlur:o,onChange:n,placeholder:"Escribe un Comentario (sera agreagado en la impresi\xf3n del documento)",readOnly:!we})}})}),Object(v.jsxs)(ot.a.Title,{active:0===gt,index:0,onClick:ln,children:[Object(v.jsx)(_e.a,{name:"dropdown"}),"Documentos asociados"]}),Object(v.jsxs)(ot.a.Content,{active:0===gt,children:[we&&Object(v.jsxs)(se.a.Group,{children:[Object(v.jsx)(xt,{model:null===ut||void 0===ut?void 0:ut.documento_relacion_search,empresaContexto:De,control:dn,venta:fe,handleChangeVenta:ge,setValue:bn,width:10}),Object(v.jsx)(se.a.Field,{style:{marginTop:"24px"},children:Object(v.jsx)(ue.a,{primary:!0,as:"a",onClick:function(){if(!hn.documento_relacion_search&&!hn.documento_relacion_search_id)return d.b.error("Seleccione un documento v\xe1lido"),!1;var e=hn.documento_relacion||[],t={documento_relacion_id:hn.documento_relacion_search.id,documento_relacion:hn.documento_relacion_search};e.push(t),bn("documento_relacion",e),bn("documento_relacion_search",0),bn("documento_relacion_search_id",0)},children:"Agregar Documento"})})]}),!we&&Object(v.jsx)(ue.a,{secondary:!0,as:"a",children:"Ver Historial"}),Object(v.jsxs)(tt.a,{compact:!0,collapsing:!0,children:[Object(v.jsx)(tt.a.Header,{children:Object(v.jsxs)(tt.a.Row,{children:[Object(v.jsx)(tt.a.HeaderCell,{children:"Documento"}),Object(v.jsx)(tt.a.HeaderCell,{children:"Eliminar"})]})}),Object(v.jsx)(tt.a.Body,{children:!!hn.documento_relacion&&(null===hn||void 0===hn?void 0:hn.documento_relacion.map((function(e,t){return Object(v.jsxs)(tt.a.Row,{children:[Object(v.jsx)(tt.a.Cell,{children:null===e||void 0===e?void 0:e.documento_relacion.uniqueserie.split("-").splice(2).join("-")}),Object(v.jsx)(tt.a.Cell,{children:Object(v.jsx)(ue.a,{circular:!0,as:"a",size:"mini",onClick:function(){!function(e){var t=hn.documento_relacion;t.splice(e,1),bn("documento_relacion",t)}(t)},disabled:!we,icon:"trash"})})]})})))})]})]}),Object(v.jsxs)(ot.a.Title,{active:1===gt,index:1,onClick:ln,children:[Object(v.jsx)(_e.a,{name:"dropdown"}),"Vendedor"]}),Object(v.jsx)(ot.a.Content,{active:1===gt,children:Object(v.jsx)(se.a.Group,{children:we?Object(v.jsx)(xt,{model:null===ut||void 0===ut?void 0:ut.vendedor,empresaContexto:De,control:dn,venta:fe,handleChangeVenta:ge,setValue:bn,width:10}):Object(v.jsx)(se.a.Input,{fluid:!0,label:"Vendedor",placeholder:"Selecione",value:null===hn||void 0===hn||null===(re=hn.vendedor)||void 0===re?void 0:re.nombre,readOnly:!0,width:10})})}),Object(v.jsxs)(ot.a.Title,{active:3===gt,index:3,onClick:ln,children:[Object(v.jsx)(_e.a,{name:"dropdown"}),"Informacion Relacionada"]}),Object(v.jsxs)(ot.a.Content,{active:3===gt,children:[Object(v.jsx)(se.a.Group,{children:Object(v.jsx)(rt,{name:"numero_expediente",title:"Numero de Expediente",control:dn,errors:jn,type:"text",width:10,readOnly:!we})}),Object(v.jsx)(se.a.Group,{children:Object(v.jsx)(rt,{name:"orden_compra",title:"Orden de Compra",control:dn,errors:jn,type:"text",width:10,readOnly:!we})}),Object(v.jsx)(se.a.Group,{children:Object(v.jsx)(rt,{name:"codigo_unidad_ejecutora",title:"C\xf3digo Unidad Ejecutora",control:dn,errors:jn,type:"text",width:10,readOnly:!we})}),Object(v.jsx)(se.a.Group,{children:Object(v.jsx)(rt,{name:"numero_proceso_seleccion",title:"N\xfamero de proceso de selecci\xf3n",control:dn,errors:jn,type:"text",width:10,readOnly:!we})}),Object(v.jsx)(se.a.Group,{children:Object(v.jsx)(rt,{name:"numero_contrato",title:"N\xfamero de Contrato",control:dn,errors:jn,type:"text",width:10,readOnly:!we})})]})]}),we&&Object(v.jsxs)("div",{style:{marginTop:"5vh"},children:[Object(v.jsx)(ue.a,{loading:Me,disabled:Me,content:"Guardar",primary:!0}),Object(v.jsx)(ue.a,{style:{marginTop:"1vh"},as:"a",content:"Deshacer Cambios",onClick:function(){mn(fe)}})]})]}),Object(v.jsx)(de.a,{style:{marginBottom:"20vh"},loading:Oe,children:Object(v.jsx)(Je.a,{value:"http://fivip.net/comprobante/".concat(De.empresa.ruc,"/").concat(null===hn||void 0===hn||null===(be=hn.serie)||void 0===be?void 0:be.id,"/").concat(null===hn||void 0===hn||null===(xe=hn.serie)||void 0===xe?void 0:xe.serie,"/").concat(null===hn||void 0===hn?void 0:hn.correlativo)})})]})})},Vn=function(){var e=Object(y.g)(),t=Object(o.useContext)(C),n=t.empresa,i=t.impresion,a=Object(o.useState)({current_page:1}),c=Object(u.a)(a,2),r=c[0],l=c[1],d=Object(o.useState)([]),j=Object(u.a)(d,2),b=j[0],m=j[1],x=Object(o.useState)(null),h=Object(u.a)(x,2),p=h[0],O=h[1],f=Object(o.useState)(!1),g=Object(u.a)(f,2),w=g[0],_=g[1],k=Object(o.useState)(!1),N=Object(u.a)(k,2),S=N[0],V=N[1],D=Object(o.useState)(null),P=Object(u.a)(D,2),T=(P[0],P[1]),F=Object(o.useState)({status:!1,format:"A4"}),E=Object(u.a)(F,2),I=E[0],z=E[1],R=function(){var e=Object(me.a)(he.a.mark((function e(){var t,o,a,c,r;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(kt.pdf)(Object(v.jsx)(Tt,{empresa:n,status:p,qrCodeBase64:S,impresion:i})).toBlob(),e.next=3,a;case 3:c=e.sent,r=new File([c],"".concat(n.empresa.ruc,"-").concat(null===p||void 0===p||null===(t=p.serie)||void 0===t?void 0:t.sunat_codigo,"-").concat(null===p||void 0===p||null===(o=p.serie)||void 0===o?void 0:o.serie,"-").concat(null===p||void 0===p?void 0:p.correlativo,".pdf"),{type:"application/pdf",lastModified:Date.now()}),T(r);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(me.a)(he.a.mark((function e(t){var o,i,a,c=arguments;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.length>1&&void 0!==c[1]&&c[1],o=n.empresa.id,i=n.id,e.next=5,We.show(o,i,t);case 5:a=e.sent,l(a),m(a.data);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(me.a)(he.a.mark((function e(t){return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(null);case 2:return e.next=4,O(t);case 4:console.log(t);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(me.a)(he.a.mark((function e(t,n){var o,i,a,c,r;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(o=b.find((function(e,n){return e.id===t}))).send_status=!0,i=b.map((function(e,t){return e.id===o.id?o:e})),m(i),e.next=6,We.sendSunat(o);case 6:a=e.sent,(c=Object(A.a)(Object(A.a)({},o),a)).send_status=!1,r=b.map((function(e,t){return e.id===c.id?c:e})),m(r);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(o.useEffect)((function(){return L(1),function(){m([])}}),[]),Object(o.useEffect)((function(){return z({status:!1,format:"A4"}),e.state=p,p||_(!1),setTimeout((function(){var e,t=null===(e=document)||void 0===e?void 0:e.querySelector("canvas");V(null===t||void 0===t?void 0:t.toDataURL("image/jpg",.3)),R()}),500),function(){}}),[p]),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(X.a.Column,{width:5,children:[Object(v.jsx)(ye.a,{relaxed:"very",style:{marginTop:"1rem"},children:Object(v.jsxs)(ye.a.Item,{children:[Object(v.jsxs)(ye.a.Content,{floated:"right",children:[Object(v.jsx)(hn,{}),Object(v.jsx)(Le,{empresaContext:n})]}),Object(v.jsxs)(ye.a.Content,{children:[Object(v.jsx)(ye.a.Header,{as:"a",children:Object(v.jsx)(s.b,{to:"/welcome/empresas/".concat(n.empresa.id),state:{backgroundLocation:e,model:n.empresa},children:n.empresa.nombre})}),n.nombre]})]})}),Object(v.jsx)(ye.a,{celled:!0,relaxed:"very",children:null===b||void 0===b?void 0:b.map((function(e,t){var n,o,i,a;return Object(v.jsxs)(ye.a.Item,{onClick:function(){B(e)},style:{backgroundColor:(null===e||void 0===e?void 0:e.id)===(null===p||void 0===p?void 0:p.id)?"rgb(0 181 173 / 12%)":"#fff"},children:[Object(v.jsxs)(ye.a.Content,{style:{width:"135px"},floated:"right",children:[Object(v.jsx)(Ce.a.Group,{tag:!0,children:Object(v.jsxs)(Ce.a,{as:"a",children:[null===e||void 0===e||null===(n=e.moneda)||void 0===n?void 0:n.simbolo," ",e.total_documento_fin.toFixed(3)]})}),Object(v.jsx)(Ie.a,{content:"Click para enviar comprobante a Sunat",header:"Pendiente por enviar",trigger:2!==e.tipo_operacion_id&&"CT"!==e.serie.abbr&&"NV"!==e.serie.abbr&&Object(v.jsx)(ue.a,{icon:"0"===e.sunat_code?"check":e.sunat_code>="2000"?"times":"cloud upload",size:"mini",onClick:function(n){n.stopPropagation(),M(e.id,t)},color:"0"===e.sunat_code?"green":e.sunat_code>="2000"?"red":"primary",loading:e.send_status,disabled:e.send_status||"0"===e.sunat_code})},t),null!==e&&void 0!==e&&e.is_nulled?Object(v.jsx)(Ce.a,{as:"span",content:"Anulado",color:"red"}):Object(v.jsx)(v.Fragment,{children:" \xa0"})]}),Object(v.jsxs)(ye.a.Content,{children:[Object(v.jsxs)(ye.a.Header,{as:"a",children:[null===e||void 0===e||null===(o=e.serie)||void 0===o?void 0:o.abbr," ",null===e||void 0===e||null===(i=e.serie)||void 0===i?void 0:i.serie," ",null===e||void 0===e?void 0:e.correlativo," ",Ht(e.updated_at)&&Object(v.jsx)(Ut,{index:t})]}),Object(v.jsx)(ye.a.Item,{children:Object(v.jsx)("strong",{children:null===e||void 0===e||null===(a=e.cliente)||void 0===a?void 0:a.nombre})}),Object(v.jsxs)(ye.a.Item,{children:["Fecha Emision:"," ",Object(v.jsx)(Re.a,{format:"DD/MM/YYYY",children:e.fecha_emision})]})]})]},t)}))}),!!b.length&&Object(v.jsx)(Nn.a,{onPageChange:function(e,t){L(t.activePage)},defaultActivePage:r.current_page,pointing:!0,secondary:!0,totalPages:r.last_page})]}),Object(v.jsx)(X.a.Column,{width:10,children:p?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(ye.a,{relaxed:"very",style:{marginTop:"1rem"},children:Object(v.jsx)(ye.a.Item,{children:Object(v.jsxs)(ye.a.Content,{floated:"right",children:[Object(v.jsx)(ue.a,{size:"mini",content:"Imprimir",icon:"print",labelPosition:"left",style:{marginRight:"2px",marginLeft:"2px"},onClick:function(){var e;e=!I.status,z({status:e,format:"A4"})},active:I.status}),p.is_nulled&&p?Object(v.jsx)(v.Fragment,{}):Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(ue.a,{size:"mini",content:"Editar",icon:"pencil",labelPosition:"left",style:{marginRight:"2px",marginLeft:"2px"},active:w,onClick:function(){_(!w)}})})]})})}),Object(v.jsx)(ue.a,{circular:!0,size:"mini",icon:!0,onClick:function(){O(null)},children:Object(v.jsx)(_e.a,{name:"times"})}),Object(v.jsx)(s.b,{to:"/space/compras/1",state:{model:p},children:Object(v.jsx)(ue.a,{circular:!0,size:"mini",icon:!0,children:Object(v.jsx)(_e.a,{name:"expand"})})}),p.is_nulled?Object(v.jsx)(Ce.a,{as:"span",content:"Anulado",icon:"ban",color:"red"}):Object(v.jsx)(v.Fragment,{}),Object(v.jsx)(An,{selected:p,handleChangeVenta:function(e){console.log(e);var t=b.map((function(t){return parseInt(t.id)===parseInt(e.id)?e:t}));m(t)},editionMode:w,formatPrint:I,setFormatPrint:z})]}):Object(v.jsx)(de.a,{placeholder:!0,style:{marginTop:"6vh"},children:Object(v.jsxs)(le.a,{icon:!0,children:[Object(v.jsx)(_e.a,{name:"file outline"}),"No tienes un documento seleccionado"]})})})]})},Dn=function(){return Object(v.jsxs)("div",{className:"relative min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8  bg-no-repeat bg-cover relative items-center",children:[Object(v.jsx)("div",{className:"absolute bg-black opacity-60 inset-0 z-0"}),Object(v.jsxs)("div",{className:"w-full sm:w-6/12 lg:w-4/12 xl:w-4/12  overflow-y-scroll space-y-3 border-8 rounded-3xl bg-white border-gray-800 shadow-2xl z-10",children:[Object(v.jsxs)("div",{className:"realtive sticky top-0  h-36 w-full rounded-b-3xl bg-center cursor-pointer object-cover z-10 shadow-lg",children:[Object(v.jsxs)("nav",{className:"p-2 flex flex-grow relative justify-between z-10 items-center mx-auto h-18",children:[Object(v.jsx)("div",{className:"inline relative",children:Object(v.jsx)("button",{type:"button",className:"inline-flex items-center relative text-gray-300 hover:text-white mr-3",children:Object(v.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(v.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h8m-8 6h16"})})})}),Object(v.jsx)("div",{className:"inline-flex",children:Object(v.jsx)("a",{href:"/",children:Object(v.jsx)("div",{className:"hidden",children:Object(v.jsx)("svg",{width:"102",height:"32",fill:"currentcolor",children:Object(v.jsx)("path",{d:"M29.24 22.68c-.16-.39-.31-.8-.47-1.15l-.74-1.67-.03-.03c-2.2-4.8-4.55-9.68-7.04-14.48l-.1-.2c-.25-.47-.5-.99-.76-1.47-.32-.57-.63-1.18-1.14-1.76a5.3 5.3 0 00-8.2 0c-.47.58-.82 1.19-1.14 1.76-.25.52-.5 1.03-.76 1.5l-.1.2c-2.45 4.8-4.84 9.68-7.04 14.48l-.06.06c-.22.52-.48 1.06-.73 1.64-.16.35-.32.73-.48 1.15a6.8 6.8 0 007.2 9.23 8.38 8.38 0 003.18-1.1c1.3-.73 2.55-1.79 3.95-3.32 1.4 1.53 2.68 2.59 3.95 3.33A8.38 8.38 0 0022.75 32a6.79 6.79 0 006.75-5.83 5.94 5.94 0 00-.26-3.5zm-14.36 1.66c-1.72-2.2-2.84-4.22-3.22-5.95a5.2 5.2 0 01-.1-1.96c.07-.51.26-.96.52-1.34.6-.87 1.65-1.41 2.8-1.41a3.3 3.3 0 012.8 1.4c.26.4.45.84.51 1.35.1.58.06 1.25-.1 1.96-.38 1.7-1.5 3.74-3.21 5.95zm12.74 1.48a4.76 4.76 0 01-2.9 3.75c-.76.32-1.6.41-2.42.32-.8-.1-1.6-.36-2.42-.84a15.64 15.64 0 01-3.63-3.1c2.1-2.6 3.37-4.97 3.85-7.08.23-1 .26-1.9.16-2.73a5.53 5.53 0 00-.86-2.2 5.36 5.36 0 00-4.49-2.28c-1.85 0-3.5.86-4.5 2.27a5.18 5.18 0 00-.85 2.21c-.13.84-.1 1.77.16 2.73.48 2.11 1.78 4.51 3.85 7.1a14.33 14.33 0 01-3.63 3.12c-.83.48-1.62.73-2.42.83a4.76 4.76 0 01-5.32-4.07c-.1-.8-.03-1.6.29-2.5.1-.32.25-.64.41-1.02.22-.52.48-1.06.73-1.6l.04-.07c2.16-4.77 4.52-9.64 6.97-14.41l.1-.2c.25-.48.5-.99.76-1.47.26-.51.54-1 .9-1.4a3.32 3.32 0 015.09 0c.35.4.64.89.9 1.4.25.48.5 1 .76 1.47l.1.2c2.44 4.77 4.8 9.64 7 14.41l.03.03c.26.52.48 1.1.73 1.6.16.39.32.7.42 1.03.19.9.29 1.7.19 2.5zM41.54 24.12a5.02 5.02 0 01-3.95-1.83 6.55 6.55 0 01-1.6-4.48 6.96 6.96 0 011.66-4.58 5.3 5.3 0 014.08-1.86 4.3 4.3 0 013.7 1.92l.1-1.57h2.92V23.8h-2.93l-.1-1.76a4.52 4.52 0 01-3.88 2.08zm.76-2.88c.58 0 1.09-.16 1.57-.45.44-.32.8-.74 1.08-1.25.25-.51.38-1.12.38-1.8a3.42 3.42 0 00-1.47-3.04 2.95 2.95 0 00-3.12 0c-.44.32-.8.74-1.08 1.25a4.01 4.01 0 00-.38 1.8 3.42 3.42 0 001.47 3.04c.47.29.98.45 1.55.45zM53.45 8.46c0 .35-.06.67-.22.93-.16.25-.38.48-.67.64-.29.16-.6.22-.92.22-.32 0-.64-.06-.93-.22a1.84 1.84 0 01-.67-.64 1.82 1.82 0 01-.22-.93c0-.36.07-.68.22-.93.16-.3.39-.48.67-.64.29-.16.6-.23.93-.23a1.84 1.84 0 011.6.86 2 2 0 01.21.94zm-3.4 15.3V11.7h3.18v12.08h-3.19zm11.68-8.9v.04c-.15-.07-.35-.1-.5-.13-.2-.04-.36-.04-.55-.04-.89 0-1.56.26-2 .8-.48.55-.7 1.32-.7 2.31v5.93h-3.19V11.69h2.93l.1 1.83c.32-.64.7-1.12 1.24-1.48a3.1 3.1 0 011.81-.5c.23 0 .45.02.64.06.1.03.16.03.22.06v3.2zm1.28 8.9V6.74h3.18v6.5c.45-.58.96-1.03 1.6-1.38a5.02 5.02 0 016.08 1.31 6.55 6.55 0 011.6 4.49 6.96 6.96 0 01-1.66 4.58 5.3 5.3 0 01-4.08 1.86 4.3 4.3 0 01-3.7-1.92l-.1 1.57-2.92.03zm6.15-2.52c.57 0 1.08-.16 1.56-.45.44-.32.8-.74 1.08-1.25.26-.51.38-1.12.38-1.8 0-.67-.12-1.28-.38-1.79a3.75 3.75 0 00-1.08-1.25 2.95 2.95 0 00-3.12 0c-.45.32-.8.74-1.09 1.25a4.01 4.01 0 00-.38 1.8 3.42 3.42 0 001.47 3.04c.47.29.98.45 1.56.45zm7.51 2.53V11.69h2.93l.1 1.57a3.96 3.96 0 013.54-1.89 4.1 4.1 0 013.82 2.44c.35.76.54 1.7.54 2.75v7.24h-3.19v-6.82c0-.84-.19-1.5-.57-1.99-.38-.48-.9-.74-1.56-.74-.48 0-.9.1-1.27.32-.35.23-.64.52-.86.93a2.7 2.7 0 00-.32 1.35v6.92h-3.16zm12.52 0V6.73h3.19v6.5a4.67 4.67 0 013.73-1.89 5.02 5.02 0 013.95 1.83 6.57 6.57 0 011.59 4.48 6.95 6.95 0 01-1.66 4.58 5.3 5.3 0 01-4.08 1.86 4.3 4.3 0 01-3.7-1.92l-.09 1.57-2.93.03zm6.18-2.53c.58 0 1.09-.16 1.56-.45.45-.32.8-.74 1.09-1.25.25-.51.38-1.12.38-1.8a3.42 3.42 0 00-1.47-3.04 2.95 2.95 0 00-3.12 0c-.44.32-.8.74-1.08 1.25a3.63 3.63 0 00-.38 1.8 3.42 3.42 0 001.47 3.04c.47.29.95.45 1.55.45z"})})})})}),Object(v.jsx)("div",{className:"flex-initial",children:Object(v.jsx)("div",{className:"flex justify-end items-center relative",children:Object(v.jsx)("div",{className:"inline relative",children:Object(v.jsx)("div",{className:"block flex-grow-0 flex-shrink-0",children:Object(v.jsx)("img",{className:"rounded-xl w-8 h-8 border border-yellow-300 shadow",src:"https://media-exp1.licdn.com/dms/image/C5603AQGEQ6ydraNeww/profile-displayphoto-shrink_200_200/0/1623517758261?e=1629331200&v=beta&t=mhUiw4p21E9okkvInvM0ry8lmLsT6s5ppWMKo6kFs2M",alt:""})})})})})]}),Object(v.jsxs)("div",{className:"px-3 rounded-lg  flex flex-col w-full",children:[Object(v.jsx)("h4",{className:"text-white text-xl font-semibold  leading-tight truncate",children:"Loremipsum Title"}),Object(v.jsx)("div",{className:"flex justify-between items-center ",children:Object(v.jsx)("div",{className:"flex flex-col",children:Object(v.jsxs)("h2",{className:"text-sm flex items-center text-gray-100 font-normal",children:[Object(v.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[Object(v.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),Object(v.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Massive Dynamic"]})})})]}),Object(v.jsx)("div",{className:"flex items-center justify-between mt-3 px-3 z-10",children:Object(v.jsxs)("div",{className:"relative w-full",children:[Object(v.jsx)("input",{type:"text",className:"bg-purple-white shadow rounded-xl border-0 p-3 w-full",placeholder:"Search somthing..."}),Object(v.jsx)("div",{className:"absolute top-0 right-0 p-4 pr-3 text-purple-lighter",children:Object(v.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(v.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})})]}),Object(v.jsxs)("div",{className:" p-3 space-y-4 z-0",children:[Object(v.jsx)("h4",{className:"font-semibold mt-2",children:"Category"}),Object(v.jsxs)("div",{className:"flex items-center justify-between overflow-y-scroll text-gray-500 cursor-pointer space-x-3",children:[Object(v.jsxs)("div",{className:"flex flex-col items-center justify-center w-20  h-20  bg-green-200 rounded-2xl text-green-600 shadow hover:shadow-md cursor-pointer mb-2 p-1 bg-white transition ease-in duration-300",children:[Object(v.jsx)("i",{className:"far fa-hotel"}),Object(v.jsx)("p",{className:"text-sm mt-1",children:"Hotel"})]}),Object(v.jsxs)("div",{className:"flex flex-col items-center justify-center w-20  h-20  bg-yellow-200 rounded-2xl text-yellow-600  shadow hover:shadow-md cursor-pointer mb-2 p-1 bg-white transition ease-in duration-300",children:[Object(v.jsx)("i",{className:"far fa-bus"}),Object(v.jsx)("p",{className:"text-sm mt-1",children:"Bus"})]}),Object(v.jsxs)("div",{className:"flex flex-col items-center justify-center w-20  h-20  bg-indigo-200  rounded-2xl  text-indigo-500 shadow hover:shadow-md cursor-pointer mb-2 p-1 bg-white transition ease-in duration-300",children:[Object(v.jsx)("i",{className:"far fa-mountains"}),Object(v.jsx)("p",{className:"text-sm mt-1",children:"Hills"})]}),Object(v.jsxs)("div",{className:"flex flex-col items-center justify-center w-20  h-20  bg-pink-200   rounded-2xl text-pink-500 shadow hover:shadow-md cursor-pointer mb-2 p-1 bg-white transition ease-in duration-300",children:[Object(v.jsx)("i",{className:"far fa-umbrella-beach"}),Object(v.jsx)("p",{className:"text-sm mt-1",children:"Beach"})]})]}),Object(v.jsx)("h4",{className:"font-semibold",children:"Recomented Hotels"}),Object(v.jsxs)("div",{className:"grid m-0  grid-cols-2  space-x-4 overflow-y-scroll flex justify-center items-center w-full ",children:[Object(v.jsxs)("div",{className:"relative flex flex-col justify-between   bg-white shadow-md rounded-3xl  bg-cover text-gray-800  overflow-hidden cursor-pointer w-full object-cover object-center rounded-lg shadow-md h-64 my-2",children:[Object(v.jsx)("div",{className:"absolute bg-gradient-to-t from-green-400 to-blue-400  opacity-50 inset-0 z-0"}),Object(v.jsxs)("div",{className:"relative flex flex-row items-end  h-72 w-full ",children:[Object(v.jsx)("div",{className:"absolute right-0 top-0 m-2",children:Object(v.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-9 w-9 p-2 text-gray-200 hover:text-blue-400 rounded-full hover:bg-white transition ease-in duration-200 ",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(v.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"})})}),Object(v.jsxs)("div",{className:"p-6 rounded-lg  flex flex-col w-full z-10 ",children:[Object(v.jsx)("h4",{className:"mt-1 text-white text-xl font-semibold  leading-tight truncate",children:"Loremipsum.."}),Object(v.jsx)("div",{className:"flex justify-between items-center ",children:Object(v.jsx)("div",{className:"flex flex-col",children:Object(v.jsxs)("h2",{className:"text-sm flex items-center text-gray-300 font-normal",children:[Object(v.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[Object(v.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),Object(v.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Dubai"]})})}),Object(v.jsxs)("div",{className:"flex pt-4  text-sm text-gray-300",children:[Object(v.jsxs)("div",{className:"flex items-center mr-auto",children:[Object(v.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-yellow-500 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:Object(v.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),Object(v.jsx)("p",{className:"font-normal",children:"4.5"})]}),Object(v.jsxs)("div",{className:"flex items-center font-medium text-white ",children:["$1800",Object(v.jsxs)("span",{className:"text-gray-300 text-sm font-normal",children:[" ","/wk"]})]})]})]})]})]}),Object(v.jsxs)("div",{className:"relative flex flex-col justify-between   bg-white shadow-md  rounded-3xl  bg-cover text-gray-800  overflow-hidden cursor-pointer w-full object-cover object-center rounded-lg shadow-md h-64 my-2",children:[Object(v.jsx)("div",{className:"absolute bg-gradient-to-t from-blue-500 to-yellow-400  opacity-50 inset-0 z-0"}),Object(v.jsxs)("div",{className:"relative flex flex-row items-end  h-72 w-full ",children:[Object(v.jsx)("div",{className:"absolute right-0 top-0 m-2",children:Object(v.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-9 w-9 p-2 text-gray-200 hover:text-blue-400 rounded-full hover:bg-white transition ease-in duration-200 ",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(v.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"})})}),Object(v.jsxs)("div",{className:"p-5 rounded-lg  flex flex-col w-full z-10 ",children:[Object(v.jsx)("h4",{className:"mt-1 text-white text-xl font-semibold  leading-tight truncate",children:"Loremipsum.."}),Object(v.jsx)("div",{className:"flex justify-between items-center ",children:Object(v.jsx)("div",{className:"flex flex-col",children:Object(v.jsxs)("h2",{className:"text-sm flex items-center text-gray-300 font-normal",children:[Object(v.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[Object(v.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),Object(v.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),"India"]})})}),Object(v.jsxs)("div",{className:"flex pt-4  text-sm text-gray-300",children:[Object(v.jsxs)("div",{className:"flex items-center mr-auto",children:[Object(v.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-yellow-500 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:Object(v.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),Object(v.jsx)("p",{className:"font-normal",children:"4.5"})]}),Object(v.jsxs)("div",{className:"flex items-center font-medium text-white ",children:["$1800",Object(v.jsxs)("span",{className:"text-gray-300 text-sm font-normal",children:[" ","/wk"]})]})]})]})]})]})]}),Object(v.jsx)("h4",{className:"font-semibold",children:"Suggested By"}),Object(v.jsx)("div",{className:"grid grid-cols-1",children:Object(v.jsx)("div",{className:"",children:Object(v.jsxs)("div",{className:"flex  bg-white shadow-md  rounded-2xl p-2",children:[Object(v.jsx)("img",{src:"https://images.unsplash.com/photo-1439130490301-25e322d88054?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1189&q=80",alt:"Just a flower",className:" w-16  object-cover  h-16 rounded-xl"}),Object(v.jsxs)("div",{className:"flex flex-col justify-center w-full px-2 py-1",children:[Object(v.jsxs)("div",{className:"flex justify-between items-center ",children:[Object(v.jsx)("div",{className:"flex flex-col",children:Object(v.jsx)("h2",{className:"text-sm font-medium",children:"Massive Dynamic"})}),Object(v.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-500 hover:text-blue-400 cursor-pointer",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(v.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"})})]}),Object(v.jsxs)("div",{className:"flex pt-2  text-sm text-gray-400",children:[Object(v.jsxs)("div",{className:"flex items-center mr-auto",children:[Object(v.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-yellow-500 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:Object(v.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),Object(v.jsx)("p",{className:"font-normal",children:"4.5"})]}),Object(v.jsxs)("div",{className:"flex items-center font-medium text-gray-900 ",children:["$1800",Object(v.jsxs)("span",{className:"text-gray-400 text-sm font-normal",children:[" ","/wk"]})]})]})]})]})})})]}),Object(v.jsxs)("div",{className:"sticky bottom-2  p-5 px-6 m-2   flex items-center justify-between   bg-gray-900 shadow-3xl text-gray-400 rounded-2xl cursor-pointer",children:[Object(v.jsx)("div",{className:"flex flex-col items-center transition ease-in duration-200 hover:text-blue-400 ",children:Object(v.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(v.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 14v6m-3-3h6M6 10h2a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v2a2 2 0 002 2zm10 0h2a2 2 0 002-2V6a2 2 0 00-2-2h-2a2 2 0 00-2 2v2a2 2 0 002 2zM6 20h2a2 2 0 002-2v-2a2 2 0 00-2-2H6a2 2 0 00-2 2v2a2 2 0 002 2z"})})}),Object(v.jsx)("div",{className:"flex flex-col items-center transition ease-in duration-200 hover:text-blue-400 ",children:Object(v.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(v.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),Object(v.jsx)("div",{className:"flex flex-col items-center transition ease-in duration-200 hover:text-blue-400 ",children:Object(v.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(v.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"})})}),Object(v.jsx)("div",{className:"flex flex-col items-center transition ease-in duration-200 hover:text-blue-400 ",children:Object(v.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(v.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})]})]})};var Pn={show:function(){return new Promise((function(e,t){h.get("/banco").then((function(t){e(t.data)}),(function(e){t(new Error("bad request"))}))}))},find:function(e){return new Promise((function(t,n){h.get("banco/"+e).then((function(e){t(e.data)}))}))},create:function(e){return new Promise((function(t,n){h.post("banco",e).then((function(e){t(e.data)})).catch((function(e){e.response&&t(e.response.data)}))}))},update:function(e,t){var n=e.empresa_id;return new Promise((function(o,i){h.put("banco/"+n+"/"+t,e).then((function(e){o(e.data)}))}))}},Tn=lt.a().required(),Fn=function(e){var t,n=e.state,i=Object(y.h)(),a=Object(y.g)(),c=Object(o.useContext)(C).empresa,r=Object(o.useState)(!1),l=Object(u.a)(r,2),s=l[0],d=l[1],j=Object(o.useState)(!1),b=Object(u.a)(j,2),m=b[0],x=b[1],h=Object(Xe.e)({resolver:Object(at.a)(Tn),defaultValues:n}),p=h.control,O=h.handleSubmit,f=h.formState.errors,g=h.reset,w=h.setValue,_=h.watch,k=Object(o.useState)(),N=Object(u.a)(k,2),S=(N[0],N[1]),A=_();Object(o.useEffect)((function(){Object(me.a)(he.a.mark((function e(){var t;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n||!n.id){e.next=7;break}return e.next=3,Pn.find(n.id);case 3:return t=e.sent,e.abrupt("return",S(t.data));case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e)})))()}),[]);var V=function(e){i(a.state.backgroundLocation.pathname,{state:{reload:{moneda_id:e}}})},D=function(){var e=Object(me.a)(he.a.mark((function e(t){var n,o;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d(!0),!t||!t.id){e.next=8;break}return e.next=4,Pn.update(t,t.id);case 4:n=e.sent,V(n),e.next=14;break;case 8:return e.next=10,Pn.create(t);case 10:return o=e.sent,d(!1),null!==o&&void 0!==o&&o.errors?x(dt(o)):(x(null),V(o)),e.abrupt("return",o);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsxs)(se.a,{onSubmit:O(D),noValidate:!0,children:[Object(v.jsxs)(se.a.Group,{children:[Object(v.jsx)(xt,{model:ut.listado_bancos,empresaContexto:c,control:p,setValue:w,venta:A,width:16}),Object(v.jsx)(rt,{name:"numero_cuenta",title:"N\xfamero de Cuenta",control:p,errors:f,width:16})]}),null!==(t=Object.keys(f))&&void 0!==t&&t.length?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(je.a,{color:"orange",header:"Advertencia",list:["Verifique que todos los campos requeridos esten completos."]}),Object(v.jsx)(de.a,{children:JSON.stringify(f,null,2)})]}):Object(v.jsx)(v.Fragment,{}),(null===m||void 0===m?void 0:m.length)&&Object(v.jsx)(je.a,{color:"red",header:"Verifique los siguientes campos",list:m}),Object(v.jsx)(ue.a,{loading:s,disabled:s,content:"Guardar",primary:!0}),Object(v.jsx)(ue.a,{as:"a",content:"Deshacer Cambios",secondary:!0,onClick:function(){g(n)}})]})},En=function(){var e,t,n=Object(y.g)(),i=Object(o.useContext)(C).empresa,a=Object(o.useState)([]),c=Object(u.a)(a,2),r=c[0],l=c[1],d=function(){var e=Object(me.a)(he.a.mark((function e(t){var n;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,an.show(t);case 2:n=e.sent,l(n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(o.useEffect)((function(){d(i.empresa.id)}),[null===(e=n.state)||void 0===e||null===(t=e.reload)||void 0===t?void 0:t.moneda_id]),Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(Oe.a,{children:Object(v.jsxs)(X.a.Column,{width:16,style:{marginTop:"10px",padding:10},children:[Object(v.jsx)(X.a.Row,{children:Object(v.jsx)(le.a,{as:"h1",children:"Utilidad"})}),Object(v.jsx)(X.a.Row,{style:{marginTop:"10px"},children:Object(v.jsx)(Pe.a.Group,{children:Object(v.jsxs)(Pe.a,{children:[Object(v.jsx)(Pe.a.Content,{children:Object(v.jsxs)(Pe.a.Header,{children:[Object(v.jsx)(le.a,{children:"Monedas"}),Object(v.jsx)(s.b,{className:"button ui mini",to:"/welcome/moneda/create",state:{backgroundLocation:n,model:{local_id:i.id,empresa_id:i.empresa.id}},children:"Nuevo"})]})}),Object(v.jsx)(Pe.a.Content,{children:Object(v.jsx)(ye.a,{divided:!0,verticalAlign:"middle",children:r.map((function(e,t){return Object(v.jsxs)(ye.a.Item,{children:[Object(v.jsx)(ye.a.Content,{floated:"right",children:Object(v.jsx)(s.b,{className:"button ui mini",to:"/welcome/moneda/"+e.id,state:{backgroundLocation:n,model:e,empresaContexto:i},children:"Editar"})}),Object(v.jsxs)(ye.a.Content,{children:[Object(v.jsx)(Ce.a,{circular:!0,color:"",children:e.simbolo}),"\xa0\xa0",e.nombre]})]},t)}))})})]})})})]})})})};var In=function(){var e=Object(o.useState)({email:"",password:""}),t=Object(u.a)(e,2),n=t[0],i=t[1],a=ee(),c=a.login,r=a.isLogged,l=(a.isLoginLoading,a.hasLoginError,function(e){var t={};t[e.target.name]=e.target.value,i(Object(A.a)(Object(A.a)({},n),t))});return Object(v.jsxs)("div",{className:"flex flex-col min-h-screen overflow-hidden",children:[Object(v.jsx)(N,{}),Object(v.jsx)("main",{className:"flex-grow",children:Object(v.jsx)("section",{className:"bg-gradient-to-b from-gray-100 to-white",children:Object(v.jsx)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6",children:Object(v.jsxs)("div",{className:"pt-32 pb-12 md:pt-40 md:pb-20",children:[Object(v.jsx)("div",{className:"max-w-3xl mx-auto text-center pb-12 md:pb-20",children:Object(v.jsx)("h1",{className:"h1",children:"Inicia sesi\xf3n "})}),Object(v.jsxs)("div",{className:"max-w-sm mx-auto",children:[Object(v.jsxs)("form",{onSubmit:function(e){e.preventDefault(),c(n)},children:[Object(v.jsx)("div",{className:"flex flex-wrap -mx-3 mb-4",children:Object(v.jsxs)("div",{className:"w-full px-3",children:[Object(v.jsx)("label",{className:"block text-gray-800 text-sm font-medium mb-1",htmlFor:"email",children:"Email"}),Object(v.jsx)("input",{id:"email",type:"email",className:"form-input w-full text-gray-800",placeholder:"Ingresa tu direcci\xf3n de correo",name:"email",onChange:l,value:null===n||void 0===n?void 0:n.email})]})}),Object(v.jsx)("div",{className:"flex flex-wrap -mx-3 mb-4",children:Object(v.jsxs)("div",{className:"w-full px-3",children:[Object(v.jsxs)("div",{className:"flex justify-between",children:[Object(v.jsx)("label",{className:"block text-gray-800 text-sm font-medium mb-1",htmlFor:"password",children:"Contrase\xf1a"}),Object(v.jsx)(s.b,{to:"reset-password",className:"text-sm font-medium text-blue-600 hover:underline",children:"Recuperar contrase\xf1a"})]}),Object(v.jsx)("input",{id:"password",type:"password",className:"form-input w-full text-gray-800",placeholder:"Ingresa tu contrase\xf1a",name:"password",onChange:l,value:null===n||void 0===n?void 0:n.password})]})}),r&&Object(v.jsx)(y.a,{to:"/welcome/empresas"}),Object(v.jsx)("div",{className:"flex flex-wrap -mx-3 mt-6",children:Object(v.jsx)("div",{className:"w-full px-3",children:Object(v.jsx)("button",{className:"btn text-white bg-blue-600 hover:bg-blue-700 w-full",children:"Ingresar"})})})]}),Object(v.jsxs)("div",{className:"text-gray-600 text-center mt-6",children:["\xbfAun no tienes cuenta?"," ",Object(v.jsx)(s.b,{to:"/registro",className:"text-blue-600 hover:underline transition duration-150 ease-in-out",children:"Registrate"})]})]})]})})})})]})};var zn=function(){var e=ee(),t=(e.isLogged,e.logout);return Object(o.useEffect)((function(){t()}),[]),Object(v.jsxs)("div",{className:"flex flex-col min-h-screen overflow-hidden",children:[Object(v.jsx)(N,{}),Object(v.jsx)("main",{className:"flex-grow",children:Object(v.jsx)("section",{className:"bg-gradient-to-b from-gray-100 to-white",children:Object(v.jsx)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6",children:Object(v.jsxs)("div",{className:"pt-32 pb-12 md:pt-40 md:pb-20",children:[Object(v.jsx)("div",{className:"max-w-3xl mx-auto text-center pb-12 md:pb-20",children:Object(v.jsx)("h1",{className:"h1",children:"Bienvenido."})}),Object(v.jsxs)("div",{className:"max-w-sm mx-auto",children:[Object(v.jsxs)("form",{children:[Object(v.jsx)("div",{className:"flex flex-wrap -mx-3 mb-4",children:Object(v.jsxs)("div",{className:"w-full px-3",children:[Object(v.jsxs)("label",{className:"block text-gray-800 text-sm font-medium mb-1",htmlFor:"name",children:["Name ",Object(v.jsx)("span",{className:"text-red-600",children:"*"})]}),Object(v.jsx)("input",{id:"name",type:"text",className:"form-input w-full text-gray-800",placeholder:"Enter your name",required:!0})]})}),Object(v.jsx)("div",{className:"flex flex-wrap -mx-3 mb-4",children:Object(v.jsxs)("div",{className:"w-full px-3",children:[Object(v.jsxs)("label",{className:"block text-gray-800 text-sm font-medium mb-1",htmlFor:"email",children:["Email ",Object(v.jsx)("span",{className:"text-red-600",children:"*"})]}),Object(v.jsx)("input",{id:"email",type:"email",className:"form-input w-full text-gray-800",placeholder:"Enter your email address",required:!0})]})}),Object(v.jsx)("div",{className:"flex flex-wrap -mx-3 mb-4",children:Object(v.jsxs)("div",{className:"w-full px-3",children:[Object(v.jsxs)("label",{className:"block text-gray-800 text-sm font-medium mb-1",htmlFor:"password",children:["Contrase\xf1a ",Object(v.jsx)("span",{className:"text-red-600",children:"*"})]}),Object(v.jsx)("input",{id:"password",type:"password",className:"form-input w-full text-gray-800",placeholder:"Enter your password",required:!0})]})}),Object(v.jsx)("div",{className:"flex flex-wrap -mx-3 mt-6",children:Object(v.jsx)("div",{className:"w-full px-3",children:Object(v.jsx)("button",{className:"btn text-white bg-blue-600 hover:bg-blue-700 w-full",children:"Sign up"})})}),Object(v.jsxs)("div",{className:"text-sm text-gray-500 text-center mt-3",children:["By creating an account, you agree to the"," ",Object(v.jsx)("a",{className:"underline",href:"#0",children:"terms & conditions"}),", and our"," ",Object(v.jsx)("a",{className:"underline",href:"#0",children:"privacy policy"}),"."]})]}),Object(v.jsxs)("div",{className:"flex items-center my-6",children:[Object(v.jsx)("div",{className:"border-t border-gray-300 flex-grow mr-3","aria-hidden":"true"}),Object(v.jsx)("div",{className:"text-gray-600 italic",children:"Or"}),Object(v.jsx)("div",{className:"border-t border-gray-300 flex-grow ml-3","aria-hidden":"true"})]}),Object(v.jsxs)("form",{children:[Object(v.jsx)("div",{className:"flex flex-wrap -mx-3 mb-3",children:Object(v.jsx)("div",{className:"w-full px-3",children:Object(v.jsxs)("button",{className:"btn px-0 text-white bg-gray-900 hover:bg-gray-800 w-full relative flex items-center",children:[Object(v.jsx)("svg",{className:"w-4 h-4 fill-current text-white opacity-75 flex-shrink-0 mx-4",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",children:Object(v.jsx)("path",{d:"M7.95 0C3.578 0 0 3.578 0 7.95c0 3.479 2.286 6.46 5.466 7.553.397.1.497-.199.497-.397v-1.392c-2.187.497-2.683-.993-2.683-.993-.398-.895-.895-1.193-.895-1.193-.696-.497.1-.497.1-.497.795.1 1.192.795 1.192.795.696 1.292 1.888.895 2.286.696.1-.497.298-.895.497-1.093-1.79-.2-3.578-.895-3.578-3.975 0-.895.298-1.59.795-2.087-.1-.2-.397-.994.1-2.087 0 0 .695-.2 2.186.795a6.408 6.408 0 011.987-.299c.696 0 1.392.1 1.988.299 1.49-.994 2.186-.795 2.186-.795.398 1.093.199 1.888.1 2.087.496.596.795 1.291.795 2.087 0 3.08-1.889 3.677-3.677 3.875.298.398.596.895.596 1.59v2.187c0 .198.1.497.596.397C13.714 14.41 16 11.43 16 7.95 15.9 3.578 12.323 0 7.95 0z"})}),Object(v.jsx)("span",{className:"flex-auto pl-16 pr-8 -ml-16",children:"Continue with GitHub"})]})})}),Object(v.jsx)("div",{className:"flex flex-wrap -mx-3",children:Object(v.jsx)("div",{className:"w-full px-3",children:Object(v.jsxs)("button",{className:"btn px-0 text-white bg-red-600 hover:bg-red-700 w-full relative flex items-center",children:[Object(v.jsx)("svg",{className:"w-4 h-4 fill-current text-white opacity-75 flex-shrink-0 mx-4",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",children:Object(v.jsx)("path",{d:"M7.9 7v2.4H12c-.2 1-1.2 3-4 3-2.4 0-4.3-2-4.3-4.4 0-2.4 2-4.4 4.3-4.4 1.4 0 2.3.6 2.8 1.1l1.9-1.8C11.5 1.7 9.9 1 8 1 4.1 1 1 4.1 1 8s3.1 7 7 7c4 0 6.7-2.8 6.7-6.8 0-.5 0-.8-.1-1.2H7.9z"})}),Object(v.jsx)("span",{className:"flex-auto pl-16 pr-8 -ml-16",children:"Continue with Google"})]})})})]}),Object(v.jsxs)("div",{className:"text-gray-600 text-center mt-6",children:["Already using Simple?"," ",Object(v.jsx)(s.b,{to:"/signin",className:"text-blue-600 hover:underline transition duration-150 ease-in-out",children:"Sign in"})]})]})]})})})})]})};function Rn(){return Object(v.jsx)("div",{children:Object(v.jsx)("h2",{children:"Profile"})})}function Ln(){return Object(v.jsxs)("div",{children:[Object(v.jsx)("h2",{children:"Nothing to see here!"}),Object(v.jsx)("p",{children:Object(v.jsx)(s.b,{to:"/",children:"Go to the home page"})})]})}function Bn(){var e=Object(y.h)(),t=ee().logout;return Object(o.useEffect)((function(){t(),e({pathname:"/ingresar"})})),!0}var Mn=function(){var e=Object(o.useState)({status:!1}),t=Object(u.a)(e,2),n=t[0],i=t[1],a=Object(y.g)(),c=a.state||{backgroundLocation:a};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(y.e,{location:null!==c&&void 0!==c&&c.backgroundLocation?null===c||void 0===c?void 0:c.backgroundLocation:a,children:[Object(v.jsx)(y.c,{path:"/",element:Object(v.jsx)(Q,{})}),Object(v.jsx)(y.c,{path:"/signup2",element:Object(v.jsx)(be,{})}),Object(v.jsx)(y.c,{path:"/registro",element:Object(v.jsx)(zn,{})}),Object(v.jsx)(y.c,{path:"/ingresar",element:Object(v.jsx)(In,{})}),Object(v.jsx)(y.c,{path:"/loginout",element:Object(v.jsx)(Bn,{})}),Object(v.jsx)(y.c,{path:"test-mobil",element:Object(v.jsx)(Dn,{})}),Object(v.jsx)(y.c,{path:"welcome",element:Object(v.jsx)(re,{}),children:Object(v.jsx)(y.c,{path:"empresas",element:Object(v.jsx)(Se,{})})}),Object(v.jsxs)(y.c,{path:"/workspace",element:Object(v.jsx)(ce,{}),children:[Object(v.jsx)(y.c,{path:"app",element:Object(v.jsx)(Ee,{})}),Object(v.jsx)(y.c,{path:"ventas",element:Object(v.jsx)(Kt,{})}),Object(v.jsx)(y.c,{path:"compras",element:Object(v.jsx)(Vn,{})}),Object(v.jsx)(y.c,{path:"ventas/:id",fullwidth:!0,element:Object(v.jsx)(qt,{state:null===c||void 0===c?void 0:c.model,editionMode:!0})}),Object(v.jsx)(y.c,{path:"contactos",element:Object(v.jsx)(xn,{})}),Object(v.jsx)(y.c,{path:"productos",element:Object(v.jsx)(vn,{})}),Object(v.jsx)(y.c,{path:"reportes",element:Object(v.jsx)(Cn,{})}),Object(v.jsx)(y.c,{path:"util",element:Object(v.jsx)(En,{})}),Object(v.jsx)(y.c,{path:"profile",element:Object(v.jsx)(Rn,{})})]}),Object(v.jsxs)(y.c,{path:"/space",element:Object(v.jsx)(bn,{}),children:[Object(v.jsx)(y.c,{path:"productos/create/:id",element:Object(v.jsx)(ne,{children:Object(v.jsx)(qt,{state:null===c||void 0===c?void 0:c.model,editionMode:!0})})}),Object(v.jsx)(y.c,{path:"productos/:id",element:Object(v.jsx)(ne,{children:Object(v.jsx)(qt,{state:null===c||void 0===c?void 0:c.model,editionMode:!0})})}),Object(v.jsx)(y.c,{path:"compras/create/:id",element:Object(v.jsx)(An,{formatPrint:n,setFormatPrint:i,state:null===c||void 0===c?void 0:c.model,editionMode:!0})}),Object(v.jsx)(y.c,{path:"compras/:id",element:Object(v.jsx)(An,{formatPrint:n,setFormatPrint:i,state:null===c||void 0===c?void 0:c.model,editionMode:!0})}),Object(v.jsx)(y.c,{path:"ventas/create/:id",element:Object(v.jsx)(qt,{formatPrint:n,setFormatPrint:i,state:null===c||void 0===c?void 0:c.model,editionMode:!0})}),Object(v.jsx)(y.c,{path:"ventas/:id",element:Object(v.jsx)(qt,{formatPrint:n,setFormatPrint:i,state:null===c||void 0===c?void 0:c.model,editionMode:!0})})]}),Object(v.jsx)(y.c,{path:"*",element:Object(v.jsx)(Ln,{})})]}),(null===c||void 0===c?void 0:c.backgroundLocation)&&Object(v.jsxs)(y.e,{children:[Object(v.jsx)(y.c,{path:"reportes/ventas",element:Object(v.jsx)(Ve,{size:"large",setTitle:"Reporte de Venta",children:Object(v.jsx)(kn,{state:null===c||void 0===c?void 0:c.model})})}),Object(v.jsx)(y.c,{path:"reportes/productos",element:Object(v.jsx)(Ve,{size:"large",setTitle:"Reporte de Productos",children:Object(v.jsx)(kn,{state:null===c||void 0===c?void 0:c.model})})}),Object(v.jsx)(y.c,{path:"reportes/contactos",element:Object(v.jsx)(Ve,{size:"large",setTitle:"Reporte de Contactos",children:Object(v.jsx)(kn,{state:null===c||void 0===c?void 0:c.model})})}),Object(v.jsx)(y.c,{path:"welcome/email/create",element:Object(v.jsx)(Ve,{size:"large",setTitle:"Nuevo Correo",children:Object(v.jsx)(_n,{state:null===c||void 0===c?void 0:c.model})})}),Object(v.jsx)(y.c,{path:"welcome/empresas/create",element:Object(v.jsx)(Ve,{size:"large",setTitle:"Crea Nueva Empresa",children:Object(v.jsx)(Zt,{})})}),Object(v.jsx)(y.c,{path:"welcome/empresas/:id",element:Object(v.jsx)(Ve,{size:"large",setTitle:"Editar Empresa",children:Object(v.jsx)(Zt,{state:null===c||void 0===c?void 0:c.model})})}),Object(v.jsx)(y.c,{path:"welcome/locals/create",element:Object(v.jsx)(Ve,{size:"large",setTitle:"Crea Nuevo Local",children:Object(v.jsx)($t,{state:null===c||void 0===c?void 0:c.model})})}),Object(v.jsx)(y.c,{path:"welcome/locals/:id",element:Object(v.jsx)(Ve,{size:"large",setTitle:"Editar Local",children:Object(v.jsx)($t,{state:null===c||void 0===c?void 0:c.model})})}),Object(v.jsx)(y.c,{path:"welcome/clientes/create",element:Object(v.jsx)(Ve,{size:"large",setTitle:"Crea Nuevo Cliente",children:Object(v.jsx)(on,{state:null===c||void 0===c?void 0:c.model})})}),Object(v.jsx)(y.c,{path:"welcome/clientes/:id",element:Object(v.jsx)(Ve,{size:"large",setTitle:"Editar Contacto",children:Object(v.jsx)(on,{state:null===c||void 0===c?void 0:c.model})})}),Object(v.jsx)(y.c,{path:"welcome/moneda/create",element:Object(v.jsx)(Ve,{size:"small",setTitle:"Crea Nueva Moneda",children:Object(v.jsx)(rn,{state:null===c||void 0===c?void 0:c.model})})}),Object(v.jsx)(y.c,{path:"welcome/moneda/:id",element:Object(v.jsx)(Ve,{size:"small",setTitle:"Editar Moneda",children:Object(v.jsx)(rn,{state:null===c||void 0===c?void 0:c.model})})}),Object(v.jsx)(y.c,{path:"welcome/banco/create",element:Object(v.jsx)(Ve,{size:"small",setTitle:"Crea Nuevo Banco",children:Object(v.jsx)(Fn,{state:null===c||void 0===c?void 0:c.model})})}),Object(v.jsx)(y.c,{path:"welcome/banco/:id",element:Object(v.jsx)(Ve,{size:"small",setTitle:"Editar Banco",children:Object(v.jsx)(Fn,{state:null===c||void 0===c?void 0:c.model})})}),Object(v.jsx)(y.c,{path:"welcome/vehiculo/create",element:Object(v.jsx)(Ve,{size:"small",setTitle:"Crea Nuevo Vehiculo",children:Object(v.jsx)(dn,{state:null===c||void 0===c?void 0:c.model})})}),Object(v.jsx)(y.c,{path:"welcome/vehiculo/:id",element:Object(v.jsx)(Ve,{size:"small",setTitle:"Editar Vehiculo",children:Object(v.jsx)(dn,{state:null===c||void 0===c?void 0:c.model})})}),Object(v.jsx)(y.c,{path:"welcome/ventas/create",element:Object(v.jsx)(Ve,{size:"fullscreen",setTitle:"Title",children:Object(v.jsx)(rn,{state:null===c||void 0===c?void 0:c.model})})}),Object(v.jsx)(y.c,{path:"welcome/ventas/:id",element:Object(v.jsx)(Ve,{size:"fullscreen",setTitle:"Title"})}),Object(v.jsx)(y.c,{path:"welcome/productos/create",element:Object(v.jsx)(Ve,{size:"large",setTitle:"Crea Nuevo Producto \xf3 Servicio",children:Object(v.jsx)(jn,{state:null===c||void 0===c?void 0:c.model})})}),Object(v.jsx)(y.c,{path:"welcome/productos/:id",element:Object(v.jsx)(Ve,{size:"large",setTitle:"Editar Producto \xf3 Servicio",children:Object(v.jsx)(jn,{state:null===c||void 0===c?void 0:c.model})})}),Object(v.jsx)(y.c,{path:"welcome/precios/create",element:Object(v.jsx)(Ve,{size:"small",setTitle:"Crea Nuevo Precio",children:Object(v.jsx)(fn,{state:null===c||void 0===c?void 0:c.model})})}),Object(v.jsx)(y.c,{path:"welcome/precios/:id",element:Object(v.jsx)(Ve,{size:"small",setTitle:"Editar Precio",children:Object(v.jsx)(fn,{state:null===c||void 0===c?void 0:c.model})})})]})]})};var Gn,qn=function(){return Object(o.useEffect)((function(){l.a.init({once:!0,disable:"phone",duration:700,easing:"ease-out-cubic"})})),Object(v.jsxs)(f,{children:[Object(v.jsx)(_,{children:Object(v.jsx)(ne,{children:Object(v.jsx)(s.a,{children:Object(v.jsx)(Mn,{})})})}),Object(v.jsx)(d.a,{position:"bottom-left",autoClose:2e3,hideProgressBar:!0,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})};c.a.render(Object(v.jsx)(i.a.StrictMode,{children:Object(v.jsx)(qn,{})}),document.getElementById("root")),window.addEventListener("load",(function(){!function(e,t){navigator.serviceWorker.register(e).then((function(e){console.log({registration:e}),e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){console.log({installingWorker:n}),console.log(n.state),"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}("".concat("https://invoice.fivip.net","/service-worker.js"),Gn)}))}},[[842,1,2]]]);
//# sourceMappingURL=main.3f32d907.chunk.js.map