{"version":3,"sources":["images/features-bg.png","images/features-element.png","images/hero-image.png","images/testimonial.jpg","pages/Welcome sync","services/_path.jsx","services/_instance.jsx","services/auth.jsx","context/UserContext.jsx","context/EmpresaContext.jsx","partials/Header.jsx","partials/HeroHome.jsx","libs/Transition.js","partials/Features.jsx","assets/24_hours.png","assets/box_1.png","assets/calculator.png","assets/dollar.png","assets/email.png","assets/invoice_0.png","partials/FeaturesBlocks.jsx","assets/invoice_1.png","assets/invoice_2.png","assets/online_shop.png","assets/rating.png","partials/Footer.jsx","pages/Home.jsx","libs/handleBackendErrors.jsx","hooks/useUser.jsx","context/VentaContext.jsx","hooks/useWindowSize.jsx","components/Navbar.jsx","pages/Dashboard/_Layout.jsx","pages/Welcome/Layout.jsx","pages/Login.jsx","services/empresa.jsx","services/local.jsx","pages/Welcome/Welcome.jsx","components/ModalRouter.jsx","libs/currency.jsx","pages/Dashboard/Dashboard.jsx","components/CreateButton.jsx","services/ventas.jsx","components/ConverterButton.jsx","components/FormFieldController.jsx","components/ventas/schema.jsx","libs/settingDropdowns.jsx","services/dropdown.jsx","components/DropdownSearch2.jsx","services/productos.jsx","components/SearchProducto.jsx","libs/calcularPrecios.jsx","libs/formatFecha.jsx","components/ViewFormatA4.jsx","libs/calcularListaPrecio.jsx","services/precio.jsx","components/ventas/formulario_pago.jsx","components/ventas/formulario_movil.jsx","components/ventas/formulario.jsx","libs/updated.jsx","components/LabelUpdate.jsx","components/InputSearch.jsx","pages/Dashboard/Ventas.jsx","components/FormFieldFileController.jsx","components/empresa/schema.jsx","components/empresa/formulario.jsx","components/local/schema.jsx","components/local/formulario.jsx","services/cliente.jsx","components/cliente/schema.jsx","components/cliente/formulario.jsx","services/moneda.jsx","components/moneda/schema.jsx","components/moneda/formulario.jsx","services/vehiculos.jsx","components/vehiculo/schema.jsx","components/vehiculo/formulario.jsx","components/producto/schema.jsx","components/producto/formulario.jsx","pages/Dashboard/_LayoutFullScreen.jsx","pages/Dashboard/Contactos.jsx","components/Filter.jsx","components/producto/Importador.jsx","pages/Dashboard/Productos.jsx","components/precio/schema.jsx","components/precio/formulario.jsx","components/email/schema.jsx","services/email.jsx","components/email/formulario.jsx","pages/Dashboard/Reports.jsx","components/ventas/schema_report.jsx","components/ventas/report.jsx","components/compras/schema.jsx","components/compras/formulario.jsx","pages/Dashboard/Compras.jsx","pages/Dashboard/TestMobil.jsx","services/bancos.jsx","components/banco/schema.jsx","components/banco/formulario.jsx","pages/Dashboard/Utilidades.jsx","pages/SignIn.js","pages/SignUp.js","pages/Comprobante.jsx","Routes.jsx","App.js","serviceWorkerRegistration.js","index.js"],"names":["webpackEmptyContext","req","e","Error","code","keys","resolve","module","exports","id","require","Path","type","process","instance","axios","create","baseURL","console","log","ENV","interceptors","request","use","error","Promise","reject","response","status","toast","window","localStorage","removeItem","defaults","headers","common","getItem","Login","form","ok","err","post","then","res","data","token","bad","Me","get","Out","Register","Context","React","createContext","UserContextProvider","children","useState","me","setMe","jwt","setJwt","useEffect","auth","Provider","value","EmpresaContextProvider","JSON","parse","size","impresion","setImpresion","logo","setLogo","empresa","setEmpresa","Header","top","setTop","scrollHandler","pageYOffset","addEventListener","removeEventListener","className","to","viewBox","xmlns","cx","cy","fx","fy","r","stopColor","offset","width","height","rx","fill","fillRule","d","HeroHome","x1","y1","x2","y2","href","src","default","alt","xmlnsXlink","stopOpacity","fillOpacity","xlinkHref","TransitionContext","parent","CSSTransition","show","enter","enterStart","enterEnd","leave","leaveStart","leaveEnd","appear","unmountOnExit","tag","rest","enterClasses","split","filter","s","length","enterStartClasses","enterEndClasses","leaveClasses","leaveStartClasses","leaveEndClasses","removeFromDom","addClasses","node","classes","classList","add","removeClasses","remove","nodeRef","useRef","Component","in","addEndListener","done","current","onEnter","style","display","onEntering","onEntered","onExit","onExiting","onExited","ref","Transition","useContext","isInitialRender","useIsInitialRender","undefined","Features","tab","setTab","tabs","offsetHeight","onClick","preventDefault","_imgfeat","FeaturesBlocks","Soporte","Producto","Calculadora","Dollar","Email","Invoice","Footer","htmlFor","placeholder","required","Home","location","useLocation","document","querySelector","scrollBehavior","scroll","focusHandling","pathname","Object","errors","map","arr","forEach","ee","useUser","UserContext","loading","state","setState","login","useCallback","credentials","setItem","catch","register","logout","isLogged","Boolean","isLoginLoading","hasLoginError","VentaContextProvider","documento","setDocumento","ventaDefaultContent","setVentaDefaultContent","handleDefaultVenta","cliente","cliente_id","almacen","almacen_id","forma_pago","forma_pago_id","moneda","moneda_id","stringify","success","useWindowSize","windowSize","setWindowSize","handleResize","innerWidth","innerHeight","Navbar","EmpresaContext","ventaContext","showImpresionSettingsButton","setShowImpresionSettingsButton","navigate","useNavigate","settPrintSize","search","Menu","fixed","inverted","color","Item","as","position","Dropdown","text","fontSize","icon","content","active","after_save","boo","disabled","Divider","name","secondary","item","Image","marginTop","marginRight","srcSet","Layout","Grid","Row","Column","email","password","setForm","handleForm","input","target","textAlign","verticalAlign","maxWidth","Form","Segment","stacked","Input","fluid","iconPosition","onChange","Button","Message","header","find","update","put","updateLogo","empresa_id","file","formData","FormData","append","updateCertificado","unlockCertificado","pass","Welcome","PATH_PUBLIC","openModalEmpresa","setOpenModalEmpresa","isLoadding","setIsLoadding","instancias","setInstancias","getLocals","a","LocalService","empresas","handleSucursal","selected","local","handleEditLocal","reload","Container","marginBottom","backgroundLocation","primary","floated","Dimmer","Loader","Group","divided","index","Content","nombre","Meta","model","Icon","Extra","Label","Description","List","locales","ModalRouter","setOpen","open","setTitle","dimmer","Modal","closeIcon","centered","onClose","scrolling","minHeight","currency","num","Number","toFixed","replace","Dashboard","db","Localbase","ventas","setVentas","nroVentas","setNroVentas","nroCobroPendiente","setNroCobroPendiente","totalVentas","setTotalVentas","totalVentasMensuales","setTotalVentasMensuales","setPorCobros","totalCobros","setTotalCobros","resolverStadisticaTotalVentasMensuales","mensuales","year","Date","getFullYear","mes","getMonth","day","getDate","days","Array","v","i","setDate","toLocaleDateString","slice","el","tipo_operacion_id","indexOf","fecha_emision","substr","push","resolverStadisticaTotalVentas","detalles","hasOwnProperty","total","total_documento_fin","iso","simbolo","resolverStadisticaTotalCobros","nroCobrosPendientes","pago_status","collection","items","k","resp","correlativo","padding","Statistic","widths","Value","String","Card","porcobrar","CreateButton","empresaContext","local_id","reverse","join","fecha_registro","fetch","method","Authorization","blob","extension","fileDownload","sunat_documento","query","_query","qs","config","debug","page","limit","order","storage","str","set","body","transportista_id","ubigeo_destino_id","ubigeo_partida_id","doc","showDetalles","anular","delete","sendSunat","download","reporte","consultar","consultarSearch","downloadExternal","ConverterButton","handleChangeVenta","documento_relacion","concat","documento_relacion_id","serie","ubigeo_partida","ubigeo_destino","Confirm","onCancel","onConfirm","ventasService","anulacion","getValue","toISOString","FormFielController","title","control","readOnly","render","field","onBlur","Field","label","message","pointing","schema","yup","transportista","name_model","endPoint","link","params","table","clientes","proveedores","vendedor","ubigeo","tipo_documento_identy","producto","documento_relacion_search","motivos_sunat_guia_remision","vehiculo","tipo_producto","presentacion","marca","linea","categoria","subcategoria","metodo_pagos","cuentas_bancos","listado_bancos","paises","end_point","parseData","key","getOptions","searchQuery","moreRouteParams","venta","values","dropdownService","FormFielDropdownSarch","empresaContexto","setValue","autoFocus","onListenChange","isFetching","multiple","options","handleSearchChange","choose","alert","element","handleEdit","searchInput","clearable","selec","onSearchChange","parseInt","selection","noResultsMessage","productos","importadorFivip","productoService","SearchProductos","setItemSelected","inputRef","useImperativeHandle","setTimeout","_","debounce","forwardRef","Calcular","modo","limite_detraccion","por_detraccion","por_percepcion","limite_percepcion","por_igv","decimales","editionMode","this","total_afecto","total_inafecto","total_igv","total_isc","total_exonerado","total_descuento_lineal","total_descuento_global","total_documento","total_percepcion","total_detraccion","total_peso","x","Math","pow","round","precio","afecto","isc","igv","detraccion","inafecto","producto_id","is_detail","total_impuestos","val_descuento","tipo_afecto_igv","tipo_producto_id","precio_unitario","precio_venta","por_isc","monto_base_igv","costo_venta","roundOff","por_utilidad","parseFloat","costo_compra","monto_igv","check_detraccion_amount","cantidad","por_descuento","descuento_global","peso","date","moment","format","ViewFormatA4","qrCodeBase64","tableHeader","columns","textPadding","textPaddingTicker","capitalize","charAt","toUpperCase","paddingTop","paddingBottom","paddingHorizontal","flexDirection","justifyContent","source","uri","maxHeigh","nombre_comercial","direccion","telefono","celular","border","alignItems","ruc","descripcion","minWidth","tipo_documento_identy_id","numero_documento","provincia","distrito","departamento","formatFecha","borderBottom","borderLeft","borderTop","borderRight","last","codigo","writtenNumber","lang","toLowerCase","detalle","direccion_partida","direccion_destino","vehiculo_id","placa","vv","uniqueserie","numero_expediente","orden_compra","codigo_unidad_ejecutora","numero_proceso_seleccion","numero_contrato","bottom","left","right","pageNumber","totalPages","maxHeight","abbr","monto_precio_unitario","Precio","utilidad","destroy","FormularioPago","pagos","setChangeFather","total_operacion","useForm","defaultValues","fecha_pago","total_comision","formState","watcher","watch","totalPago","setTotalPago","total_pago","reduce","accumulator","curr","validate","aproved","addPay","listado_banco_id","banco_nombre","deletePay","splice","settingDropdowns","Table","compact","unstackable","HeaderCell","Body","Cell","banco","numero_cuenta","metodo","numero_operacion","circular","Popup","trigger","on","FormHeaderVentas","ModalHeader","openModal","setOpenModal","setEditionMode","changeSerie","Actions","Checkbox","toggle","checked","FormularioMovil","handleSubmit","reset","formatPrint","setFormatPrint","itemSelected","setType","isOpenItem","setIsOpenItem","SearchProductosRef","setIsloadding","precioSelected","setPrecioSelected","setQrCodeBase64","setOpenConfimationListPrice","setIsBackendError","addItemStatus","setAddItemStatus","modoDescuento","setModoDescuento","isOpenProduct","setIsOpenProduct","isOpenPagos","setIsOpenPagos","dropdownItem","createRef","descuento","productoChoose","setProductoChoose","calcular","valid","handleKeyPressTab","addItem","click","openSearchProducto","precios","lista","watchDetalles","totales","handleChangeVentaItemList","newItem","handleProductoChoose","newModel","close","resetFormAfterSave","onSubmit","promise","ventaSevice","pending","from","handleBackendErrors","qrCodeCanvas","toDataURL","noValidate","class","handleOpenModal","SearchProducto","Ref","innerRef","labelPosition","combineModel","descuentoPorcentaje","onKeyDown","marginLeft","descuentoEfectivo","basic","deleteItem","CriptoJs","AES","encrypt","serie_id","toString","vertical","striped","FormularioVenta","isBackendError","openConfimation","setOpenConfirmation","activeItem","setActiveItem","activeItemOptions","setActiveItemOptions","openConfimationListPrice","setData","handleCreateNewPrice","lastProduct","precio_compra","_precio","precioVenta","precioService","handleClick","titleProps","activeIndex","documento_relacion_search_id","resolver","yupResolver","subscription","unsubscribe","setToken","tk","overflowY","fileName","sunat_codigo","animated","hidden","visible","definition","fullWidth","collapsing","slider","align","is_nulled","is_free","Accordion","Title","grouped","list","event","exclusive","TextArea","handleDeleteDocumentRelation","updated","b","diff","LabelUpdate","pinned","empty","InputSearch","setSearchInput","handleChange","Ventas","setSelected","pdfBlob","isLoading","setIsLoading","activeFilterPendientePorPagar","setActiveFilterPendientePorPagar","viewPrintFormat","ventaService","ventaModificada","change","handleSelectDocument","sendToSunat","ventaChange","send_status","newVentas","ventaWithResponse","HandleVentas","handleFiltrarPendiente","result","sort","relaxed","celled","backgroundColor","sunat_code","stopPropagation","updated_at","inline","paddingRight","paddingLeft","floating","button","sunat_notes","labeled","FormFielFileController","service","isContextEmpresa","fileInputRef","fileChange","files","certificado","min","max","ubigeo_id","por_retencion","agente","country_id","FormularioEmpresa","isCheckValidation","setCheckValidation","empresaSevice","handleUnlockCertificado","certificado_clave","certificado_validate","rows","roup","FormularioLocal","localSevice","contactos","_contacto","getDni","getRuc","FormularioCliente","isSearchSunat","setIsSearchSunat","isUbigeoSearch","setIsUbigeoSearch","clienteSevice","getDataSunat","ane_alias","razonSocial","ubi_id","setting","dolar","FormularioMoneda","monedaService","vehiculoService","FormularioProducto","productoServicio","LayoutFullScreen","Stadicticas","estadisticas","setEstadisticas","mensaje","Contactos","setContactos","qm","clienteService","handleSetContacto","contacto","getVentas","handleNewContact","handleEditContact","resolverStadistica","resolverStadisticaPorCobrar","selectable","await","tipo_documento","doubling","itemsPerRow","stackable","photo","extra","ribbon","Filter","setQuery","child","opened","setOpened","Importador","importar","productosService","Productos","actualData","setActualData","openModalImportadorFivip","setOpenModalImportadorFivip","isConfirm","setIsConfirm","getVentaDetalles","handleDeleteFilter","q","handleNewProducto","handleEditProducto","handleNewPrecio","presentacion_id","handleEditPrecio","confimAccepted","productoSelected","precio_id","selectedMutation","selectedPrecioMutation","codigo_barras","p","colSpan","FormularioPrecio","costoVenta","itemKeys","send","path","FormularioEmail","handleSendMail","MailService","setFiles","f","enviable","Reports","description","FormularioReportVenta","_desde","_hasta","_anulado","_ventas","_cotizacion","_guia_remision","_nota_credito","param","getReport","FormularioCompra","setListDetalles","Compras","current_page","setPdfBlob","getBlob","pdf","toBlob","bl","File","lastModified","now","Pagination","onPageChange","activePage","defaultActivePage","last_page","TestMobil","stroke","FormularioBanco","bancoService","Utilidades","monedas","setMonedas","getMonedas","SignIn","SignUp","password_confirmation","SearchFormComprobante","searcher","Comprobante","setSearch","setVenta","useMemo","URLSearchParams","useQuery","monto","replaceAll","bytes","CryptoJS","decrypt","desifrado","enc","Utf8","sunat_status","Profile","NoMatch","LoginOut","Routers","fullwidth","App","AOS","init","once","disable","duration","easing","autoClose","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","draggable","pauseOnHover","ReactDOM","StrictMode","getElementById","swUrl","navigator","serviceWorker","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","registerValidSW"],"mappings":"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","file":"static/js/main.9d81a7c1.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/features-bg.69c5091d.png\";","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA+gAAABYCAMAAABRXy0+AAAC/VBMVEVHcEz///////9mZmb///////////////////////8zMzMAcPQHCw5ra2tIu3j+/v8KDRGUlJT8/Pzx8fG3t7eZmZmVOivj4+NycnIGdPWPNysYDA6BKCF1dXV7e3v8+vloaGjh4eHR0dHGxsb7Z0qBMiv29vZ/uPq5ubmGvPqDg4M5OTnX19fOzs6LMijU1NSzs7Pz8/Pt7e2IOC6fn5+tra2Hh4cSDQ+NSjpEFhWVPy82NjawsLCGKyM7kvf5+fmTNCbY2NiAgIBubm5NHBn7YUX8bFC8vLyaRzb2+/+aQzFyKSRCQUK/v78xDRG+2/2UQzWZPi1nKySGMSiPPTB5JCDCwsLF6tWoqKiMjIyfTDp0Ih/7Wz+1tbXn5+d9KSPb29s8ExOx1Pybm5trIR7v7++Pj48dCQ4pCg6YSz1xHRuenp6fRzTf398NERYjCg4ZFBf5VDuhVEK6kYXp6ent9v9CHh6haFaNLiOkpKRNTU13d3cRevWmXk3IyMg9PT2vgXOyiH3l8f5lIx4gERH9dFdZIBx2MSbr6+uhoaFbWlsaf/Y6CxEmGxxiHBtrMiyeUD+HQTZHR0diYmLS5/6izPxMvXssExSkcmZ2s/rM4/2Swvv9f2U0IyR/IR2JiYlJmvhUHBkrifeweWlODRPBmpG55cx9PTZvR0CaamJZOTRPnfjRr6hprPmax/teJh80GRp9PCije26NZFhTU1O5hXVXofiYUkZXJyarc1+aXERMKCfdGhzMFBjd7P7KnI7ElYV4Nyv6Qi5qPjmKVkeVXVHJycnHx8fhx8Jepvn8TjSs0fx8WlHsFxlKSkpGChF9TkHvJyOqg330NizXu7SraVjucVv1RTfd3d3OpJr25eP90cnDinjyYEizIR/RSjnfMShcw4fLoJb+vK/p2NXCoJu52f3PXka7RDTO7duamppBlvfLy8s/LSyXFxpgxYr/7OjgjXn8qJr7kYLj0M7FxcXZd2Flxo6dnZ39nYioTDphERWeLif9oItxBhFFmBtRAAAACnRSTlMAvf//K5QG89WPJLo67wAAGPRJREFUeAHs00cBwzAQALDLZfpl/mxbCun0kDgo7tjKdSZw23mVLfpw7DVfBNT96OL5ksAblh6m7wm8ZY/mbTXfAtQtWlfyTUCJ1l35JuCK1p35JuCM1uXbANGhGaIDogOitw9EB0QHRAdEf6oP9uwCRG4lDOA4DA6BzbMB5rnkoe9c53k1JMhEamd1STlC2Kwh54ZtL4vUXc/dD6m7e4vW8EWLWye1ZZEKnuX7xdCg/2Tk+YB7JD43HW6IH3EHnodQjgEAQv/yYkuDZ8kyY0xhKTOPEDZ58UuUOwCA0H98VEVTTFEUjDHFWFJX/01wHmFPf0S5AQAIPTRgYVwsmZhSrM7oM90zI7HOYVVabRgVAyEEQA6A0C/GmSWzigpmEinm2P4h2rbt7IvFdIlMX0SBBwCE/qgq7DFMLYthaZ/NiYL9VrkzMixJLgo2ACD0f49o9VWyhjHF2BjxM+ehiyK/8we/lS/SZ3p/RwEGAIT+uAFjSigPHeclljm26Pct+Hef/3T2zXSde4wCCwAI/fG9KmwYxCSE/P3dd51+2Fn85mPdKdOC0gMLQOj/3qMYU59CSV6ezrsWsvHyv52RDGM6qKN3ACD0IyQvgRWSIK/9pwoZmdDFHbq6ddlOBEAgQehuHib/YfLdd4k8whilZkwQuazQbUFw5nVV7TqGAAggCP2lxWSOWSmTyeGGsHdi3nEcW8gOXRTaZ06liovNiwiAwIHQQ7OeV1VVVV/veRbvvcqr6D7T05dMpp1yIcMWy9d2dhnffbd6OoQACBoI/a6i8Mw1jmLNJEZFfGd8fLynr2+fyGUm6e1ty5at3r962eoBBEDAQOg/TiuKQjHGGi0upkQ6O+m23B4bu9rTk0zuszNb6c6ObRvU1cXFxVLqRwRAsEDojyxLNouJXGWx1HTYO+e+OHbMbRkbv9nTcybt2GJSEAWufKRTl4qLTcZYxQACgfPLHw9RbolC6J/hy4awV1XlhbmGeLyhofkY597moZ+52uek9yXTSafc4a0vWr1aMoy/DY59+dG31r5i7zyA2sjSBFz1v4pPo+lVA0YOqAQuyTaIbJFBtkQVJtqLMQOmECIIp/H6ygZsHIhTBOMc1hjnCYfDOudxnW+d8LrsCbeRy5lNXD4up79fP4mGRoLz1ZS5gm9ChxdaEz79/wuSysvDYAoMl5d3wVsQhw+wgRdXeXkx+KW8PAu+YZqaBuBtMTc1RcNbENzU5ISJsQ00NZnBQxwhVmCEFltL8l3w7hk6zhhqg7dByNBkCADHjh8/Niv6FPgBjs1zvj1n1Yc5OR8eWpuzp3XbttbWllu9t998/eZiw5n9N86cwRQeTc9Mr6gpW7OmDFnzY5iEEUrplzAF9JQufCsxminNBy8OShPAL5TmwTcMIVp4W4IJSYC3IIaQQJgQi4EQEgweigmxsAfpCKMUi94xGRrO7ozj8L9mJTZcCbBIo1kyK/rkCHdxcD5nWdQ81P3DnKio7S2t21pbWlpuXbr95mLhjfmJ8+djQEfX3ztRk9uZuya3Jje3rKwXJsFAkchvUHSwU2oAD+5USsNgAhrz8rrfuehZev3iqYuubPP2opsbCaIQ/VdEK+IhVIt3jdLftM5pIzpy3ldYP7V794QiC9k9mp7sWdGVfPCnf/NLn6KvmhdVUbG6aNWCigULTKbD23tv/fCHP9zWcuvWpa+vJ5/4aP5HiYmJ30n8zm9868YTk8kUX3RYmo6LF8Av5giKhH+Tor+ktNkMHCulO2EiNlFa/c5FLyckZsqiK9u8vehhuwhxaBWiC3pSiwcz3q8dFIXQUkLs4rsX/eTr169PXZWM3+0jAV+i0SyCiU0fyoZZ0RX85vvvv//P4IO/2LB1K26VWfthSlF8/IpDz56/uHzm8ps3l3q3P7/ZUXnio4/mz0fTcYj+rRumigX4poDgKts/gl/KKT2aSvNs36Do4hFKs4BjpDRoVnQF6LPOHaIQPZSQxXgYJuQc89uGNULfvehVwKjq0WgyJhddzazoSs/9if49KWXHZXTcL7P20IoNz5O+brh8a1vL7edJh28WZqLozHRpia2gbM3q1QsOdByowaH6X4JftJTmO7iI8oxRF4A7Ky16VH1btDVwMxed1xDDluZziy1p5RYbeHFL80dxMIZaSkNApgsz91DgdI2UDAQAY3mTnVJ7U9OgV3SXNSsUVIihxSODysdF51vMwLFYXNKrXegGidjI4kFBURAQhlXVouPtaDdXzNJNyCaLxakuYrgj8y02pejqNpsHshYOghezayQ/LG6c6LEWi8U8Krp+GEApeqB8btXrB4CBqX3xtBEd6ndrNMeB01Z1yjNB1zf0SqN5NTR0jFerunbqNS+CoaGVY0SvX3ntVFXbDBWde/5dn6n7H8xZNgctR3JWfBh/+fmL55mPcF2t/ybS2c5MR9elkN6A+9w7Ow8e7D+I/BD8geI122Io1YNMEKWBdXspcicMZEoiKGKwcdGxRkxYHldXrGWFRwI9KhjYdYSB+8stxjtm3hmle0Em+g6VOBrMp+gYdi56SR5FeDdeRKuWIPrFItfKTiTO1Xn0NQCrER4LceGKEkJCIMtBkKW2saLzHoKYzzois1RdhMSdI8iu6FHRVW0GDETCMAwMWxp7pvFXbqXosdjvJvBijYWxotfiix1DybQSHU5pND3c7Y81EveYsuc1Mq+YyffmapC59+pBAs8Uomcv2s3bzUjRuecfgC9+In2f84pVK9auXVGUs+rRm95LmWf2npm/JTMp6WZn4YUbXHQM6Q8OJ93fkJS04X4S0gv+aJTcio2gEQFe0dOY5+hmMJ+sk9k1Knrjl1QWvY5X9cy2Be+kSKqkrw0UoNLlwDhKaQl/MlZjNC9Wi17MCwkoiUsgHJ0ASJaRyDiGPaIXE0Yt2sSwC1z0EcJvuJWi52s9PYQqpVUVIYN6wtCO+BQ9jWkt/RUJiMDKpG7ssaOim8Px5YugYKzoNi2pBiWifRql7oiIyXsbM57JjOzuGyf6Y6wik5GtEl24okGkth/XzzzRJ/dc2LNhA9vgjtk7Hg7fbm25fTlv/41nt+8+TGK5O2bu81lEby9aNW9HOn4tRXr6atN98AeaOgIQQqnVK3pz81LL8u4IHuWzULfwYWfxUdrsFT0iNXzxcKQ8bN/7MrYrJo8voGnxOqbLbUXfu0HBUkodIOGkNDVOjudSv5HugRDsrg7A7dRRWut0BjDRU5uPFocOYxEbUiilClnYFVesl5XZjAo1umItQWiTR1/tpkFnILql1y4Ojt6EFV7KBUZHyMK64MVY0q0QPdRIjDFOWyj2EC4AxMZZCbHGxZnVRSCgbrsW1oUGah1K0ZVtBgmeuUQX5vIOqckAthiOFaPP4W2v6LZSQmpF8C16NCEjoCAAX4EOpo/oTOkhPPShrYuOZffdQ2MFgPq2kzhj19ZWL9f4+Fpb/bUeVFsl+nHMCF7XZw9lYPWZJvrkniNbpW9wX4YrbHNwNX3H1tbW1h/evvj1wz/4/raHSU+uJ2+Z/9GNG/sT5+On0dsXLFhwFllTtrG9ox/8MIjRU2Q2H/WKTiO54BECgHiHz5HZUGIuumw1MozNRCZMBP3SBhCbsPfLLp6g64Hj8TuAJxAOb2gPAiYQTweUk3GUCIDoxy4HWNDzOEAWEiI1OcdnwYSlRA6ChOfEgXjSxEe3JXIBbzmI+jpHRUfpwkAC3cxXTqypixaitW7+KnxMxg3r9OxE5Nri0wcAcdt1iz2iizocT9jAj+hWQtzAEYOCErTouW1aiX5VozmlvPeKXSsm4+qvftzTxrP8KyrRr/IxftvH55fMPNEn9xy+vUxmzryoecsOfbatpQVd//5vb7v7yfakzuuZDcmZDQ0NJxIT35tftho/z5KeXpHb3vHg8kHwg07evWLDaO30iK4FxhF2KxIH4KI3BC9U1mD5tgsY5yi1gAQKinRhK1BCKE3jCUSgp7cjNrku5g5x40WPBIkmNH5sQOcBvqS62gyDaK8oBz2UIUD22QmIEz0WAAlDSbjo5cCoJiTNK/pmuRiJxTOltOqiUtl3ROdLdA6fPePP4nDRBSlBMIM/0cOJHTyIRCJQhGklOup7FaCPS4xe8zMuOkMA5jIGb5Xo9xTVZoTov/zTP/1gyp4jW9euyMGfa8CB+qpVRS8u3Xq45yHujWvBn17DzL3wYH9nZeL69esxdW8oWlVUlFIUFR9/+HBS0mHww5fcKQOl/+IRvZaHXFaURmkpyOz0iq7ztPbqHMMFZthcOozgoAS7kcwK9qyoK/t14IPGi272JAI7xy5EKR0Z4eFads8lZ+jMCTdGfI+upVz0Om9iHOQVfYQJyTCwFlxadZHy4S8nEd0dZpDfV7LwKSXBY0Tv5uN136IH8H8qPjy3S9N5+shpJfoiZuo1jeYayPRoPlaK7iH72Ek0XCX6Kby6emwGif6nXO0peg4P9+zZg9vcD+Fm9z17kipPZNZ8/gnTvLOmo6Ow//CTE4mVyesS31uXG5WOLDi7cWNZRdlGE/iExWsBkGJK73hEXwoMLfMPlW0EGeIVndcwo5ERMqncfjE/4WgeRcaJjtN9qW42Vrd7V9xKQKaUUus40SOA0TVGdBshelBg5TGWz0t79VWLzt8BeLAP99a04n2tDK/BpVUX4cMdIOPyLXpceZAB6yPlTFOChAQVx3pEl6zNB7+iD/Ahgxd3iRFvTSfRX7HcW5KYg/Nq2WNFF6quZshT62rRs9lcfc+Va/UzR3SUe8qew9ZlcxD8mKqUvt+//OjR5c+3S9E890BmZfL1J086TjR0VM5/770LODrfiJKvaT9Qg8d+8E24R1UUlVomEt1OaQzIhIwXPZQqYAZHH5ElN44XnU/3Yeb+0rvxdjHI/AulQVMRvY7r6wEz4+FR19L8i+6xNADN89asJkq6FNKqirqwy8k2zAiNqCQSEi6LDrYSNBsxWkUmOsPh9Ct6NzHa1Lt4DNNJdLzoYxm4gsdjRO/rkSX/tVp0JPsqfw84mT0jRP/gu5LfH0zVc/jJDiQ9fQfj80u9vbd6k3ABveNCMtLRfv36wcLkgvmJDTW5pnhTZ6fJ1G+qwE+rbgef2PKoglK16MprODpedFsq/XLYyyAq0IwZQkKWywYq0fMpJbDZO+BXZgo4vk+biuiikXvMSeNDdjmij/gXnXB7QpmlvCb2kLbciyKiq4sUD4/2JXoJKl2a5XKj0kx0RAyzlkohvoSLbq0lxG7zJ/oucg7GYTMS4p4+oj/GCF7PIvqilV7GRPTHKHLP1dfHskEtOiO76uSvpTzg6gwQnZuOgk/Rc7ibjpvcKypwRh1PXly69OLF8/52ZnlmZibq/nXv18nr1z06bIrHMXy8yYSSm5BW8EkWihcus4s5qBa93JtsC3lK0fmoPVUEBSWU7hIAEVWii3k0tetXngkA1m/46KbYsKmIDgZC4mCUJkIaQQb1GZxE9FBvZlztrfmSK6qWVl1kkEM+ku9LdD3RbubvElx0hrtRfp9B0TdBACq91I/oTk9nYlhYmAAyenz500d0DOXn8XCca81Rio6j8HsCIKJadC9tV1nGPxNEF2XTp+i58L2i1VHzioqk30EvOtz/7NmjyuSO65mVlZUoenJy5fo3n/V/tX5LTRTucMePp5bV1GD2joe/9Lt7Xefp/QjTWCW6Ba1z83cFleh670Jb6KAo5+MDctBTiQ4JlJbcoXQ5yLgobY6Vm2LdWFn0IP+iB3k+py2W2u1mKYV2mD1JvdE8ieiNPH1gDvKaofIaOSK4YpVjgAmKdJ6Hg10tehp/FTwY6/gYPVj+pxX1qLFnHX05hucR36LnEzLotdsFHvm14rQR/Rpa+1heRv+Y/xtaWT9W9HvyQjvWmXCMfmylHNYx7vfNCNFBYKZzzyflL1Lm4Sp6SsoyZMMPf3jp4oOGB9czk9F01Lxg/bqGwk/3bSmQFJdG6DUHkI1lG2v+EXwREEHpIIxOiRnUorOEfZeIx7o7atGjUcQuQJx5NCKazbAxGQSjWvRISvMovaN8k7FL/ZqNPMxbKdX7Fx3lc7j4tFa47NMmqQtbLcuN/YuutXCPHAGjNXXMPcTKV9OK+VFdZPE8fDFRiK5sYyZkF/NxOWGi2xyEMNNjtTju5qKzgzbYp+g64hC9b2v2ANY8nP9TTAPRhWPnNR6dz3sC9Em+vHYNj54b11ht9Rhd9puZXj9XM3cmRHQe06fsOQgpUaj4vKh0KXnvf5BcmVlY2JGJjkus37Jl36df7Su4wBSvKcvNralpL8TpuE4BfGH17Dvn0jabVaIzQenRxuJffZm6UyU62NHe7uHIaizaKwf95k3RzuK9VC06YB1FSwiOoJRYI0uwbl4sIBaKpldH+hEdlqIj1rARnVHeD1OnRQOKXVkogt48iejGEGNJ5Eg1KpimqOk0oqTDoS834f0w3oDoYlwTFdViG+wiiBiUoivb2KUW7s0xWmxaLr/cXYGbB8uxgQ68ogvYkcHmQ3TRgVVlnBjSHd1ZWY0OPDrfvegZV65c+XiuBnnF9BSksfr5133HX+GtKjl+o+mLUOLXuCt2Sd/jKmylFh2wfs+Svr4lH2NzmBGi85jOPZ+c3qh0Nkhfc/bsgtwHjzI7CjFzx1iOoOfrP/30q08vlJVVmDpz8QvjiuLxs+ur1/j74gkM1pvGiFiuEh1ZmkoZOrta9IAQyrnjVH40xZqnFl1HEaciEOZRmZ3RnhiPhPsT3RxEOCUgEYYuMAyDMInoWouRMHQ2Zc1IPeEEKrauN05U1GUnjBCXUnRlm0H+CDufjDOHE47BPCo6G6ZX+xDdpVh+W+4gHH30NPriiZ4q4LzereHwofcVDXJVse/92u4JRK9Hw5GZtdcdTf8b/lUTkyL8QPogOmKKSt9R9OL5k4OFF5IxlDPWrSv49NNPL2RuxHn51fFF86KiolYvQM7+GHzhRK+Cx4ioVYuODOxF1Zu7QS06EnMHC2mezi2bqIuQrkpgAtE3j/+MSleIpPqR8FiPxrXYeK8f0ZFiuySTPQxk3EF6Sb1uM0wqOkQbsOquxcqavAek1qOSrUTLPVYXdUvXpc44hehj2ywPZw3c+bLoYE7TM0/LzaAQHVxG1FktOq9TBxxsHkKQEKsZponoPedPKle/2+4x1X89BAwh+yQG+Qx+glH9FKhFR+oXSc0w6PvwfPbLIdfilz3npBTNm4MZfGehFM8lz9cxpMy9MjP57B8tWJOLlmN+X4ED9BqTCP93zJEuG/jCZhl2iqNVLcUWG0wV53AXKBCDQydtaxscNIOCruVumATuteCjqtsSrOxR7KoTfRRBnSsAFKjbxFkscWMLXC43TJ1zZBcoMYduNsN0pm2ob1RXQRAeP86WTiC7r6ovG3whPF65sg18MCs6/Bnuf52Ho/R5uJD+71/t21fALJ+PSKLjCD35wG/9yR/tyMWvm6ioyWzPLSx88pcwCxf9/wFmI+mGWWZ/wCHJtBpTchOm5vMq/v2rAm45sm7L+oJ9BQWVG3/n6dM/+eNfzEmv6HxwEBfRN/wPe/cAY0cQBnA8mTjFphdXp8nFKt81KGdrxs3WdienoG6nZlCebft2s6/m4fFsBrXdb3qxG8/1+8XmfzEMJOrA0EPkYj/034eueR271i5adPXbt72rZ/348epX6k55etTfziF0mGbruPfsmYfz9sGhvY6pMDifSxSCoQeEhWkE4d1r2uG9Q4Of/P72rs5OyzJrOy7e2CFDl53DupmkeOic32vkTLD2wc7OocMaQQqFjjD0YU/8saDddHlMy6o1UycU3jhw6sCBFSD85MmtQwY3DBm6znUhYmNbiYS2bx9HkCowdNAbK0S7abpk565XO2YWFhZC5Js2XdyUdObuHG4wajzj3KCGDqX3EoTUg6GDr5S6au91WZbH40kdPTMahMNHe+rlM0VTOymQL3XGGNXFT4KQmjD0wFhee6/Rslz8XtfOCTeia2oWJJ1es/SMo7p6EOrWKTMAhE5jA4maEMLQtTeNtYZpmpzzjgX3719Zs2bN0rvXHNWHfYPtVAeMGZxB6voboiaEMHTQojeatS5q8FeZWQ/hmhaHowIyT2nzy84pMyiXoceq3DlCGLoW6Ie/dJ01viopvpkVI/lSyso+UQqdQ+g6f8aM94FEWQhh6EDT3tcagjZ2pMhbk1OqqiDzCKefDYfOZOjviNIQwtCB1hor9MausoiI4xFlVWVtbU7n2+EXOmVUcNFKFIcQhg40SL3R05aWlubNLXM6nbYtX+iyc0ZjezWiPoQwdCnwHf9k22n9x9ts2+55C50DSkVvIBkhEMLQQUCrt9l2Rtg9Pc1vdSaErouvrQEEoZEEQ5e29T3x5uY2x4rY9+96WzSCkGIw9H+gaX/ap68CC4EgAGDDAFu+1r/b03CPDomH5CVAdEB0QHRA9NsA0QHRAdGBuLuawEY17q4lsFGLu+sJbNTj7paRwCZjidtbE9hkjfsrUwIbTCUeoKwjgR+NtcQzLL3VBP6ttr7Ehf4AP3uCHzYXz3oAAAAASUVORK5CYII=\"","export default __webpack_public_path__ + \"static/media/hero-image.cf7f7105.png\";","export default \"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/2wDEAAgICAgJCAkKCgkNDgwODRMREBARExwUFhQWFBwrGx8bGx8bKyYuJSMlLiZENS8vNUROQj5CTl9VVV93cXecnNERABAAEAAQABAAEQAQABIAFAAUABIAGQAbABgAGwAZACUAIgAfAB8AIgAlADgAKAArACgAKwAoADgAVQA1AD4ANQA1AD4ANQBVAEsAWwBKAEUASgBbAEsAhwBqAF4AXgBqAIcAnACDAHwAgwCcAL0AqQCpAL0A7gDiAO4BNwE3AaL/wgARCADAAMADASIAAhEBAxEB/8QAHAAAAQUBAQEAAAAAAAAAAAAABgECAwQFBwAI/9oACAEBAAAAAOjOVzvOVVd73vJ5PIiIkSq5XK5Y6cl6qyxKiIiJ6JVVXu8C8pwWdPHKpsf7iI3yc76B5XOVwZwnLub84xRm6n1DYansDmR9AQ6avEuAU7nS9y5Dy4OvfQZTMiRcu5e3oXYbGP8APWRFf6HuzZuMC5XV+vWmp6h83z3+l2+MZlZbhS4pHXWuXF30VOxIg7k++IEQ9lwtmk3t/e9jE3Lav1HIxG+4BdG7xBzBr5iroY3nkbd6rxf6mtMRqfO9HbkEstHylReDeMCMYKOL/TOmxEb82Wq9LFRUl0j8M0TvOG+k8R+iCQTgLPcS0x5gI+NJrZDm7mrtz6PDeoFPEbfS+jic4uJhNZvpLu7pxEJTcFuM6p+B2Tjrgzk8lzIqiedYtbG/raVDm+Fp3CW7t9M5QFzjMUTPeWzNNYfVx1l2zvp8tr59w51yoIPJ6xLNcI8MbSV5r3pWBQzf5K1Kat9PPZIyXCBYLdcw+hmVR2yAc9gqrdz/AE16UgJY+b512oe95Zh5N7hWQz3iwR9Lpzb+9JzbLddIPoVA+le5yPX/AFTGr+k1L+ro2ALLXbIjfTxUMLI4HYt/nkS2NDU07kwqPsLqZBLGUmDAnnVKpUV26SXWrr5IVHvTpvUSnJAq7o4asEVwuJa8GjRwJCODOqbOvzds7Kq1Ks5Pp3pnOw26raVjTq//xAAYAQEBAQEBAAAAAAAAAAAAAAAAAQIDBP/aAAoCAhADEAAAAFAAAAAM6LkoiS2oXz+w6+ffKgwq0OPqzu57eXWQwa1kx2590munDrwDFrUM75d2pbz7edm2VCzO+fox0Tr5rm4tg1AzvHWa7eWaLILAzvn359fT4rJUAsMdeffG/R4zOtYslmtZs4+jHWXpxucdY7efOzWdc+PqxtdYgl//xAAsEAACAgICAgIBAwMFAQAAAAACAwEEAAUGERIhEBMxFCAiIzNBBxUlMDJh/9oACAEBAAEIAMj93Xx1nWdZ1nWdRnWdf9HWdfsiP2HYSuOyLaIH3lfaa+xPSz9D5YbYj3MXVYD1H+M6/wCuI+IjDIVjJFv+UhSEoC/yzY2DKYZsbjf/AGq01ZwY6Lm/jrrSbl/m+ystmVI5bsxLt2o5QixECdHaKYIwUTEx3H7J/E5v+VN1VwQjrI6n8fEZEZ6GO55VyOvqkeOX7z7bjc0u8ra63Y68K/F7LOvN/ErID2q1r7VWZhneJeazgh4xvZt9Vn0bJxHiX7NtsbVOR+rkWy1myVMHtOTUqg9Rq+U0G1fNlTZIt/2esjIjOU8jDUVZhVy0625j2nPqZzXJFzRgqFZYrjFBEfgOv82qFa0uRPfcZZVknV8pWDQ8DHTXAvVa1kUzMD4z8tUJx75joiZ/XQZud15thgrHx4jGwqdMelq2hEj1m429fW1Tazb7ezsnERnEDEYX9uM1pwtwllLaUhAYlVtRx5CJx33lvklKnJDE8kuWv4q21b63ycDnArxfadSUxMT1nWT83zqQqfvrrI/REQIcBMdsbm2JdZPE62yqKmLe/wCZ67Vdqza7m9uLROf/ABX7lpyU9yf4jKNYXnAGrjVVodqmLWrH6j1zCs1DmbaKaXGw6fLUV58A2b6XINe36h7iZieJ2Po2tU8V/cnJ+XH4KIsHUW9kbHW9gX/NGlex4+39NDTpvbRs/au1yvY20/StFFt1pwprJ7kQj17kp7w8XJdQI1a0iES0JNqCQzQqJSSVO30U2hiRqaLaoZErDRAxgPZybVM12yLNU2V3EEKYiVwXxPwUQUdTEQMREfcsOXExvLdwVm2KUwr75SkJ1jTvBQTvYp6miesqddzkzkx11n56zTUUMIfsXrqP1x47K1XW79OpG/VUb9YTy+koAixY3TaxDYVrtui2MSPKNeraatoRr5mLK5ygfnSrFk/t2z13tq56E1GPsgsqbEU2m06u/Su1cuN2dxlmww2dzkZ36mMCfcZq7XgeWLzQpES7NYyLKelgyiTqVaNfoTUdM0/UusoKu1YlUNKYmJkfCzYiNIfnqqJZOT8T8CgVO8ZUwwbLkiRNC0J7RYqssFWd9z1HXX5ifeBlN3RRlOys6LoNux8S/p1NNtrzum1eD1PFgP3PGS11T9ZrNdsmX9lXccqgV+WOnq3aziNkbGkpzBes2HKKVCz9DqvKadq4CFRPcfFbjrLOpbaniGkTbqNJ25rUq+1JCuQcZZSoquI6me8HoRzvI9zgT1Pv6pmIINZfABYq1GuFTPMFDsbUxg6pDZibVXUU0BMVXapCwq/QTJhfthQdy1Of6d7kVWGa1vJt7d1kT47C667ZJ7NFtYoXPvLScwtbGx9UD3IxOH41ONeE6MtdT1SRzaUtVbaUVtztUqUeupv+si/plPv4j/5M9dYk+ojNfchR+7SAfH2JqVnSXUVtYc9SdOkKxwlwPudvsQrVrLcBnTfIlMaloNVtOaBsdWqCVIxEm1hoNPiri+yoa1KhNTQasTDdMBephOcir0UapT5v7ixcAF5LmGPgLi8fWTMzPz33MYBYJzHvKmxJRRitgiZgsDaJiPVbcgI9ZsuTq8JUrc7U7kwocrsgwiJAIVJPze0PurItUNfxsz0BvjiFWTFtO4pQqCAHmW5qESlVm3jtGNrYVjXeNScsHJNmZ+3sJCIApLx/YM4BZE4DCjBewfxJWXY1cjBd/CmSsxKNfYWuyEHxW3Ca+w1j9UgR1tccXTUp5NGZza6x6bxhjqxg2FEuW02AxW0OhZ8XC2sdcFNIRLwM/wBoZ3gziUkyYxNDpWPRMCcyUdFMfED2ryhRz6zXviT1n1pGAQsYmcMuhmc29ULW4UvNdx0Ll20Rbvj9Sgj7h/Tsc2wQQtrylh2yWMileT8rzrEjHlHdMRjrF9eEd264ww4yyHg84+EwZV39BPU5xdZP29EM/wARkzlxn11mlhF571s5oIGBttznGz+0grIvDUCVgoljC5mMj1lWt5fqGH8KwR7jFf8ArKZfiMUMyETltMGr1sx6sl8UzgYcJT6LODx5bDyyZ9fHIbH0aqyeVj8thsTzTn4a5h5uHE/ZWmrNhnPZ+U9dYIFPcxMT13jYTU4mrr4V+cXHrFD/ADxHqImK7PIYjHn4BObWfOwZxEYHUTOXFrgFQvhTyDdJCPxHxy8pmmlEUj/htG4Q2I0wqrs47cWZFFfWP2eyGqi/o/8AaYlj61EiCa+P0GwSy1KLbCY85nqc6xce8RgL9xOLjoYyueWij6pnLq5nvPHADyMRynVhxGqzQXS07wIa3KrXRixXJkFKhLa30X9hrYClH/E2TmiAxUTEtWBLOM4zrVIZbdPJ7K73KfpOraACddZseV1q9ROu0zyImGZYMdzGLUXlMYsDGY7THf5iP4xiVT6nLSyJc5dRjgkJnAiZMcXVW9MS/wCpTTJluDpW3AuBqMG002SizUCZqo9aVeV5gUL7t3qtVBm9XMKdJZikrhuuW2w3roiw/AF9x33n+MUQwcd1/qI1lKKyGgMZ/t8BETBhAYl3kcDkAqB93UV5iZjYqAe5zV0jsPXM3tZ+nasFkawbbBqxQNkPOvZJtqyh5LF8idv0OnqxPI+SSoV06R2TakpNDKwQUwLokpCJ9TEQYwYFEODx6yI7jOsry31I69rYgZwXzIe2RBYCv5dxET1lvxEZ7tD91UgXxygUv/WNkLMvci+xn2VDnGWKlMloZs6GwKwBqIL6KABU3lwKmppqxz7P9zKwEITKnpBhkBR+nSBfW4wBgtiVkLRiGyXmXl3+JwEE4v4UqcQHkSx8fwBes6mciOsk5iMvWJ9zmtfa/q2p1ANKpYQ51NcprE3cLsDZKzGqcGytRabYIUJ8rNSm+BImf//EADcQAAIBAgQEBAMIAgEFAAAAAAECAAMREiExQQQQUWETICJxMkJSBSMwU2KBkbEUckBQgqHR4f/aAAgBAQAJPwD/AKC6gTScVSLaYSwvyI9yY6e5MdT7EH/gGwEtiEIEr1Pa5jsG6yqfEpIDS/VKhpLsJUWsOjrHCVfow/0Y38i3nQlfwCH4lh6KfTu0e7NnyTKMBGxSmwtyJBByjjxPlaMCPLQLje0Vkqg6EZiVAbiVQpvGDDyYW4hh6AdAPqMcs7sSSTcnkNIvNAYt01I5GxBuIcmWx6qRNtPIJSAMJy0hMfBSfrGB5OoNjhBMYnE2Incn/wBDyV0v7wgjqDNJd3+kT7Jd0PeUHpYtUYWIPI3RgXXsfMygd5kRFuBLqF0AlQkbAw+NxP5SHIf7GP2VB8KDoJm3Tm+FTqZxilul5fATkZ0guRmbylcdkLS3+RTXEJqJ+ao/ZspsLeTpKpwMTgTYCLuFtDYBY1sJy7yqaNPR3T437LEARM2JNwPczJQYeZsTPtCsv6VW4jvWQj0MUwkRgVMC4r3zvZoaSjtMq4FsSi14tqdX1KZqKit/BvPmUHy6SnZRU0MqWoKmYG8S7OMTkbDYCUyjgLiPTFuYFBwB6tQnMnyoGlFFEcC3xt0EYMt4RZtgCTAavBuAQ+69jDAPGpjHTPcTZxN6Sf15sgbWhuS0X0/5DA9cNPK0p3rVazVAo30CJ2Aj4qjMWc9z5vjOSxzjOp6whBfUmGky/qIMNNktmohKqfUF5bVmH8Gb8PT/AK8zZBiIbssOYcsP+85xzhspz6+bWC+GmTBdicozIuJQewacW5NgVN7Su7PTN2UNiusTCQuEkaGa2n5z/wBw6Ugv7ryexjXLcydCVgzDR7DIPK4q0nIJTVl5anyaxWVHQr4ii4zG8rpVXafaZprYCyZaT7S4mqbWJNUyvVAYWKhzhIlNV8M5BRadJ+c3/mPYVPVSv9W4nDsyH5hGJMQm04U4b68svurTiKQJTP1iFHrFrmoTZF9zK3jOVC1+IGeQ+RANElPCo3JuT381ogBtmBAB7xwOZ0UgTcm/7xytVGDKw2ZcwZSA4i2GoO8TImU7HcxDdzYtaaEQi5sLSpSo1FTLEB6+1pRSnRG1NAt4EVAMgMr+/Uw3I185mR7TOPhEfPQmH7tTn3PLVRYn9P8A8i4hTYGqnVTvEvwz0w2Wx3BiXrOLrOGAdJoIxaqjC5GkrGtUGSq3wqB2nDB0UMVTd22BI2iKlsgqi1rSimI/NmWgzF79recxo5tDcgeTOmwKP3R8j/EAKEM9I911EHyCCzHkDYsQk1lQq6sIDT4lz6wPgJ6yot3uVA1sPm9jtNNL/gjyDRuWTPUwPNlHMaITCSyVCLnYQ3IW0KkUrsxJlgmLO1h/Ahuqanq34AlrTQzryHpWxJ9zy+Fanin9hz2WfJRm9VpVverYj/SBw4ADltzKrEZWG1zrzUlKNIs1upyX8DUc2srLn3ty1AHP6ZsgEXUsYCPvGOUzMJt0gOWvKorVuPr4mA1VaWx8yjnpfnYlQSxHfSfPz1q1VWbsRCVZ1zYC5AMo2C3N75mUzc/EQNANTKWZYikGOsyrViobP68wp9tTKD8RQovhLgWAa0peFc3NMaA72G1/wBzNiTKy0mAvhZfiXqDOLpis4DU2KEgqdLz7OAamLs7MUU9xe84WoS41pEVFU9CYSESoS+LLCQJ89QwfKIozUxFxlyL2ztM+G4GjeoO49RErItViRTbUXc2Z4MSL8deoLF2jYmYkk9eYg5jyotNlsaZVgrsbbak2hqgXH3qjr1ET0gk+OLnTIYhkM4600ZXWmEupsdTOFq+NU9XjZFjc6T5nn0iVkQBdzE8WozE5nCJWCniXvU1JY3xfxBYfVeC9+ekIzFmgF/JnBMhEvTLBWN7axwaKuLeLkQWMN71FOYYgA/3KwoqGsqFcGPqfa88OouA+Goa5KjtKTpVp3VkWrlhG+U3IlzVK5voBKzkk3xtcmM61HNsTC5ziOyYs3PXtKoL/ACow094MVTHY20m2VvP1h5UMdSwc5ZgQuqUmBVFyzho1KTmyYQEtvBUKMRYhLkYchcbkzhWqYFHrqWxes3uoMdqtKrZkIa4W8fxK1A3cuFuVYaCECo4JX9omWEAN1xbiWqOzWAJsBh1jfedVANh3jHxFubHL3MK4j6j3vtAzipZgFz/kxzqcuWsSzb+baU6jE+mqb4VUAZWB1lemruBUp0/ibLO5GRIgrcZWRtU9OTNvfpOLanSRR6VBBJXUQ4Fo5KH3Y9xKSOaa51FBC2vcWUSrSejUCAKt82vfPFP/xAAfEQACAwACAwEBAAAAAAAAAAAAAQIQESAxEiFBQHH/2gAIAQIBAT8A/C5RQpRfLRXLqkQb6Y+Ge+D6H/a1fDdXBsVzEh5UH3wwVsSSb2tIfRdc2hodQjitUuDGJ00K1wZIQulS4bch1Hobw80eSptI0VSkbUJE37HTdo0k076H7lW6j//EACQRAAICAQQBBAMAAAAAAAAAAAECABEQAyAhQTASIjFRMkBh/9oACAEDAQE/AP0QjHqFGHXiT8hg1NRR8iDZ1AMr8xR/KxR7hFMR4NIC4TUHqONVeQdpOUsGxCxNVAG6lH7mr1DL3KaMVhBDNV7IrqHkeAGKTGXjAPgXmJDG4Y4OyspFw49xircOm0KsOsAEz0wwREgGNReJpg1lV7ywgFxFrJ+oBQxU/9k=\"","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 470;","require(\"dotenv\");\r\nconst Path = (type = \"any\") => {\r\n  if (type === \"any\") {\r\n    if (process.env.NODE_ENV === \"development \") {\r\n      return process.env.REACT_APP_FULLPATH_DEVELOPER;\r\n    } else {\r\n      return process.env.REACT_APP_FULLPATH_PRODUCTION;\r\n    }\r\n  }\r\n  if (type === \"public\") {\r\n    if (process.env.NODE_ENV === \"development \") {\r\n      return process.env.REACT_APP_DEVELOPER_PUBLIC;\r\n    } else {\r\n      return process.env.REACT_APP_PRODUCTION_PUBLIC;\r\n    }\r\n  }\r\n};\r\n\r\nexport default Path;\r\n","import axios from \"axios\";\r\nimport Path from \"./_path\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nconst instance = axios.create({ baseURL: Path() });\r\nconsole.log({ ENV: process.env.NODE_ENV });\r\n/**\r\n * INTERCEPTOR DE ENVIO\r\n */\r\n\r\ninstance.interceptors.request.use(\r\n  (req) => {\r\n    //console.log(req);\r\n    //toast.success(\"Default Notification !\");\r\n    return req;\r\n  },\r\n  (error) => {\r\n    //console.log(error)\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n/**\r\n * INTERCEPTOR DE RESPUESTA\r\n */\r\ninstance.interceptors.response.use(\r\n  function (response) {\r\n    return response;\r\n  },\r\n\r\n  function (error) {\r\n    if (error?.response?.status === 401) {\r\n      toast.error(\"Error de Credenciales!\");\r\n    }\r\n\r\n    if (error?.response?.status === 421) {\r\n      toast.error(\"Usuario desactivado por falta de Pago\");\r\n      window.localStorage.removeItem(\"jwt\");\r\n    }\r\n\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nexport default instance;\r\n","import instance from \"./_instance\";\r\n// Create instance called instance\r\n\r\ninstance.defaults.headers.common[\"Authorization\"] = !!localStorage.getItem(\r\n  \"jwt\"\r\n)\r\n  ? \"Bearer \" + localStorage.getItem(\"jwt\")\r\n  : null;\r\n\r\nfunction Login(form) {\r\n  return new Promise((ok, err) => {\r\n    instance.post(\"/login\", form).then(\r\n      (res) => {\r\n        instance.defaults.headers.common[\"Authorization\"] =\r\n          \"Bearer \" + res.data[0].token;\r\n        ok(res.data[0].token);\r\n      },\r\n      (bad) => {\r\n        err(new Error(bad));\r\n      }\r\n    );\r\n  });\r\n}\r\n\r\nfunction Register(form) {\r\n  return new Promise((ok, err) => {\r\n    instance.post(\"/register\", form).then(\r\n      (res) => {\r\n        instance.defaults.headers.common[\"Authorization\"] =\r\n          \"Bearer \" + res.data[0].token;\r\n        ok(res.data[0].token);\r\n      },\r\n      (bad) => {\r\n        err(new Error(bad));\r\n      }\r\n    );\r\n  });\r\n}\r\n\r\nfunction Me(token = false) {\r\n  instance.defaults.headers.common[\"Authorization\"] = \"Bearer \" + token;\r\n  return new Promise((resolve, reject) => {\r\n    instance.get(\"/me\").then((res) => {\r\n      resolve(res.data);\r\n    });\r\n  });\r\n}\r\n\r\nfunction Out() {\r\n  return new Promise((resolve, reject) => {\r\n    instance.get(\"/logout\").then((res) => {\r\n      resolve(res.data);\r\n    });\r\n  });\r\n}\r\n\r\nexport default { Login, Me, Out, Register };\r\n","import React, { useState, useEffect } from \"react\";\r\nimport auth from \"../services/auth\";\r\n\r\nconst Context = React.createContext({});\r\n\r\nexport function UserContextProvider({ children }) {\r\n  const [me, setMe] = useState({});\r\n  const [jwt, setJwt] = useState(() => window.localStorage.getItem(\"jwt\"));\r\n  useEffect(() => {\r\n    if (!!jwt) {\r\n      auth.Me(jwt).then((res) => {\r\n        setMe(res);\r\n      });\r\n    } else {\r\n      return setMe({});\r\n    }\r\n    return () => false;\r\n  }, [jwt]);\r\n\r\n  return (\r\n    <Context.Provider\r\n      value={{\r\n        me,\r\n        jwt,\r\n        setMe,\r\n        setJwt,\r\n      }}\r\n    >\r\n      {children}\r\n    </Context.Provider>\r\n  );\r\n}\r\n\r\nexport default Context;\r\n","import React, { useState } from \"react\";\r\nconst Context = React.createContext({});\r\n\r\nexport function EmpresaContextProvider({ children }) {\r\n  const [impresion, setImpresion] = useState(\r\n    JSON.parse(localStorage.getItem(\"print_setting\")) || { size: \"A4\" }\r\n  );\r\n  const [logo, setLogo] = useState(\r\n    JSON.parse(window.localStorage.getItem(\"logo\"))\r\n  );\r\n  const [empresa, setEmpresa] = useState(\r\n    JSON.parse(window.localStorage.getItem(\"empresa\"))\r\n  );\r\n\r\n  return (\r\n    <Context.Provider\r\n      value={{\r\n        empresa,\r\n        setEmpresa,\r\n        logo,\r\n        setLogo,\r\n        impresion,\r\n        setImpresion,\r\n      }}\r\n    >\r\n      {children}\r\n    </Context.Provider>\r\n  );\r\n}\r\n\r\nexport default Context;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction Header() {\r\n  const [top, setTop] = useState(true);\r\n\r\n  // detect whether user has scrolled the page down by 10px\r\n  useEffect(() => {\r\n    const scrollHandler = () => {\r\n      window.pageYOffset > 10 ? setTop(false) : setTop(true);\r\n    };\r\n    window.addEventListener(\"scroll\", scrollHandler);\r\n    return () => window.removeEventListener(\"scroll\", scrollHandler);\r\n  }, [top]);\r\n\r\n  return (\r\n    <header\r\n      className={`fixed w-full z-30 md:bg-opacity-90 transition duration-300 ease-in-out ${\r\n        !top && \"bg-white blur shadow-lg\"\r\n      }`}\r\n    >\r\n      <div className=\"max-w-6xl mx-auto px-5 sm:px-6\">\r\n        <div className=\"flex items-center justify-between h-16 md:h-20\">\r\n          {/* Site branding */}\r\n          <div className=\"flex-shrink-0 mr-4\">\r\n            {/* Logo */}\r\n            <Link to=\"/\" className=\"block\" aria-label=\"Cruip\">\r\n              <svg\r\n                className=\"w-8 h-8\"\r\n                viewBox=\"0 0 32 32\"\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n              >\r\n                <defs>\r\n                  <radialGradient\r\n                    cx=\"21.152%\"\r\n                    cy=\"86.063%\"\r\n                    fx=\"21.152%\"\r\n                    fy=\"86.063%\"\r\n                    r=\"79.941%\"\r\n                    id=\"header-logo\"\r\n                  >\r\n                    <stop stopColor=\"#4FD1C5\" offset=\"0%\" />\r\n                    <stop stopColor=\"#81E6D9\" offset=\"25.871%\" />\r\n                    <stop stopColor=\"#338CF5\" offset=\"100%\" />\r\n                  </radialGradient>\r\n                </defs>\r\n                <rect\r\n                  width=\"32\"\r\n                  height=\"32\"\r\n                  rx=\"16\"\r\n                  fill=\"url(#header-logo)\"\r\n                  fillRule=\"nonzero\"\r\n                />\r\n              </svg>\r\n            </Link>\r\n          </div>\r\n\r\n          {/* Site navigation */}\r\n          <nav className=\"flex flex-grow\">\r\n            <ul className=\"flex flex-grow justify-end flex-wrap items-center\">\r\n              <li>\r\n                <Link\r\n                  to=\"/comprobante\"\r\n                  className=\"font-medium text-gray-600 hover:text-gray-900 px-5 py-3 flex items-center transition duration-150 ease-in-out\"\r\n                >\r\n                  Comprobante\r\n                </Link>\r\n              </li>\r\n              <li>\r\n                <Link\r\n                  to=\"/registro\"\r\n                  className=\"font-medium text-gray-600 hover:text-gray-900 px-5 py-3 flex items-center transition duration-150 ease-in-out\"\r\n                >\r\n                  Registrate\r\n                </Link>\r\n              </li>\r\n              <li>\r\n                <Link\r\n                  to=\"/ingresar\"\r\n                  className=\"btn-sm text-gray-200 bg-gray-900 hover:bg-gray-800 ml-3\"\r\n                >\r\n                  <span>Ingresa</span>\r\n                  <svg\r\n                    className=\"w-3 h-3 fill-current text-gray-400 flex-shrink-0 ml-2 -mr-1\"\r\n                    viewBox=\"0 0 12 12\"\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                  >\r\n                    <path\r\n                      d=\"M11.707 5.293L7 .586 5.586 2l3 3H0v2h8.586l-3 3L7 11.414l4.707-4.707a1 1 0 000-1.414z\"\r\n                      fillRule=\"nonzero\"\r\n                    />\r\n                  </svg>\r\n                </Link>\r\n              </li>\r\n            </ul>\r\n          </nav>\r\n        </div>\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React from 'react';\r\nfunction HeroHome() {\r\n\r\n  return (\r\n    <section className=\"relative\">\r\n\r\n      {/* Illustration behind hero content */}\r\n      <div className=\"absolute left-1/2 transform -translate-x-1/2 bottom-0 pointer-events-none\" aria-hidden=\"true\">\r\n        <svg width=\"1360\" height=\"578\" viewBox=\"0 0 1360 578\" xmlns=\"http://www.w3.org/2000/svg\">\r\n          <defs>\r\n            <linearGradient x1=\"50%\" y1=\"0%\" x2=\"50%\" y2=\"100%\" id=\"illustration-01\">\r\n              <stop stopColor=\"#FFF\" offset=\"0%\" />\r\n              <stop stopColor=\"#EAEAEA\" offset=\"77.402%\" />\r\n              <stop stopColor=\"#DFDFDF\" offset=\"100%\" />\r\n            </linearGradient>\r\n          </defs>\r\n          <g fill=\"url(#illustration-01)\" fillRule=\"evenodd\">\r\n            <circle cx=\"1232\" cy=\"128\" r=\"128\" />\r\n            <circle cx=\"155\" cy=\"443\" r=\"64\" />\r\n          </g>\r\n        </svg>\r\n      </div>\r\n\r\n      <div className=\"max-w-6xl mx-auto px-4 sm:px-6\">\r\n\r\n        {/* Hero content */}\r\n        <div className=\"pt-32 pb-12 md:pt-40 md:pb-20\">\r\n\r\n          {/* Section header */}\r\n          <div className=\"text-center pb-12 md:pb-16\">\r\n            <h1 className=\"text-5xl md:text-6xl font-extrabold leading-tighter tracking-tighter mb-4\" data-aos=\"zoom-y-out\">Make your website <span className=\"bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-teal-400\">wonderful</span></h1>\r\n            <div className=\"max-w-3xl mx-auto\">\r\n              <p className=\"text-xl text-gray-600 mb-8\" data-aos=\"zoom-y-out\" data-aos-delay=\"150\">Our landing page template works on all devices, so you only have to set it up once, and get beautiful results forever.</p>\r\n              <div className=\"max-w-xs mx-auto sm:max-w-none sm:flex sm:justify-center\" data-aos=\"zoom-y-out\" data-aos-delay=\"300\">\r\n                <div>\r\n                  <a className=\"btn text-white bg-blue-600 hover:bg-blue-700 w-full mb-4 sm:w-auto sm:mb-0\" href=\"#0\">Start free trial</a>\r\n                </div>\r\n                <div>\r\n                  <a className=\"btn text-white bg-gray-900 hover:bg-gray-800 w-full sm:w-auto sm:ml-4\" href=\"#0\">Learn more</a>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Hero image */}\r\n          <div>\r\n            <div className=\"relative flex justify-center mb-8\" data-aos=\"zoom-y-out\" data-aos-delay=\"450\">\r\n              <div className=\"flex flex-col justify-center\">\r\n                <img className=\"mx-auto\" src={require('../images/hero-image.png').default} width=\"768\" height=\"432\" alt=\"Hero\" />\r\n                <svg className=\"absolute inset-0 max-w-full mx-auto md:max-w-none h-auto\" width=\"768\" height=\"432\" viewBox=\"0 0 768 432\" xmlns=\"http://www.w3.org/2000/svg\" xmlnsXlink=\"http://www.w3.org/1999/xlink\">\r\n                  <defs>\r\n                    <linearGradient x1=\"50%\" y1=\"0%\" x2=\"50%\" y2=\"100%\" id=\"hero-ill-a\">\r\n                      <stop stopColor=\"#FFF\" offset=\"0%\" />\r\n                      <stop stopColor=\"#EAEAEA\" offset=\"77.402%\" />\r\n                      <stop stopColor=\"#DFDFDF\" offset=\"100%\" />\r\n                    </linearGradient>\r\n                    <linearGradient x1=\"50%\" y1=\"0%\" x2=\"50%\" y2=\"99.24%\" id=\"hero-ill-b\">\r\n                      <stop stopColor=\"#FFF\" offset=\"0%\" />\r\n                      <stop stopColor=\"#EAEAEA\" offset=\"48.57%\" />\r\n                      <stop stopColor=\"#DFDFDF\" stopOpacity=\"0\" offset=\"100%\" />\r\n                    </linearGradient>\r\n                    <radialGradient cx=\"21.152%\" cy=\"86.063%\" fx=\"21.152%\" fy=\"86.063%\" r=\"79.941%\" id=\"hero-ill-e\">\r\n                      <stop stopColor=\"#4FD1C5\" offset=\"0%\" />\r\n                      <stop stopColor=\"#81E6D9\" offset=\"25.871%\" />\r\n                      <stop stopColor=\"#338CF5\" offset=\"100%\" />\r\n                    </radialGradient>\r\n                    <circle id=\"hero-ill-d\" cx=\"384\" cy=\"216\" r=\"64\" />\r\n                  </defs>\r\n                  <g fill=\"none\" fillRule=\"evenodd\">\r\n                    <circle fillOpacity=\".04\" fill=\"url(#hero-ill-a)\" cx=\"384\" cy=\"216\" r=\"128\" />\r\n                    <circle fillOpacity=\".16\" fill=\"url(#hero-ill-b)\" cx=\"384\" cy=\"216\" r=\"96\" />\r\n                    <g fillRule=\"nonzero\">\r\n                      <use fill=\"#000\" xlinkHref=\"#hero-ill-d\" />\r\n                      <use fill=\"url(#hero-ill-e)\" xlinkHref=\"#hero-ill-d\" />\r\n                    </g>\r\n                  </g>\r\n                </svg>\r\n              </div>\r\n\r\n            </div>\r\n\r\n\r\n          </div>\r\n\r\n        </div>\r\n\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default HeroHome;","import React, { useRef, useEffect, useContext } from 'react';\r\nimport { CSSTransition as ReactCSSTransition } from 'react-transition-group';\r\n\r\nconst TransitionContext = React.createContext({\r\n  parent: {},\r\n})\r\n\r\nfunction useIsInitialRender() {\r\n  const isInitialRender = useRef(true);\r\n  useEffect(() => {\r\n    isInitialRender.current = false;\r\n  }, [])\r\n  return isInitialRender.current;\r\n}\r\n\r\nfunction CSSTransition({\r\n  show,\r\n  enter = '',\r\n  enterStart = '',\r\n  enterEnd = '',\r\n  leave = '',\r\n  leaveStart = '',\r\n  leaveEnd = '',\r\n  appear,\r\n  unmountOnExit,\r\n  tag = 'div',\r\n  children,\r\n  ...rest\r\n}) {\r\n  const enterClasses = enter.split(' ').filter((s) => s.length);\r\n  const enterStartClasses = enterStart.split(' ').filter((s) => s.length);\r\n  const enterEndClasses = enterEnd.split(' ').filter((s) => s.length);\r\n  const leaveClasses = leave.split(' ').filter((s) => s.length);\r\n  const leaveStartClasses = leaveStart.split(' ').filter((s) => s.length);\r\n  const leaveEndClasses = leaveEnd.split(' ').filter((s) => s.length);\r\n  const removeFromDom = unmountOnExit;\r\n\r\n  function addClasses(node, classes) {\r\n    classes.length && node.classList.add(...classes);\r\n  }\r\n\r\n  function removeClasses(node, classes) {\r\n    classes.length && node.classList.remove(...classes);\r\n  }\r\n\r\n  const nodeRef = React.useRef(null);\r\n  const Component = tag;\r\n\r\n  return (\r\n    <ReactCSSTransition\r\n      appear={appear}\r\n      nodeRef={nodeRef}\r\n      unmountOnExit={removeFromDom}\r\n      in={show}\r\n      addEndListener={(done) => {\r\n        nodeRef.current.addEventListener('transitionend', done, false)\r\n      }}\r\n      onEnter={() => {\r\n        if (!removeFromDom) nodeRef.current.style.display = null;\r\n        addClasses(nodeRef.current, [...enterClasses, ...enterStartClasses])\r\n      }}\r\n      onEntering={() => {\r\n        removeClasses(nodeRef.current, enterStartClasses)\r\n        addClasses(nodeRef.current, enterEndClasses)\r\n      }}\r\n      onEntered={() => {\r\n        removeClasses(nodeRef.current, [...enterEndClasses, ...enterClasses])\r\n      }}\r\n      onExit={() => {\r\n        addClasses(nodeRef.current, [...leaveClasses, ...leaveStartClasses])\r\n      }}\r\n      onExiting={() => {\r\n        removeClasses(nodeRef.current, leaveStartClasses)\r\n        addClasses(nodeRef.current, leaveEndClasses)\r\n      }}\r\n      onExited={() => {\r\n        removeClasses(nodeRef.current, [...leaveEndClasses, ...leaveClasses])\r\n        if (!removeFromDom) nodeRef.current.style.display = 'none';\r\n      }}\r\n    >\r\n      <Component ref={nodeRef} {...rest} style={{ display: !removeFromDom ? 'none': null }}>{children}</Component>\r\n    </ReactCSSTransition>\r\n  )\r\n}\r\n\r\nfunction Transition({ show, appear, ...rest }) {\r\n  const { parent } = useContext(TransitionContext);\r\n  const isInitialRender = useIsInitialRender();\r\n  const isChild = show === undefined;\r\n\r\n  if (isChild) {\r\n    return (\r\n      <CSSTransition\r\n        appear={parent.appear || !parent.isInitialRender}\r\n        show={parent.show}\r\n        {...rest}\r\n      />\r\n    )\r\n  }\r\n\r\n  return (\r\n    <TransitionContext.Provider\r\n      value={{\r\n        parent: {\r\n          show,\r\n          isInitialRender,\r\n          appear,\r\n        },\r\n      }}\r\n    >\r\n      <CSSTransition appear={appear} show={show} {...rest} />\r\n    </TransitionContext.Provider>\r\n  )\r\n}\r\n\r\nexport default Transition;","import React, { useState, useRef, useEffect } from \"react\";\r\nimport Transition from \"../libs/Transition\";\r\n\r\nfunction Features() {\r\n  const [tab, setTab] = useState(1);\r\n\r\n  const tabs = useRef(null);\r\n\r\n  const heightFix = () => {\r\n    if (tabs.current.children[tab]) {\r\n      tabs.current.style.height =\r\n        tabs.current.children[tab - 1].offsetHeight + \"px\";\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    heightFix();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [tab]);\r\n\r\n  return (\r\n    <section className=\"relative\">\r\n      {/* Section background (needs .relative class on parent and next sibling elements) */}\r\n      <div\r\n        className=\"absolute inset-0 bg-gray-100 pointer-events-none mb-16\"\r\n        aria-hidden=\"true\"\r\n      ></div>\r\n      <div className=\"absolute left-0 right-0 m-auto w-px p-px h-20 bg-gray-200 transform -translate-y-1/2\"></div>\r\n\r\n      <div className=\"relative max-w-6xl mx-auto px-4 sm:px-6\">\r\n        <div className=\"pt-12 md:pt-20\">\r\n          {/* Section header */}\r\n          <div className=\"max-w-3xl mx-auto text-center pb-12 md:pb-16\">\r\n            <h1 className=\"h2 mb-4\">Realiza Ventas</h1>\r\n            <p className=\"text-xl text-gray-600\">\r\n              Duis aute irure dolor in reprehenderit in voluptate velit esse\r\n              cillum dolore eu fugiat nulla pariatur excepteur sint occaecat\r\n              cupidatat.\r\n            </p>\r\n          </div>\r\n\r\n          {/* Section content */}\r\n          <div className=\"md:grid md:grid-cols-12 md:gap-6\">\r\n            {/* Content */}\r\n            <div\r\n              className=\"max-w-xl md:max-w-none md:w-full mx-auto md:col-span-7 lg:col-span-6 md:mt-6\"\r\n              data-aos=\"fade-right\"\r\n            >\r\n              <div className=\"md:pr-4 lg:pr-12 xl:pr-16 mb-8\">\r\n                <h3 className=\"h3 mb-3\">Controla tus ventas </h3>\r\n                <p className=\"text-xl text-gray-600\">\r\n                  Duis aute irure dolor in reprehenderit in voluptate velit esse\r\n                  cillum dolore pariatur. Excepteur sint occaecat cupidatat non\r\n                  proident, sunt in culpa.\r\n                </p>\r\n              </div>\r\n              {/* Tabs buttons */}\r\n              <div className=\"mb-8 md:mb-0\">\r\n                <a\r\n                  className={`flex items-center text-lg p-5 rounded border transition duration-300 ease-in-out mb-3 ${\r\n                    tab !== 1\r\n                      ? \"bg-white shadow-md border-gray-200 hover:shadow-lg\"\r\n                      : \"bg-gray-200 border-transparent\"\r\n                  }`}\r\n                  href=\"#0\"\r\n                  onClick={(e) => {\r\n                    e.preventDefault();\r\n                    setTab(1);\r\n                  }}\r\n                >\r\n                  <div>\r\n                    <div className=\"font-bold leading-snug tracking-tight mb-1\">\r\n                      Building the Simple ecosystem\r\n                    </div>\r\n                    <div className=\"text-gray-600\">\r\n                      Take collaboration to the next level with security and\r\n                      administrative features built for teams.\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"flex justify-center items-center w-8 h-8 bg-white rounded-full shadow flex-shrink-0 ml-3\">\r\n                    <svg\r\n                      className=\"w-3 h-3 fill-current\"\r\n                      viewBox=\"0 0 12 12\"\r\n                      xmlns=\"http://www.w3.org/2000/svg\"\r\n                    >\r\n                      <path d=\"M11.953 4.29a.5.5 0 00-.454-.292H6.14L6.984.62A.5.5 0 006.12.173l-6 7a.5.5 0 00.379.825h5.359l-.844 3.38a.5.5 0 00.864.445l6-7a.5.5 0 00.075-.534z\" />\r\n                    </svg>\r\n                  </div>\r\n                </a>\r\n                <a\r\n                  className={`flex items-center text-lg p-5 rounded border transition duration-300 ease-in-out mb-3 ${\r\n                    tab !== 2\r\n                      ? \"bg-white shadow-md border-gray-200 hover:shadow-lg\"\r\n                      : \"bg-gray-200 border-transparent\"\r\n                  }`}\r\n                  href=\"#0\"\r\n                  onClick={(e) => {\r\n                    e.preventDefault();\r\n                    setTab(2);\r\n                  }}\r\n                >\r\n                  <div>\r\n                    <div className=\"font-bold leading-snug tracking-tight mb-1\">\r\n                      Building the Simple ecosystem\r\n                    </div>\r\n                    <div className=\"text-gray-600\">\r\n                      Take collaboration to the next level with security and\r\n                      administrative features built for teams.\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"flex justify-center items-center w-8 h-8 bg-white rounded-full shadow flex-shrink-0 ml-3\">\r\n                    <svg\r\n                      className=\"w-3 h-3 fill-current\"\r\n                      viewBox=\"0 0 12 12\"\r\n                      xmlns=\"http://www.w3.org/2000/svg\"\r\n                    >\r\n                      <path\r\n                        d=\"M11.854.146a.5.5 0 00-.525-.116l-11 4a.5.5 0 00-.015.934l4.8 1.921 1.921 4.8A.5.5 0 007.5 12h.008a.5.5 0 00.462-.329l4-11a.5.5 0 00-.116-.525z\"\r\n                        fillRule=\"nonzero\"\r\n                      />\r\n                    </svg>\r\n                  </div>\r\n                </a>\r\n                <a\r\n                  className={`flex items-center text-lg p-5 rounded border transition duration-300 ease-in-out mb-3 ${\r\n                    tab !== 3\r\n                      ? \"bg-white shadow-md border-gray-200 hover:shadow-lg\"\r\n                      : \"bg-gray-200 border-transparent\"\r\n                  }`}\r\n                  href=\"#0\"\r\n                  onClick={(e) => {\r\n                    e.preventDefault();\r\n                    setTab(3);\r\n                  }}\r\n                >\r\n                  <div>\r\n                    <div className=\"font-bold leading-snug tracking-tight mb-1\">\r\n                      Building the Simple ecosystem\r\n                    </div>\r\n                    <div className=\"text-gray-600\">\r\n                      Take collaboration to the next level with security and\r\n                      administrative features built for teams.\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"flex justify-center items-center w-8 h-8 bg-white rounded-full shadow flex-shrink-0 ml-3\">\r\n                    <svg\r\n                      className=\"w-3 h-3 fill-current\"\r\n                      viewBox=\"0 0 12 12\"\r\n                      xmlns=\"http://www.w3.org/2000/svg\"\r\n                    >\r\n                      <path\r\n                        d=\"M11.334 8.06a.5.5 0 00-.421-.237 6.023 6.023 0 01-5.905-6c0-.41.042-.82.125-1.221a.5.5 0 00-.614-.586 6 6 0 106.832 8.529.5.5 0 00-.017-.485z\"\r\n                        fill=\"#191919\"\r\n                        fillRule=\"nonzero\"\r\n                      />\r\n                    </svg>\r\n                  </div>\r\n                </a>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Tabs items */}\r\n            <div\r\n              className=\"max-w-xl md:max-w-none md:w-full mx-auto md:col-span-5 lg:col-span-6 mb-8 md:mb-0 md:order-1\"\r\n              data-aos=\"zoom-y-out\"\r\n              ref={tabs}\r\n            >\r\n              <div className=\"relative flex flex-col text-center lg:text-right\">\r\n                {/* Item 1 */}\r\n                <Transition\r\n                  show={tab === 1}\r\n                  appear={true}\r\n                  className=\"w-full\"\r\n                  enter=\"transition ease-in-out duration-700 transform order-first\"\r\n                  enterStart=\"opacity-0 translate-y-16\"\r\n                  enterEnd=\"opacity-100 translate-y-0\"\r\n                  leave=\"transition ease-in-out duration-300 transform absolute\"\r\n                  leaveStart=\"opacity-100 translate-y-0\"\r\n                  leaveEnd=\"opacity-0 -translate-y-16\"\r\n                >\r\n                  <div className=\"relative inline-flex flex-col\">\r\n                    <img\r\n                      className=\"md:max-w-none mx-auto rounded\"\r\n                      src={require(\"../images/features-bg.png\").default}\r\n                      width=\"500\"\r\n                      height=\"462\"\r\n                      alt=\"Features bg\"\r\n                    />\r\n                    <img\r\n                      className=\"md:max-w-none absolute w-full left-0 transform animate-float\"\r\n                      src={require(\"../images/features-element.png\").default}\r\n                      width=\"500\"\r\n                      height=\"44\"\r\n                      alt=\"Element\"\r\n                      style={{ top: \"30%\" }}\r\n                    />\r\n                  </div>\r\n                </Transition>\r\n                {/* Item 2 */}\r\n                <Transition\r\n                  show={tab === 2}\r\n                  appear={true}\r\n                  className=\"w-full\"\r\n                  enter=\"transition ease-in-out duration-700 transform order-first\"\r\n                  enterStart=\"opacity-0 translate-y-16\"\r\n                  enterEnd=\"opacity-100 translate-y-0\"\r\n                  leave=\"transition ease-in-out duration-300 transform absolute\"\r\n                  leaveStart=\"opacity-100 translate-y-0\"\r\n                  leaveEnd=\"opacity-0 -translate-y-16\"\r\n                >\r\n                  <div className=\"relative inline-flex flex-col\">\r\n                    <img\r\n                      className=\"md:max-w-none mx-auto rounded\"\r\n                      src={require(\"../images/features-bg.png\").default}\r\n                      width=\"500\"\r\n                      height=\"462\"\r\n                      alt=\"Features bg\"\r\n                    />\r\n                    <img\r\n                      className=\"md:max-w-none absolute w-full left-0 transform animate-float\"\r\n                      src={require(\"../images/features-element.png\").default}\r\n                      width=\"500\"\r\n                      height=\"44\"\r\n                      alt=\"Element\"\r\n                      style={{ top: \"30%\" }}\r\n                    />\r\n                  </div>\r\n                </Transition>\r\n                {/* Item 3 */}\r\n                <Transition\r\n                  show={tab === 3}\r\n                  appear={true}\r\n                  className=\"w-full\"\r\n                  enter=\"transition ease-in-out duration-700 transform order-first\"\r\n                  enterStart=\"opacity-0 translate-y-16\"\r\n                  enterEnd=\"opacity-100 translate-y-0\"\r\n                  leave=\"transition ease-in-out duration-300 transform absolute\"\r\n                  leaveStart=\"opacity-100 translate-y-0\"\r\n                  leaveEnd=\"opacity-0 -translate-y-16\"\r\n                >\r\n                  <div className=\"relative inline-flex flex-col\">\r\n                    <img\r\n                      className=\"md:max-w-none mx-auto rounded\"\r\n                      src={require(\"../images/features-bg.png\").default}\r\n                      width=\"500\"\r\n                      height=\"462\"\r\n                      alt=\"Features bg\"\r\n                    />\r\n                    <img\r\n                      className=\"md:max-w-none absolute w-full left-0 transform animate-float\"\r\n                      src={require(\"../images/features-element.png\").default}\r\n                      width=\"500\"\r\n                      height=\"44\"\r\n                      alt=\"Element\"\r\n                      style={{ top: \"30%\" }}\r\n                    />\r\n                  </div>\r\n                </Transition>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Features;\r\n","export default __webpack_public_path__ + \"static/media/24_hours.20646d38.png\";","export default __webpack_public_path__ + \"static/media/box_1.a79147b3.png\";","export default __webpack_public_path__ + \"static/media/calculator.71c56ee9.png\";","export default __webpack_public_path__ + \"static/media/dollar.ba0acd4a.png\";","export default __webpack_public_path__ + \"static/media/email.be4fd4d8.png\";","export default __webpack_public_path__ + \"static/media/invoice_0.a4c75711.png\";","import React from \"react\";\r\n\r\nimport Soporte from \"../assets/24_hours.png\";\r\nimport Producto from \"../assets/box_1.png\";\r\nimport Calculadora from \"../assets/calculator.png\";\r\nimport Dollar from \"../assets/dollar.png\";\r\nimport Email from \"../assets/email.png\";\r\nimport Invoice from \"../assets/invoice_0.png\";\r\nimport Invoice_2 from \"../assets/invoice_1.png\";\r\nimport Invoice_3 from \"../assets/invoice_2.png\";\r\nimport Online_shop from \"../assets/online_shop.png\";\r\nimport Rating from \"../assets/rating.png\";\r\n\r\nconst _imgfeat = {\r\n  width: \"40px\",\r\n};\r\n\r\nfunction FeaturesBlocks() {\r\n  return (\r\n    <section className=\"relative\">\r\n      {/* Section background (needs .relative class on parent and next sibling elements) */}\r\n      <div\r\n        className=\"absolute inset-0 top-1/2 md:mt-24 lg:mt-0 bg-gray-900 pointer-events-none\"\r\n        aria-hidden=\"true\"\r\n      ></div>\r\n      <div className=\"absolute left-0 right-0 bottom-0 m-auto w-px p-px h-20 bg-gray-200 transform translate-y-1/2\"></div>\r\n\r\n      <div className=\"relative max-w-6xl mx-auto px-4 sm:px-6\">\r\n        <div className=\"py-12 md:py-20\">\r\n          {/* Section header */}\r\n          <div className=\"max-w-3xl mx-auto text-center pb-12 md:pb-20\">\r\n            <h2 className=\"h2 mb-4\">Asi de simple Funciona</h2>\r\n            <p className=\"text-xl text-gray-500\">\r\n              Conoce algunas de las caracteristicas principales con las que\r\n              cuenta nuestro sistema\r\n            </p>\r\n          </div>\r\n\r\n          {/* Items */}\r\n          <div className=\"max-w-sm mx-auto grid gap-6 md:grid-cols-2 lg:grid-cols-3 items-start md:max-w-2xl lg:max-w-none\">\r\n            {/* 1st item */}\r\n            <div className=\"relative flex flex-col items-center p-6 bg-white rounded shadow-xl\">\r\n              <img style={_imgfeat} src={Soporte} alt=\"soporte\" />\r\n              <h4 className=\"text-xl font-bold leading-snug tracking-tight mb-1\">\r\n                Soporte las 24 horas\r\n              </h4>\r\n              <p className=\"text-gray-600 text-center\">\r\n                Lorem ipsum dolor sit amet consectetur adipisicing elit.\r\n              </p>\r\n            </div>\r\n\r\n            {/* 2nd item */}\r\n            <div className=\"relative flex flex-col items-center p-6 bg-white rounded shadow-xl\">\r\n              <img style={_imgfeat} src={Producto} alt=\"producto\" />\r\n              <h4 className=\"text-xl font-bold leading-snug tracking-tight mb-1\">\r\n                Productos\r\n              </h4>\r\n              <p className=\"text-gray-600 text-center\">\r\n                Gestiona tus productos ó servicios sus precios, categorias,\r\n                subcategorias\r\n              </p>\r\n            </div>\r\n\r\n            {/* 3rd item */}\r\n            <div className=\"relative flex flex-col items-center p-6 bg-white rounded shadow-xl\">\r\n              <img style={_imgfeat} src={Calculadora} alt=\"Calculadora\" />\r\n\r\n              <h4 className=\"text-xl font-bold leading-snug tracking-tight mb-1\">\r\n                Reportes\r\n              </h4>\r\n              <p className=\"text-gray-600 text-center\">\r\n                Genera Reportes de tus documentos de venta, en formato excel\r\n              </p>\r\n            </div>\r\n\r\n            {/* 4th item */}\r\n            <div className=\"relative flex flex-col items-center p-6 bg-white rounded shadow-xl\">\r\n              <img style={_imgfeat} src={Dollar} alt=\"Dollar\" />\r\n\r\n              <h4 className=\"text-xl font-bold leading-snug tracking-tight mb-1\">\r\n                Multiples Monedas\r\n              </h4>\r\n              <p className=\"text-gray-600 text-center\">\r\n                Realiza Documentos con tu moneda local y monedas de diferentes\r\n                Paises\r\n              </p>\r\n            </div>\r\n\r\n            {/* 5th item */}\r\n            <div className=\"relative flex flex-col items-center p-6 bg-white rounded shadow-xl\">\r\n              <img style={_imgfeat} src={Email} alt=\"Email\" />\r\n\r\n              <h4 className=\"text-xl font-bold leading-snug tracking-tight mb-1\">\r\n                Enviar Comprobantes\r\n              </h4>\r\n              <p className=\"text-gray-600 text-center\">\r\n                Cliente de correos SMTP envia directamente los comprobantes a\r\n                tus clientes.\r\n              </p>\r\n            </div>\r\n\r\n            {/* 6th item */}\r\n            <div className=\"relative flex flex-col items-center p-6 bg-white rounded shadow-xl\">\r\n              <img style={_imgfeat} src={Invoice} alt=\"INVOICERS\" />\r\n\r\n              <h4 className=\"text-xl font-bold leading-snug tracking-tight mb-1\">\r\n                Facturación Electrónica\r\n              </h4>\r\n              <p className=\"text-gray-600 text-center\">\r\n                Envia los comprobantes Electrónico a la Administración\r\n                tributaria de tu pais (🇵🇪)\r\n              </p>\r\n            </div>\r\n\r\n            {/* 7th item */}\r\n            {/* <div className=\"relative flex flex-col items-center p-6 bg-white rounded shadow-xl\">\r\n              <img style={_imgfeat} src={Invoice} alt=\"INVOICERS\" />\r\n\r\n              <h4 className=\"text-xl font-bold leading-snug tracking-tight mb-1\">\r\n                Documentos de Venta\r\n              </h4>\r\n              <p className=\"text-gray-600 text-center\">\r\n                Genera Facturas, Boletas, Notas de Ventas, Cotizaciones,\r\n                Performas , Guias de Remisión\r\n              </p>\r\n            </div> */}\r\n\r\n            {/* 8th item */}\r\n            {/* <div className=\"relative flex flex-col items-center p-6 bg-white rounded shadow-xl\">\r\n              <img style={_imgfeat} src={Invoice} alt=\"INVOICERS\" />\r\n\r\n              <h4 className=\"text-xl font-bold leading-snug tracking-tight mb-1\">\r\n                Documentos de Venta\r\n              </h4>\r\n              <p className=\"text-gray-600 text-center\">\r\n                Genera Facturas, Boletas, Notas de Ventas, Cotizaciones,\r\n                Performas , Guias de Remisión\r\n              </p>\r\n            </div> */}\r\n\r\n            {/* 9th item */}\r\n            {/* <div className=\"relative flex flex-col items-center p-6 bg-white rounded shadow-xl\">\r\n              <img style={_imgfeat} src={Invoice} alt=\"INVOICERS\" />\r\n\r\n              <h4 className=\"text-xl font-bold leading-snug tracking-tight mb-1\">\r\n                Documentos de Venta\r\n              </h4>\r\n              <p className=\"text-gray-600 text-center\">\r\n                Genera Facturas, Boletas, Notas de Ventas, Cotizaciones,\r\n                Performas , Guias de Remisión\r\n              </p>\r\n            </div> */}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default FeaturesBlocks;\r\n","export default __webpack_public_path__ + \"static/media/invoice_1.e151e0ad.png\";","export default __webpack_public_path__ + \"static/media/invoice_2.ebf37f47.png\";","export default __webpack_public_path__ + \"static/media/online_shop.bc16f25c.png\";","export default __webpack_public_path__ + \"static/media/rating.ba00874a.png\";","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer>\r\n      <div className=\"max-w-6xl mx-auto px-4 sm:px-6\">\r\n\r\n        {/* Top area: Blocks */}\r\n        <div className=\"grid sm:grid-cols-12 gap-8 py-8 md:py-12 border-t border-gray-200\">\r\n\r\n          {/* 1st block */}\r\n          <div className=\"sm:col-span-12 lg:col-span-3\">\r\n            <div className=\"mb-2\">\r\n              {/* Logo */}\r\n              <Link to=\"/\" className=\"inline-block\" aria-label=\"Cruip\">\r\n                <svg className=\"w-8 h-8\" viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                  <defs>\r\n                    <radialGradient cx=\"21.152%\" cy=\"86.063%\" fx=\"21.152%\" fy=\"86.063%\" r=\"79.941%\" id=\"footer-logo\">\r\n                      <stop stopColor=\"#4FD1C5\" offset=\"0%\" />\r\n                      <stop stopColor=\"#81E6D9\" offset=\"25.871%\" />\r\n                      <stop stopColor=\"#338CF5\" offset=\"100%\" />\r\n                    </radialGradient>\r\n                  </defs>\r\n                  <rect width=\"32\" height=\"32\" rx=\"16\" fill=\"url(#footer-logo)\" fillRule=\"nonzero\" />\r\n                </svg>\r\n              </Link>\r\n            </div>\r\n            <div className=\"text-sm text-gray-600\">\r\n              <Link to=\"#\" className=\"text-gray-600 hover:text-gray-900 hover:underline transition duration-150 ease-in-out\">Terms</Link> · <Link to=\"#\" className=\"text-gray-600 hover:text-gray-900 hover:underline transition duration-150 ease-in-out\">Privacy Policy</Link>\r\n            </div>\r\n          </div>\r\n\r\n          {/* 2nd block */}\r\n          <div className=\"sm:col-span-6 md:col-span-3 lg:col-span-2\">\r\n            <h6 className=\"text-gray-800 font-medium mb-2\">Productos</h6>\r\n            <ul className=\"text-sm\">\r\n              <li className=\"mb-2\">\r\n                <Link to=\"#\" className=\"text-gray-600 hover:text-gray-900 transition duration-150 ease-in-out\">Remesas</Link>\r\n              </li>\r\n              <li className=\"mb-2\">\r\n                <Link to=\"#\" className=\"text-gray-600 hover:text-gray-900 transition duration-150 ease-in-out\">Encomiendas</Link>\r\n              </li>\r\n              <li className=\"mb-2\">\r\n                <Link to=\"#\" className=\"text-gray-600 hover:text-gray-900 transition duration-150 ease-in-out\">Pasajes</Link>\r\n              </li>\r\n              <li className=\"mb-2\">\r\n                <Link to=\"#\" className=\"text-gray-600 hover:text-gray-900 transition duration-150 ease-in-out\">Facturación</Link>\r\n              </li>                        \r\n            </ul>\r\n          </div>\r\n\r\n          {/* 3rd block */}\r\n          <div className=\"sm:col-span-6 md:col-span-3 lg:col-span-2\">\r\n            {/* <h6 className=\"text-gray-800 font-medium mb-2\">Resources</h6>\r\n            <ul className=\"text-sm\">\r\n              <li className=\"mb-2\">\r\n                <Link to=\"#\" className=\"text-gray-600 hover:text-gray-900 transition duration-150 ease-in-out\">Documentation</Link>\r\n              </li>\r\n              <li className=\"mb-2\">\r\n                <Link to=\"#\" className=\"text-gray-600 hover:text-gray-900 transition duration-150 ease-in-out\">Tutorials & Guides</Link>\r\n              </li>\r\n              <li className=\"mb-2\">\r\n                <Link to=\"#\" className=\"text-gray-600 hover:text-gray-900 transition duration-150 ease-in-out\">Blog</Link>\r\n              </li>\r\n              <li className=\"mb-2\">\r\n                <Link to=\"#\" className=\"text-gray-600 hover:text-gray-900 transition duration-150 ease-in-out\">Support Center</Link>\r\n              </li>\r\n              <li className=\"mb-2\">\r\n                <Link to=\"#\" className=\"text-gray-600 hover:text-gray-900 transition duration-150 ease-in-out\">Partners</Link>\r\n              </li>\r\n            </ul> */}\r\n          </div>\r\n\r\n          {/* 4th block */}\r\n          <div className=\"sm:col-span-6 md:col-span-3 lg:col-span-2\">\r\n            {/* <h6 className=\"text-gray-800 font-medium mb-2\">Company</h6>\r\n            <ul className=\"text-sm\">\r\n              <li className=\"mb-2\">\r\n                <Link to=\"#\" className=\"text-gray-600 hover:text-gray-900 transition duration-150 ease-in-out\">Home</Link>\r\n              </li>\r\n              <li className=\"mb-2\">\r\n                <Link to=\"#\" className=\"text-gray-600 hover:text-gray-900 transition duration-150 ease-in-out\">About us</Link>\r\n              </li>\r\n              <li className=\"mb-2\">\r\n                <Link to=\"#\" className=\"text-gray-600 hover:text-gray-900 transition duration-150 ease-in-out\">Company values</Link>\r\n              </li>\r\n              <li className=\"mb-2\">\r\n                <Link to=\"#\" className=\"text-gray-600 hover:text-gray-900 transition duration-150 ease-in-out\">Pricing</Link>\r\n              </li>\r\n              <li className=\"mb-2\">\r\n                <Link to=\"#\" className=\"text-gray-600 hover:text-gray-900 transition duration-150 ease-in-out\">Privacy Policy</Link>\r\n              </li>\r\n            </ul> */}\r\n          </div>\r\n\r\n          {/* 5th block */}\r\n          <div className=\"sm:col-span-6 md:col-span-3 lg:col-span-3\">\r\n            <h6 className=\"text-gray-800 font-medium mb-2\">Subscribe</h6>\r\n            <p className=\"text-sm text-gray-600 mb-4\">Obten las ultimas noticias ó novedades.</p>\r\n            <form>\r\n              <div className=\"flex flex-wrap mb-4\">\r\n                <div className=\"w-full\">\r\n                  <label className=\"block text-sm sr-only\" htmlFor=\"newsletter\">Email</label>\r\n                  <div className=\"relative flex items-center max-w-xs\">\r\n                    <input id=\"newsletter\" type=\"email\" className=\"form-input w-full text-gray-800 px-3 py-2 pr-12 text-sm\" placeholder=\"Tu email\" required />\r\n                    <button type=\"submit\" className=\"absolute inset-0 left-auto\" aria-label=\"Subscribe\">\r\n                      <span className=\"absolute inset-0 right-auto w-px -ml-px my-2 bg-gray-300\" aria-hidden=\"true\"></span>\r\n                      <svg className=\"w-3 h-3 fill-current text-blue-600 mx-3 flex-shrink-0\" viewBox=\"0 0 12 12\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                        <path d=\"M11.707 5.293L7 .586 5.586 2l3 3H0v2h8.586l-3 3L7 11.414l4.707-4.707a1 1 0 000-1.414z\" fillRule=\"nonzero\" />\r\n                      </svg>\r\n                    </button>\r\n                  </div>\r\n                  {/* Success message */}\r\n                  {/* <p className=\"mt-2 text-green-600 text-sm\">Thanks for subscribing!</p> */}\r\n                </div>\r\n              </div>\r\n            </form>\r\n          </div>          \r\n\r\n        </div>\r\n\r\n        {/* Bottom area */}\r\n        <div className=\"md:flex md:items-center md:justify-between py-4 md:py-8 border-t border-gray-200\">\r\n\r\n          {/* Social links */}\r\n          <ul className=\"flex mb-4 md:order-1 md:ml-4 md:mb-0\">\r\n            <li>\r\n              <Link to=\"#\" className=\"flex justify-center items-center text-gray-600 hover:text-gray-900 bg-white hover:bg-white-100 rounded-full shadow transition duration-150 ease-in-out\" aria-label=\"Twitter\">\r\n                <svg className=\"w-8 h-8 fill-current\" viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                  <path d=\"M24 11.5c-.6.3-1.2.4-1.9.5.7-.4 1.2-1 1.4-1.8-.6.4-1.3.6-2.1.8-.6-.6-1.5-1-2.4-1-1.7 0-3.2 1.5-3.2 3.3 0 .3 0 .5.1.7-2.7-.1-5.2-1.4-6.8-3.4-.3.5-.4 1-.4 1.7 0 1.1.6 2.1 1.5 2.7-.5 0-1-.2-1.5-.4 0 1.6 1.1 2.9 2.6 3.2-.3.1-.6.1-.9.1-.2 0-.4 0-.6-.1.4 1.3 1.6 2.3 3.1 2.3-1.1.9-2.5 1.4-4.1 1.4H8c1.5.9 3.2 1.5 5 1.5 6 0 9.3-5 9.3-9.3v-.4c.7-.5 1.3-1.1 1.7-1.8z\" />\r\n                </svg>\r\n              </Link>\r\n            </li>\r\n            <li className=\"ml-4\">\r\n              <Link to=\"#\" className=\"flex justify-center items-center text-gray-600 hover:text-gray-900 bg-white hover:bg-white-100 rounded-full shadow transition duration-150 ease-in-out\" aria-label=\"Github\">\r\n                <svg className=\"w-8 h-8 fill-current\" viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                  <path d=\"M16 8.2c-4.4 0-8 3.6-8 8 0 3.5 2.3 6.5 5.5 7.6.4.1.5-.2.5-.4V22c-2.2.5-2.7-1-2.7-1-.4-.9-.9-1.2-.9-1.2-.7-.5.1-.5.1-.5.8.1 1.2.8 1.2.8.7 1.3 1.9.9 2.3.7.1-.5.3-.9.5-1.1-1.8-.2-3.6-.9-3.6-4 0-.9.3-1.6.8-2.1-.1-.2-.4-1 .1-2.1 0 0 .7-.2 2.2.8.6-.2 1.3-.3 2-.3s1.4.1 2 .3c1.5-1 2.2-.8 2.2-.8.4 1.1.2 1.9.1 2.1.5.6.8 1.3.8 2.1 0 3.1-1.9 3.7-3.7 3.9.3.4.6.9.6 1.6v2.2c0 .2.1.5.6.4 3.2-1.1 5.5-4.1 5.5-7.6-.1-4.4-3.7-8-8.1-8z\" />\r\n                </svg>\r\n              </Link>\r\n            </li>\r\n            <li className=\"ml-4\">\r\n              <Link to=\"#\" className=\"flex justify-center items-center text-gray-600 hover:text-gray-900 bg-white hover:bg-white-100 rounded-full shadow transition duration-150 ease-in-out\" aria-label=\"Facebook\">\r\n                <svg className=\"w-8 h-8 fill-current\" viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                  <path d=\"M14.023 24L14 17h-3v-3h3v-2c0-2.7 1.672-4 4.08-4 1.153 0 2.144.086 2.433.124v2.821h-1.67c-1.31 0-1.563.623-1.563 1.536V14H21l-1 3h-2.72v7h-3.257z\" />\r\n                </svg>\r\n              </Link>\r\n            </li>\r\n          </ul>\r\n\r\n          {/* Copyrights note */}\r\n          <div className=\"text-sm text-gray-600 mr-4\">Power By <a className=\"text-blue-600 hover:underline\" href=\"https://fivip.net/\">Fivip</a>. Todos los Derechos Reservados.</div>\r\n\r\n        </div>\r\n\r\n      </div>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","import React, {useEffect} from 'react';\r\nimport { useLocation } from 'react-router-dom';\r\nimport { focusHandling } from 'cruip-js-toolkit';\r\n\r\nimport Header from '../partials/Header';\r\nimport HeroHome from '../partials/HeroHome';\r\nimport FeaturesHome from '../partials/Features';\r\nimport FeaturesBlocks from '../partials/FeaturesBlocks';\r\nimport Testimonials from '../partials/Testimonials';\r\nimport Newsletter from '../partials/Newsletter';\r\nimport Footer from '../partials/Footer';\r\n\r\nimport '../css/style.scss';\r\n\r\n\r\nfunction Home() {\r\n\r\n  const location = useLocation();\r\n\r\n  useEffect(() => {\r\n    document.querySelector('html').style.scrollBehavior = 'auto'\r\n    window.scroll({ top: 0 })\r\n    document.querySelector('html').style.scrollBehavior = ''\r\n    focusHandling('outline');\r\n  }, [location.pathname]); // triggered on route change\r\n  \r\n  return (\r\n    <div className=\"flex flex-col min-h-screen overflow-hidden\">\r\n\r\n      {/*  Site header */}\r\n      <Header />\r\n\r\n      {/*  Page content */}\r\n      <main className=\"flex-grow\">\r\n\r\n        {/*  Page sections */}\r\n        <HeroHome />\r\n        <FeaturesHome />\r\n        <FeaturesBlocks />\r\n\r\n\r\n        {/* <Testimonials /> */}\r\n        {/* <Newsletter style={{marginTop:'50px'}} /> */}\r\n\r\n      </main>\r\n\r\n      {/*  Site footer */}\r\n      <Footer />\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;","const bad = (create) => {\r\n  return Object.keys(create?.errors).map((e) => {\r\n    let arr = \"\";\r\n    create?.errors[e].forEach((ee) => {\r\n      arr = arr + ee + \" \";\r\n    });\r\n    return arr;\r\n  });\r\n};\r\n\r\nexport default bad;","import { useCallback, useContext, useEffect, useState } from \"react\";\r\nimport UserContext from \"../context/UserContext\";\r\nimport auth from \"../services/auth\";\r\nimport handleBackendErrors from \"../libs/handleBackendErrors\";\r\n\r\nexport default function useUser() {\r\n  const { jwt, setMe, setJwt } = useContext(UserContext);\r\n  const [state, setState] = useState({ loading: false, error: false });\r\n\r\n  const login = useCallback(\r\n    (credentials) => {\r\n      setState({ loading: true, error: false });\r\n      auth\r\n        .Login(credentials)\r\n        .then((jwt) => {\r\n          window.localStorage.setItem(\"jwt\", jwt);\r\n          auth.Me(jwt).then((res) => {\r\n            setMe(res);\r\n          });\r\n          setState({ loading: false, error: false });\r\n          setJwt(jwt);\r\n        })\r\n        .catch((err) => {\r\n          window.localStorage.removeItem(\"jwt\");\r\n          setState({ loading: false, error: true });\r\n        });\r\n    },\r\n    [setJwt]\r\n  );\r\n\r\n  const register = useCallback(\r\n    (credentials) => {\r\n      setState({ loading: true, error: false });\r\n      auth\r\n        .Register(credentials)\r\n        .then((jwt) => {\r\n          window.localStorage.setItem(\"jwt\", jwt);\r\n          auth.Me(jwt).then((res) => {\r\n            setMe(res);\r\n          });\r\n          setState({ loading: false, error: false });\r\n          setJwt(jwt);\r\n        })\r\n        .catch((err) => {\r\n          window.localStorage.removeItem(\"jwt\");\r\n          setState({\r\n            loading: false,\r\n            error: true,\r\n          });\r\n        });\r\n    },\r\n    [setJwt]\r\n  );\r\n\r\n  const logout = useCallback(() => {\r\n    window.localStorage.removeItem(\"jwt\");\r\n    setJwt(null);\r\n    console.log(\"bye\");\r\n  }, [setJwt]);\r\n\r\n  return {\r\n    isLogged: Boolean(jwt),\r\n    isLoginLoading: state.loading,\r\n    hasLoginError: state.error,\r\n    login,\r\n    logout,\r\n    register,\r\n  };\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nconst Context = React.createContext({});\r\n\r\nexport function VentaContextProvider({ children }) {\r\n  const [documento, setDocumento] = useState({});\r\n  const [ventaDefaultContent, setVentaDefaultContent] = useState(\r\n    JSON.parse(localStorage.getItem(\"venta_default_content\"))\r\n  );\r\n\r\n  // useEffect(() => {\r\n  //   console.log({ documento });\r\n  //   return () => {\r\n  //     console.log(\"desmontado\");\r\n  //   };\r\n  // }, [documento]);\r\n\r\n  const handleDefaultVenta = () => {\r\n    const data = {};\r\n    data.cliente = documento.cliente;\r\n    data.cliente_id = documento.cliente_id;\r\n    data.almacen = documento.almacen;\r\n    data.almacen_id = documento.almacen_id;\r\n    data.forma_pago = documento.forma_pago;\r\n    data.forma_pago_id = documento.forma_pago_id;\r\n    data.moneda = documento.moneda;\r\n    data.moneda_id = documento.moneda_id;\r\n    localStorage.setItem(\"venta_default_content\", JSON.stringify(data));\r\n    setVentaDefaultContent(data);\r\n    console.log(data);\r\n    toast.success(\"Ajustes Guardados\");\r\n  };\r\n\r\n  return (\r\n    <Context.Provider\r\n      value={{\r\n        documento,\r\n        setDocumento,\r\n        ventaDefaultContent,\r\n        handleDefaultVenta,\r\n      }}\r\n    >\r\n      {children}\r\n    </Context.Provider>\r\n  );\r\n}\r\n\r\nexport default Context;\r\n","import { useEffect, useState } from \"react\";\r\n\r\nconst useWindowSize = () => {\r\n  const [windowSize, setWindowSize] = useState({\r\n    width: undefined,\r\n    height: undefined,\r\n  });\r\n\r\n  useEffect(() => {\r\n    // Handler to call on window resize\r\n    function handleResize() {\r\n      // Set window width/height to state\r\n      setWindowSize({\r\n        width: window.innerWidth,\r\n        height: window.innerHeight,\r\n      });\r\n    }\r\n    // Add event listener\r\n    window.addEventListener(\"resize\", handleResize);\r\n    // Call handler right away so state gets updated with initial window size\r\n    handleResize();\r\n    // Remove event listener on cleanup\r\n\r\n    return () => window.removeEventListener(\"resize\", handleResize);\r\n  }, [window.innerHeight]); // Empty array ensures that effect is only run on mount\r\n\r\n  return {\r\n    windowSize,\r\n  };\r\n};\r\n\r\nexport default useWindowSize;\r\n","import React, { useContext } from \"react\";\r\nimport { Link, useNavigate, Navigate, useLocation } from \"react-router-dom\";\r\nimport { Menu, Dropdown, Button, Icon, Image } from \"semantic-ui-react\";\r\n\r\nimport UserContext from \"../context/UserContext\";\r\nimport EmpresaContext from \"../context/EmpresaContext\";\r\nimport useUser from \"../hooks/useUser\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useState } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport ventaContext from \"../context/VentaContext\";\r\nimport useWindowSize from \"../hooks/useWindowSize\";\r\n\r\nconst Navbar = () => {\r\n  const location = useLocation();\r\n  const { me } = useContext(UserContext);\r\n  const { empresa, impresion, setImpresion } = useContext(EmpresaContext);\r\n  const { handleDefaultVenta } = useContext(ventaContext);\r\n  const { isLogged, logout } = useUser();\r\n  const [showImpresionSettingsButton, setShowImpresionSettingsButton] =\r\n    useState(false);\r\n\r\n  const navigate = useNavigate();\r\n\r\n  const LoginOut = () => {\r\n    logout();\r\n    navigate({ pathname: \"/ingresar\" });\r\n  };\r\n\r\n  const settPrintAfterSave = (boo) => {\r\n    localStorage.setItem(\r\n      \"print_setting\",\r\n      JSON.stringify({\r\n        ...impresion,\r\n        ...{ after_save: boo },\r\n      })\r\n    );\r\n    setImpresion({\r\n      ...impresion,\r\n      ...{ after_save: boo },\r\n    });\r\n  };\r\n\r\n  const settPrintSize = (size) => {\r\n    localStorage.setItem(\r\n      \"print_setting\",\r\n      JSON.stringify({\r\n        ...impresion,\r\n        ...{ size },\r\n      })\r\n    );\r\n    setImpresion({\r\n      ...impresion,\r\n      ...{ size },\r\n    });\r\n  };\r\n\r\n  const { windowSize: size } = useWindowSize();\r\n\r\n  useEffect(() => {\r\n    if (\r\n      !!!location.pathname.search(\"/space/ventas/\") ||\r\n      !!!location.pathname.search(\"/workspace/ventas\")\r\n    ) {\r\n      setShowImpresionSettingsButton(true);\r\n    } else {\r\n      setShowImpresionSettingsButton(false);\r\n    }\r\n  }, [location]);\r\n\r\n  return (\r\n    <>\r\n      {!isLogged && <Navigate to=\"/ingresar\" />}\r\n      {size.width > 700 && (\r\n        <Menu fixed=\"top\" inverted color=\"blue\">\r\n          <Link to=\"/workspace/app\">\r\n            <Menu.Item as=\"a\">Inicio</Menu.Item>\r\n          </Link>\r\n          <Link to=\"/welcome/empresas\">\r\n            <Menu.Item as=\"a\">Empresas</Menu.Item>\r\n          </Link>\r\n          {\r\n            !!empresa && <>\r\n              <Link to=\"/workspace/ventas\">\r\n                <Menu.Item as=\"a\">Ventas</Menu.Item>\r\n              </Link>\r\n              <Link to=\"/workspace/contactos\">\r\n                <Menu.Item as=\"a\">Contactos</Menu.Item>\r\n              </Link>\r\n              <Link to=\"/workspace/productos\">\r\n                <Menu.Item as=\"a\">Productos</Menu.Item>\r\n              </Link>\r\n              {/* <Link to=\"/workspace/app\">\r\n          <Menu.Item as=\"a\">Espacio de Trabajo</Menu.Item>\r\n        </Link> */}\r\n              <Link to=\"/workspace/util\">\r\n                <Menu.Item as=\"a\">Utilidades</Menu.Item>\r\n              </Link>\r\n              <Link to=\"/workspace/reportes\">\r\n                <Menu.Item as=\"a\">Reportes</Menu.Item>\r\n              </Link>{\" \"}\r\n            </>\r\n          }\r\n\r\n          <Menu.Menu position=\"right\">\r\n            {showImpresionSettingsButton && (\r\n              <Menu.Item>\r\n                <Dropdown\r\n                  as={\"a\"}\r\n                  text=\"Ajustes de Documento\"\r\n                  style={{ color: \"white\", fontSize: \"13px\" }}\r\n                >\r\n                  <Dropdown.Menu>\r\n                    <Dropdown.Header\r\n                      icon=\"print\"\r\n                      content=\"Configuración de Impresión\"\r\n                    />\r\n                    <Dropdown.Item\r\n                      active={impresion?.after_save}\r\n                      onClick={() => {\r\n                        settPrintAfterSave(!impresion?.after_save);\r\n                      }}\r\n                    >\r\n                      Mostrar impresion despues de generar el documento\r\n                    </Dropdown.Item>\r\n                    <Dropdown.Item\r\n                      active={impresion?.size === \"A4\"}\r\n                      onClick={() => {\r\n                        settPrintSize(\"A4\");\r\n                      }}\r\n                    >\r\n                      Impresión A4\r\n                    </Dropdown.Item>\r\n                    <Dropdown.Item\r\n                      active={impresion?.size === \"88mm\"}\r\n                      onClick={() => {\r\n                        settPrintSize(\"88mm\");\r\n                      }}\r\n                    >\r\n                      Impresión Ticket 88 mm\r\n                    </Dropdown.Item>\r\n                    <Dropdown.Item\r\n                      disabled\r\n                      active={impresion?.size === \"70mm\"}\r\n                      onClick={() => {\r\n                        settPrintSize(\"70mm\");\r\n                      }}\r\n                    >\r\n                      Impresión Ticket 80 mm\r\n                    </Dropdown.Item>\r\n                    <Dropdown.Item\r\n                      disabled\r\n                      active={impresion?.size === \"80mm\"}\r\n                      onClick={() => {\r\n                        settPrintSize(\"80mm\");\r\n                      }}\r\n                    >\r\n                      Impresión Ticket 70 mm\r\n                    </Dropdown.Item>\r\n                    <Dropdown.Divider></Dropdown.Divider>\r\n                    <Dropdown.Item\r\n                      onClick={() => {\r\n                        handleDefaultVenta();\r\n                      }}\r\n                    >\r\n                      Ajustes Predeterminados\r\n                    </Dropdown.Item>\r\n                  </Dropdown.Menu>\r\n                </Dropdown>\r\n              </Menu.Item>\r\n            )}\r\n\r\n            {!isLogged ? (\r\n              <Link to=\"/ingresar\">\r\n                <Menu.Item as=\"a\" name=\"Signup\">\r\n                  Sign Up\r\n                </Menu.Item>\r\n              </Link>\r\n            ) : (\r\n              <>\r\n                <Menu.Item as=\"a\" name=\"profile\">\r\n                  {me.name}\r\n                </Menu.Item>\r\n                <Menu.Item as=\"a\" name=\"Logout\" onClick={LoginOut}>\r\n                  Cerrar Sesión\r\n                </Menu.Item>\r\n              </>\r\n            )}\r\n          </Menu.Menu>\r\n        </Menu>\r\n      )}\r\n\r\n      {size.width < 699 && (\r\n        <Menu fixed=\"top\" secondary>\r\n          <Dropdown item icon=\"sidebar\">\r\n            <Dropdown.Menu>\r\n              <Link to=\"/workspace/app\" className=\"item\">\r\n                Dashboard\r\n              </Link>\r\n              <Link to=\"/welcome/empresas\" className=\"item\">\r\n                Empresa\r\n              </Link>\r\n              <Dropdown.Divider />\r\n              <Link to=\"/workspace/ventas\" className=\"item\">\r\n                Ventas\r\n              </Link>\r\n              <Link to=\"/workspace/contactos\" className=\"item\">\r\n                Contactos\r\n              </Link>\r\n              <Link to=\"/workspace/productos\" className=\"item\">\r\n                Productos\r\n              </Link>\r\n              <Dropdown.Divider />\r\n              <Link to=\"/workspace/util\" className=\"item\">\r\n                Utilidades\r\n              </Link>\r\n              <Link to=\"/workspace/reportes\" className=\"item\">\r\n                Reportes\r\n              </Link>\r\n              <Dropdown.Divider />\r\n              <Link to=\"/loginout\" className=\"item\">\r\n                Cerrar Sesión\r\n              </Link>\r\n            </Dropdown.Menu>\r\n          </Dropdown>\r\n\r\n          <Menu.Menu position=\"right\">\r\n            <Image\r\n              style={{ marginTop: 5, marginRight: 5 }}\r\n              srcSet={\"/logo32.png\"}\r\n              alt={\"logo fivip\"}\r\n              as=\"div\"\r\n            />\r\n          </Menu.Menu>\r\n        </Menu>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","import React, { useContext } from \"react\";\r\nimport { Grid } from \"semantic-ui-react\";\r\nimport { Outlet, Navigate } from \"react-router-dom\";\r\n\r\nimport EmpresaContext from \"../../context/EmpresaContext\";\r\n\r\nimport Navbar from \"../../components/Navbar\";\r\nimport SideNavbar from \"./_SideNavbar\";\r\n\r\nconst Layout = () => {\r\n  const { empresa } = useContext(EmpresaContext);\r\n  return (\r\n    <>\r\n      {!!!empresa ? (\r\n        <Navigate to=\"/welcome/empresas\" />\r\n      ) : (\r\n        <div>\r\n          <Navbar />\r\n          <Grid>\r\n            <Grid.Row>\r\n              {/* <Grid.Column width={1} className=\"\">\r\n                <SideNavbar fluid />\r\n              </Grid.Column> */}\r\n\r\n              <Outlet />\r\n            </Grid.Row>\r\n          </Grid>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\nexport default Layout;\r\n","import React from \"react\";\r\nimport {\r\n  Grid,\r\n} from \"semantic-ui-react\";\r\n\r\nimport Navbar from \"../../components/Navbar\";\r\nimport { Outlet } from \"react-router-dom\";\r\n\r\nconst Layout = () => {\r\n  return (\r\n    <>\r\n      <Navbar />\r\n      <Grid>\r\n        <Grid.Row style={{ height: \"80rem\" }}>\r\n          <Grid.Column width={16}>\r\n            <Outlet />\r\n          </Grid.Column>\r\n        </Grid.Row>\r\n      </Grid>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Layout;\r\n","import React from \"react\";\r\nimport { useState } from \"react\";\r\nimport { Navigate } from \"react-router-dom\";\r\nimport {\r\n  Button,\r\n  Form,\r\n  Grid,\r\n  Header,\r\n  Message,\r\n  Segment,\r\n} from \"semantic-ui-react\";\r\n\r\nimport useUser from \"../hooks/useUser\";\r\n\r\nconst Login = () => {\r\n  const [form, setForm] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n  });\r\n\r\n  const { login, isLogged, isLoginLoading, hasLoginError } = useUser();\r\n\r\n  const handleForm = (e) => {\r\n    const input = {};\r\n    input[e.target.name] = e.target.value;\r\n    setForm({ ...form, ...input });\r\n  };\r\n\r\n  const handleLogin = () => {\r\n    login(form);\r\n  };\r\n\r\n  return (\r\n    <Grid textAlign=\"center\" style={{ height: \"100vh\" }} verticalAlign=\"middle\">\r\n      <Grid.Column style={{ maxWidth: 450 }}>\r\n        <Header as=\"h2\" color=\"teal\" textAlign=\"center\">\r\n          Log-in to your account\r\n        </Header>\r\n        <Form size=\"large\" loading={isLoginLoading}>\r\n          <Segment stacked>\r\n            <Form.Input\r\n              fluid\r\n              icon=\"user\"\r\n              iconPosition=\"left\"\r\n              placeholder=\"E-mail address\"\r\n              name=\"email\"\r\n              onChange={handleForm}\r\n              value={form?.email}\r\n            />\r\n            <Form.Input\r\n              fluid\r\n              icon=\"lock\"\r\n              iconPosition=\"left\"\r\n              placeholder=\"Password\"\r\n              type=\"password\"\r\n              name=\"password\"\r\n              onChange={handleForm}\r\n              value={form?.password}\r\n            />\r\n            {isLogged && <Navigate to=\"/welcome/empresas\" />}\r\n            <Button color=\"teal\" fluid size=\"large\" onClick={handleLogin}>\r\n              Login\r\n            </Button>\r\n          </Segment>\r\n        </Form>\r\n        {hasLoginError && (\r\n          <Message\r\n            error\r\n            header=\"Error!\"\r\n            content=\"Verifique que haya escrito bien sus credenciales.\"\r\n          />\r\n        )}\r\n        <Message>\r\n          New to us? <a href=\"#!\">Registrate</a>\r\n        </Message>\r\n      </Grid.Column>\r\n    </Grid>\r\n  );\r\n};\r\nexport default Login;\r\n","import instance from \"./_instance\";\r\n// Create instance called instance\r\n\r\nfunction show() {\r\n  return new Promise((ok, reject) => {\r\n    instance.get(\"/empresa\").then(\r\n      (res) => {\r\n        ok(res.data);\r\n      },\r\n      (bad) => {\r\n        reject(new Error(\"bad request\"));\r\n      }\r\n    );\r\n  });\r\n}\r\n\r\nfunction find(id) {\r\n  return new Promise((resolve, reject) => {\r\n    instance.get(\"empresa/\" + id).then((res) => {\r\n      resolve(res.data);\r\n    });\r\n  });\r\n}\r\n\r\nfunction create(data) {\r\n  return new Promise((resolve, reject) => {\r\n    instance\r\n      .post(\"empresa/create\", data)\r\n      .then((res) => {\r\n        resolve(res.data);\r\n      })\r\n      .catch((error) => {\r\n        if (error.response) {\r\n          resolve(error.response.data);\r\n        }\r\n      });\r\n  });\r\n}\r\n\r\nfunction update(data, id) {\r\n  return new Promise((resolve, reject) => {\r\n    instance.put(\"empresa/\" + id, data).then((res) => {\r\n      resolve(res.data);\r\n    });\r\n  });\r\n}\r\n\r\nfunction updateLogo(empresa_id, file) {\r\n  const formData = new FormData();\r\n  formData.append(\"file\", file);\r\n  return new Promise((resolve, reject) => {\r\n    instance\r\n      .post(`empresa/logo/${empresa_id}`, formData, {\r\n        \"content-type\": file.type,\r\n      })\r\n      .then((res) => {\r\n        resolve(res.data);\r\n      })\r\n      .catch((error) => {\r\n        if (error.response) {\r\n          resolve(error.response.data);\r\n        }\r\n      });\r\n  });\r\n}\r\n\r\nfunction updateCertificado(empresa_id, file) {\r\n  const formData = new FormData();\r\n  formData.append(\"file\", file);\r\n  return new Promise((resolve, reject) => {\r\n    instance\r\n      .post(`empresa/certificado/${empresa_id}`, formData, {\r\n        \"content-type\": file.type,\r\n      })\r\n      .then((res) => {\r\n        resolve(res.data);\r\n      })\r\n      .catch((error) => {\r\n        if (error.response) {\r\n          resolve(error.response.data);\r\n        }\r\n      });\r\n  });\r\n}\r\n\r\nfunction unlockCertificado(empresa_id, pass) {\r\n  return new Promise((resolve, reject) => {\r\n    instance\r\n      .post(`empresa/unlock/${empresa_id}`, { pass })\r\n      .then((res) => {\r\n        resolve(res.data);\r\n      })\r\n      .catch((error) => {\r\n        if (error.response) {\r\n          resolve(error.response.data);\r\n        }\r\n      });\r\n  });\r\n}\r\n\r\nexport default {\r\n  show,\r\n  find,\r\n  create,\r\n  update,\r\n  updateLogo,\r\n  updateCertificado,\r\n  unlockCertificado,\r\n};\r\n","import instance from \"./_instance\";\r\n// Create instance called instance\r\n\r\nfunction show() {\r\n  return new Promise((ok, reject) => {\r\n    instance.get(\"/local\").then(\r\n      (res) => {\r\n        ok(res.data);\r\n      },\r\n      (bad) => {\r\n        reject(false);\r\n      }\r\n    );\r\n  });\r\n}\r\n\r\nfunction find(id) {\r\n  return new Promise((resolve, reject) => {\r\n    instance.get(\"local/\" + id).then((res) => {\r\n      resolve(res.data);\r\n    });\r\n  });\r\n}\r\n\r\nfunction create(data) {\r\n  return new Promise((resolve, reject) => {\r\n    instance\r\n      .post(\"local\", data)\r\n      .then((res) => {\r\n        resolve(res.data);\r\n      })\r\n      .catch((error) => {\r\n        if (error.response) {\r\n          resolve(error.response.data);\r\n        }\r\n      });\r\n  });\r\n}\r\n\r\nfunction update(data, id) {\r\n  return new Promise((resolve, reject) => {\r\n    instance.put(\"local/\" + id, data).then((res) => {\r\n      resolve(res.data);\r\n    });\r\n  });\r\n}\r\n\r\nexport default { show, find, create, update };\r\n","import _ from \"lodash\";\r\nimport { useState, useContext, useEffect } from \"react\";\r\nimport { useNavigate, Link, useLocation } from \"react-router-dom\";\r\n\r\nimport {\r\n  Button,\r\n  Divider,\r\n  Item,\r\n  Label,\r\n  Icon,\r\n  Dimmer,\r\n  Loader,\r\n  Card,\r\n  Image,\r\n  Grid,\r\n  Container,\r\n  List,\r\n  Segment,\r\n  Header,\r\n} from \"semantic-ui-react\";\r\nimport EmpresaContext from \"../../context/EmpresaContext\";\r\n\r\nimport placeholderimgen from \"../../assets/placeholder.png\";\r\nimport empresaSevice from \"../../services/empresa\";\r\nimport LocalService from \"../../services/local\";\r\nimport Path from \"../../services/_path\";\r\nrequire(\"dotenv\");\r\n\r\nconst Welcome = () => {\r\n  const location = useLocation();\r\n  const navigate = useNavigate();\r\n  const PATH_PUBLIC = Path(\"public\");\r\n  const { empresa, setEmpresa } = useContext(EmpresaContext);\r\n  const [openModalEmpresa, setOpenModalEmpresa] = useState(false);\r\n  const [isLoadding, setIsLoadding] = useState(false);\r\n  const [instancias, setInstancias] = useState([]);\r\n\r\n  useEffect(\r\n    () => {\r\n      getLocals();\r\n    },\r\n    { instancias }\r\n  );\r\n  const getLocals = async () => {\r\n    setIsLoadding(true);\r\n    const empresas = await LocalService.show();\r\n    setIsLoadding(false);\r\n    return setInstancias(empresas);\r\n  };\r\n  const handleSucursal = async (selected, id) => {\r\n    const local = await LocalService.find(id);\r\n    setEmpresa(local);\r\n    window.window.localStorage.setItem(\"empresa\", JSON.stringify(local));\r\n    navigate({ pathname: \"/workspace/app\" });\r\n  };\r\n\r\n  const handleEditLocal = () => {\r\n    setOpenModalEmpresa(!openModalEmpresa);\r\n  };\r\n\r\n  const sourceImage = (path) => {\r\n    try {\r\n      const img = require(path);\r\n      return img;\r\n    } catch (error) {\r\n      return placeholderimgen;\r\n    }\r\n  };\r\n\r\n  if (!!location?.state && location?.state?.reload?.empresa) {\r\n    getLocals();\r\n    location.state = null;\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      <Grid.Row style={{ marginTop: \"1rem\", marginBottom: \"1rem\" }}>\r\n        {!!instancias?.length && (\r\n          <Link\r\n            to={`/welcome/empresas/create`}\r\n            state={{ backgroundLocation: location }}\r\n          >\r\n            <Button primary floated=\"right\" style={{ marginBottom: \"1rem\" }}>\r\n              Nueva Empresa\r\n            </Button>\r\n          </Link>\r\n        )}\r\n      </Grid.Row>\r\n      <Grid.Row>\r\n        {isLoadding ? (\r\n          <Dimmer active inverted>\r\n            <Loader size=\"large\">Cargando...</Loader>\r\n          </Dimmer>\r\n        ) : instancias?.length ? (\r\n          <Item.Group divided>\r\n            {instancias.map((empresa, index) => (\r\n              <Item key={index}>\r\n                <Item.Image\r\n                  style={{ maxWidth: 100 }}\r\n                  src={`${PATH_PUBLIC}/storage/${empresa.id}/${empresa.logo}`}\r\n                />\r\n                <Item.Content>\r\n                  <Item.Header as=\"a\">{empresa.nombre}</Item.Header>\r\n                  <Item.Meta>\r\n                    <Link\r\n                      to={`/welcome/empresas/${empresa.id}`}\r\n                      state={{\r\n                        backgroundLocation: location,\r\n                        model: empresa,\r\n                      }}\r\n                    >\r\n                      <Button size=\"mini\" icon=\"pencil\"></Button>\r\n                    </Link>\r\n                    <Link\r\n                      to={`/welcome/locals/create`}\r\n                      state={{\r\n                        backgroundLocation: location,\r\n                        model: { empresa_id: empresa.id },\r\n                      }}\r\n                    >\r\n                      <Button size=\"mini\">\r\n                        <Icon name=\"plus\" />\r\n                        Local | Sucursal\r\n                      </Button>\r\n                    </Link>\r\n                  </Item.Meta>\r\n                  <Item.Extra>\r\n                    <Label color=\"green\">Activo</Label>\r\n                  </Item.Extra>\r\n                  <Item.Description>\r\n                    <List divided verticalAlign=\"middle\">\r\n                      {empresa.locales.map((local) => (\r\n                        <List.Item>\r\n                          <List.Content floated=\"right\">\r\n                            <Button\r\n                              size=\"small\"\r\n                              primary\r\n                              onClick={() => {\r\n                                handleSucursal(empresa, local.id);\r\n                              }}\r\n                            >\r\n                              Ingresar\r\n                            </Button>\r\n                          </List.Content>\r\n                          <List.Content>\r\n                            <Link\r\n                              to={`/welcome/locals/${local.id}`}\r\n                              state={{\r\n                                backgroundLocation: location,\r\n                                model: local,\r\n                              }}\r\n                            >\r\n                              <Button\r\n                                size=\"mini\"\r\n                                icon=\"pencil\"\r\n                                onClick={handleEditLocal}\r\n                              ></Button>\r\n                            </Link>\r\n                            {local.nombre}\r\n                          </List.Content>\r\n                        </List.Item>\r\n                      ))}\r\n                    </List>\r\n                  </Item.Description>\r\n                </Item.Content>\r\n              </Item>\r\n            ))}\r\n          </Item.Group>\r\n        ) : (\r\n          <Segment placeholder>\r\n            <Header icon>\r\n              <Icon name=\"plus square outline\" />\r\n              Para continuar\r\n            </Header>\r\n            <Link\r\n              to={`/welcome/empresas/create`}\r\n              state={{ backgroundLocation: location }}\r\n            >\r\n              <Button primary style={{ marginBottom: \"1rem\" }}>\r\n                Registra nueva empresa\r\n              </Button>\r\n            </Link>\r\n            {/* <Button primary></Button> */}\r\n          </Segment>\r\n        )}\r\n\r\n        {/* {isLoadding ? (\r\n        <Dimmer active inverted>\r\n          <Loader size=\"large\">Cargando...</Loader>\r\n        </Dimmer>\r\n      ) : instancias?.length ? (\r\n        instancias.map((empresa, index) => (\r\n          <Item.Group divided key={index}>\r\n            <Item key={index}>\r\n              <Item.Image\r\n                id={`logo-${empresa.id}`}\r\n                src={`${PATH_PUBLIC}/storage/${empresa.id}/${empresa.logo}`}\r\n              />\r\n              <Item.Content>\r\n                <Item.Header as=\"a\">{empresa.nombre}</Item.Header>\r\n                <Link\r\n                  to={`/welcome/locals/create`}\r\n                  state={{\r\n                    backgroundLocation: location,\r\n                    model: { empresa_id: empresa.id },\r\n                  }}\r\n                >\r\n                  <Button floated=\"right\" size=\"mini\">\r\n                    <Icon name=\"plus\" />\r\n                  </Button>\r\n                </Link>\r\n\r\n                <Link\r\n                  to={`/welcome/empresas/${empresa.id}`}\r\n                  state={{\r\n                    backgroundLocation: location,\r\n                    model: empresa,\r\n                  }}\r\n                >\r\n                  <Button floated=\"right\" size=\"mini\" icon=\"pencil\"></Button>\r\n                </Link>\r\n                <Item.Meta>\r\n                  {empresa.nombre_comercial} - Ruc {empresa.ruc}\r\n                </Item.Meta>\r\n                <Item.Extra>\r\n                  <Label>Activo</Label>\r\n                </Item.Extra>\r\n                {empresa.locales.map((local) => (\r\n                  <>\r\n                    <Divider />\r\n                    <Item.Extra key={local.id}>\r\n                      <Button\r\n                        size=\"mini\"\r\n                        primary\r\n                        floated=\"right\"\r\n                        onClick={() => {\r\n                          handleSucursal(empresa, local.id);\r\n                        }}\r\n                      >\r\n                        Ingresar\r\n                        <Icon name=\"right chevron\" />\r\n                      </Button>\r\n                      <Link\r\n                        to={`/welcome/locals/${local.id}`}\r\n                        state={{\r\n                          backgroundLocation: location,\r\n                          model: local,\r\n                        }}\r\n                      >\r\n                        <Button\r\n                          size=\"mini\"\r\n                          icon=\"pencil\"\r\n                          color=\"teal\"\r\n                          floated=\"right\"\r\n                          onClick={handleEditLocal}\r\n                        ></Button>\r\n                      </Link>\r\n                      <Item.Header as=\"h4\">{local.nombre}</Item.Header>\r\n                    </Item.Extra>\r\n                  </>\r\n                ))}\r\n              </Item.Content>\r\n            </Item>\r\n          </Item.Group>\r\n        ))\r\n      ) : (\r\n        <> settings no contenido posees empresa </>\r\n      )} */}\r\n      </Grid.Row>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Welcome;\r\n","import React from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { Modal } from \"semantic-ui-react\";\r\n\r\nfunction ModalRouter({ setOpen, open, size, dimmer, setTitle, children }) {\r\n  let navigate = useNavigate();\r\n  const close = () => {\r\n    navigate(-1);\r\n  };\r\n  return (\r\n    <Modal\r\n      closeIcon\r\n      centered={true}\r\n      dimmer=\"blurring\"\r\n      open={true}\r\n      onClose={close}\r\n      size={size}\r\n    >\r\n      <Modal.Header>{setTitle}</Modal.Header>\r\n      <Modal.Content scrolling style={{ minHeight: \"400px\" }}>\r\n        {children}\r\n      </Modal.Content>\r\n    </Modal>\r\n  );\r\n}\r\n\r\nexport default ModalRouter;\r\n","const currency = (num) => {\r\n  if (!!num) {\r\n    return Number(num)?.toFixed(2).replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1,\");\r\n  } else {\r\n    return '0';\r\n  }\r\n};\r\n\r\nexport default currency;\r\n","import { useEffect, useState } from \"react\";\r\nimport {\r\n  Container,\r\n  Grid,\r\n  Header,\r\n  Statistic,\r\n  Icon,\r\n  Card,\r\n} from \"semantic-ui-react\";\r\nimport Localbase from \"localbase\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport currency from \"../../libs/currency\";\r\nconst Dashboard = () => {\r\n  const db = new Localbase(\"db\");\r\n  const [ventas, setVentas] = useState([]);\r\n\r\n  const [nroVentas, setNroVentas] = useState(0);\r\n  const [nroCobroPendiente, setNroCobroPendiente] = useState(0);\r\n\r\n  const [totalVentas, setTotalVentas] = useState(null);\r\n  const [totalVentasMensuales, setTotalVentasMensuales] = useState(null);\r\n  const [porCobros, setPorCobros] = useState(null);\r\n  const [totalCobros, setTotalCobros] = useState(null);\r\n\r\n  const navigate = useNavigate();\r\n\r\n  const resolverStadisticaTotalVentasMensuales = async (ventas) => {\r\n    const mensuales = [];\r\n    let year = new Date().getFullYear();\r\n    let mes = new Date().getMonth();\r\n    let day = new Date().getDate();\r\n\r\n    let days = Array(day)\r\n      .fill(new Date(year, mes, 1))\r\n      .map((v, i) =>\r\n        new Date(new Date(v).setDate(v.getDate() + i))\r\n          .toLocaleDateString(\"es-CL\")\r\n          .slice(0, 10)\r\n      );\r\n\r\n    for (let i = 0; i < ventas.length; i++) {\r\n      const el = ventas[i];\r\n      if (el.tipo_operacion_id === 1) {\r\n        if (\r\n          days.indexOf(\r\n            new Date(el.fecha_emision).toLocaleDateString(\"es-CL\").substr(0, 10)\r\n          ) !== -1\r\n        ) {\r\n          console.log(\">>>>>>>______\", el.tipo_operacion_id);\r\n          mensuales.push(el);\r\n        }\r\n      }\r\n    }\r\n\r\n    await setNroVentas(mensuales.length);\r\n\r\n    let res = resolverStadisticaTotalVentas(mensuales);\r\n\r\n    await setTotalVentasMensuales(res);\r\n  };\r\n\r\n  const resolverStadisticaTotalVentas = (ventas) => {\r\n    const res = {};\r\n    res.title = \"Ventas\";\r\n    res.mensaje = \"Ultimos 25 Documento\";\r\n    res.detalles = {};\r\n\r\n    for (let i = 0; i < ventas.length; i++) {\r\n      const el = ventas[i];\r\n      if (el.tipo_operacion_id === 1) {\r\n        if (!res.detalles.hasOwnProperty(el.moneda.nombre)) {\r\n          res.detalles[el.moneda.nombre] = {\r\n            iso: el.moneda.iso,\r\n            simbolo: el.moneda.simbolo,\r\n            total: el.total_documento_fin,\r\n          };\r\n        } else {\r\n          res.detalles[el.moneda.nombre].total += el.total_documento_fin;\r\n        }\r\n      }\r\n    }\r\n    return res;\r\n  };\r\n\r\n  const resolverStadisticaTotalCobros = (ventas) => {\r\n    const res = {};\r\n    res.title = \"Cobros\";\r\n    res.mensaje = \"Ultimos 25 Documento\";\r\n    res.detalles = {};\r\n\r\n    let nroCobrosPendientes = 0;\r\n\r\n    for (let i = 0; i < ventas.length; i++) {\r\n      const el = ventas[i];\r\n      if (!res.detalles.hasOwnProperty(el.moneda.nombre)) {\r\n        res.detalles[el.moneda.nombre] = {\r\n          iso: el.moneda.iso,\r\n          simbolo: el.moneda.simbolo,\r\n          total: el.total_documento_fin - el.pago_status,\r\n        };\r\n        nroCobrosPendientes++;\r\n      } else {\r\n        res.detalles[el.moneda.nombre].total +=\r\n          el.total_documento_fin - el.pago_status;\r\n        nroCobrosPendientes++;\r\n      }\r\n    }\r\n\r\n    setNroCobroPendiente(nroCobrosPendientes);\r\n    return res;\r\n  };\r\n\r\n  const getVentas = () => {\r\n    db.collection(\"ventas\")\r\n      .get()\r\n      .then(async (ventas) => {\r\n        let items = ventas.filter((v, k) => {\r\n          let _fecha = new Date(v.fecha_emision)\r\n            .toLocaleDateString(\"es-CL\")\r\n            .substr(0, 10);\r\n\r\n          if (\r\n            _fecha === new Date().toLocaleDateString(\"es-CL\").substr(0, 10) &&\r\n            v.tipo_operacion_id === 1\r\n          ) {\r\n            return v;\r\n          }\r\n        });\r\n        await setVentas(items);\r\n\r\n        let resp = resolverStadisticaTotalVentas(items);\r\n        let ress = resolverStadisticaTotalVentasMensuales(ventas);\r\n\r\n        setTotalVentas(resp);\r\n        console.log({ items });\r\n      });\r\n  };\r\n\r\n  const getPendientesPorCobrar = () => {\r\n    db.collection(\"ventas\")\r\n      .get()\r\n      .then(async (ventas) => {\r\n        let items = ventas.filter((v, k) => {\r\n          if (\r\n            v.tipo_operacion_id === 1 &&\r\n            v.forma_pago_id === 2 &&\r\n            v.total_documento_fin - v.pago_status > 0.001\r\n          ) {\r\n            console.log(\r\n              \"correlativo\" + v.correlativo,\r\n              v.moneda.simbolo,\r\n              v.total_documento_fin,\r\n              v.pago_status,\r\n              v.total_documento_fin - v.pago_status\r\n            );\r\n            return v;\r\n          }\r\n        });\r\n        await setPorCobros(items);\r\n        let resolve = resolverStadisticaTotalCobros(items);\r\n        await setTotalCobros(resolve);\r\n      });\r\n  };\r\n\r\n  const handlePorPagar = () => {\r\n    navigate(\"/workspace/ventas\", {\r\n      state: { porcobrar: true },\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    getVentas();\r\n    getPendientesPorCobrar();\r\n  }, []);\r\n\r\n  return (\r\n    <Container>\r\n      <Grid.Column style={{ marginTop: \"10px\", padding: 10 }}>\r\n        <Grid.Row>\r\n          <Header as=\"h1\">Inicio</Header>\r\n        </Grid.Row>\r\n        <br />\r\n        <Grid.Row>\r\n          <Header as=\"h4\">Dia de Hoy</Header>\r\n        </Grid.Row>\r\n        <Grid.Row>\r\n          <Statistic.Group\r\n            size=\"tiny\"\r\n            widths={\r\n              totalVentas ? 1 + Object.keys(totalVentas?.detalles).length : 1\r\n            }\r\n          >\r\n            <Statistic>\r\n              <Statistic.Value>{ventas.length}</Statistic.Value>\r\n              <Statistic.Label>Ventas </Statistic.Label>\r\n            </Statistic>\r\n\r\n            {!!totalVentas &&\r\n              Object.keys(totalVentas.detalles).map((moneda, index) => (\r\n                <Statistic key={index}>\r\n                  <Statistic.Value text>\r\n                    {totalVentas.detalles[moneda].simbolo}{\" \"}\r\n                    {currency(totalVentas.detalles[moneda].total)}\r\n                    {\" (\"}\r\n                    {totalVentas.detalles[moneda].iso}\r\n                    {\") \"}\r\n                  </Statistic.Value>\r\n                  <Statistic.Label>{String(moneda)}</Statistic.Label>\r\n                </Statistic>\r\n              ))}\r\n          </Statistic.Group>\r\n        </Grid.Row>\r\n        <Grid.Row>\r\n          <Card.Group>\r\n            <Card fluid>\r\n              <Card.Content>\r\n                <Card.Header>Mensuales</Card.Header>\r\n                <Card.Meta>Ventas {nroVentas}</Card.Meta>\r\n\r\n                {!!totalVentasMensuales &&\r\n                  Object.keys(totalVentasMensuales.detalles).map((v, index) => (\r\n                    <Card.Description\r\n                      key={index}\r\n                      style={{ textAlign: \"right\" }}\r\n                    >\r\n                      {totalVentasMensuales.detalles[v].simbolo}{\" \"}\r\n                      {currency(totalVentasMensuales.detalles[v].total)}\r\n                      {\" (\"}\r\n                      {totalVentasMensuales.detalles[v].iso}\r\n                      {\") \"}\r\n                    </Card.Description>\r\n                  ))}\r\n              </Card.Content>\r\n            </Card>\r\n\r\n            <Card fluid as={\"a\"} onClick={handlePorPagar}>\r\n              <Card.Content>\r\n                <Card.Header content=\"Cuentas Pendientes por Cobro\" />\r\n                <Card.Meta content={\"Ventas \" + nroCobroPendiente} />\r\n                {!!totalCobros &&\r\n                  !!!totalCobros.length &&\r\n                  Object.keys(totalCobros?.detalles).map((v, index) => (\r\n                    <Card.Description\r\n                      key={index}\r\n                      style={{ textAlign: \"right\" }}\r\n                    >\r\n                      {totalCobros.detalles[v].simbolo}{\" \"}\r\n                      {totalCobros.detalles[v].total?.toFixed(2)}\r\n                      {\" (\"}\r\n                      {totalCobros.detalles[v].iso}\r\n                      {\") \"}\r\n                    </Card.Description>\r\n                  ))}\r\n              </Card.Content>\r\n            </Card>\r\n          </Card.Group>\r\n        </Grid.Row>\r\n      </Grid.Column>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n","import React from \"react\";\r\n\r\nimport { Link } from \"react-router-dom\";\r\nimport { Dropdown } from \"semantic-ui-react\";\r\n\r\nconst CreateButton = ({ empresaContext }) => {\r\n  return (\r\n    <>\r\n      <Dropdown as={\"a\"} text=\"Nuevo\" className=\"button ui tiny\">\r\n        <Dropdown.Menu>\r\n          <Link\r\n            className=\"item\"\r\n            to=\"/space/ventas/create/1\"\r\n            state={{\r\n              model: {\r\n                empresa_id: empresaContext.empresa.id,\r\n                local_id: empresaContext.id,\r\n                tipo_operacion_id: 1,\r\n                detalles: [],\r\n                fecha_emision: new Date()\r\n                  .toLocaleDateString(\"es-CL\")\r\n                  .split(\"-\")\r\n                  .reverse()\r\n                  .join(\"-\"),\r\n                fecha_registro: new Date()\r\n                  .toLocaleDateString(\"es-CL\")\r\n                  .split(\"-\")\r\n                  .reverse()\r\n                  .join(\"-\"),\r\n              },\r\n            }}\r\n          >\r\n            Documento de Venta\r\n          </Link>\r\n          <Link\r\n            className=\"item\"\r\n            to=\"/space/ventas/create/2\"\r\n            state={{\r\n              model: {\r\n                empresa_id: empresaContext.empresa.id,\r\n                local_id: empresaContext.id,\r\n                tipo_operacion_id: 2,\r\n                detalles: [],\r\n                fecha_emision: new Date()\r\n                  .toLocaleDateString(\"es-CL\")\r\n                  .split(\"-\")\r\n                  .reverse()\r\n                  .join(\"-\"),\r\n                fecha_registro: new Date()\r\n                  .toLocaleDateString(\"es-CL\")\r\n                  .split(\"-\")\r\n                  .reverse()\r\n                  .join(\"-\"),\r\n              },\r\n            }}\r\n          >\r\n            Cotización\r\n          </Link>\r\n          <Link\r\n            className=\"item\"\r\n            to=\"/space/ventas/create/3\"\r\n            state={{\r\n              model: {\r\n                empresa_id: empresaContext.empresa.id,\r\n                local_id: empresaContext.id,\r\n                tipo_operacion_id: 3,\r\n                detalles: [],\r\n                fecha_emision: new Date()\r\n                  .toLocaleDateString(\"es-CL\")\r\n                  .split(\"-\")\r\n                  .reverse()\r\n                  .join(\"-\"),\r\n                fecha_registro: new Date()\r\n                  .toLocaleDateString(\"es-CL\")\r\n                  .split(\"-\")\r\n                  .reverse()\r\n                  .join(\"-\"),\r\n              },\r\n            }}\r\n          >\r\n            Guia de Remisión\r\n          </Link>\r\n          {/* <Link\r\n          className=\"item\"\r\n            to=\"/space/ventas/create/4\"\r\n            state={{\r\n              model: {\r\n                empresa_id: empresaContext.empresa.id,\r\n                local_id: empresaContext.id,\r\n                tipo_operacion_id: 4,\r\n                detalles: [],\r\n                fecha_emision: (new Date()).toLocaleDateString('es-CL').split('-').reverse().join('-'),\r\n                fecha_registro: (new Date()).toLocaleDateString('es-CL').split('-').reverse().join('-'),\r\n              },\r\n            }}\r\n          >\r\n            Nota de Crédito\r\n          </Link> */}\r\n          {/* <Dropdown.Divider /> */}\r\n          {/* <Dropdown.Item text=\"Cliente\" description=\"ctrl + o\" /> */}\r\n        </Dropdown.Menu>\r\n      </Dropdown>\r\n\r\n      {/* <Dropdown as=\"a\" text=\"Crear Nuevo\" className=\"button ui mini\">\r\n      <Dropdown.Menu>\r\n        <Dropdown.Item>\r\n          {\" \"}\r\n          <Link\r\n            to=\"/space/ventas/create/1\"\r\n            state={{\r\n              model: {\r\n                empresa_id: empresaContext.empresa.id,\r\n                local_id: empresaContext.id,\r\n                tipo_operacion_id: 1,\r\n                detalles: [],\r\n                fecha_emision: (new Date()).toLocaleDateString('es-CL').split('-').reverse().join('-'),\r\n                fecha_registro: (new Date()).toLocaleDateString('es-CL').split('-').reverse().join('-'),\r\n              },\r\n            }}\r\n          >\r\n            Documento de Venta\r\n          </Link>\r\n        </Dropdown.Item>\r\n        <Dropdown.Item>\r\n          {\" \"}\r\n          <Link\r\n            to=\"/space/ventas/create/2\"\r\n            state={{\r\n              model: {\r\n                empresa_id: empresaContext.empresa.id,\r\n                local_id: empresaContext.id,\r\n                tipo_operacion_id: 2,\r\n                detalles: [],\r\n                fecha_emision: (new Date()).toLocaleDateString('es-CL').split('-').reverse().join('-'),\r\n                fecha_registro: (new Date()).toLocaleDateString('es-CL').split('-').reverse().join('-'),\r\n              },\r\n            }}\r\n          >\r\n            Cotización\r\n          </Link>\r\n        </Dropdown.Item>\r\n        <Dropdown.Item>\r\n          {\" \"}\r\n          <Link\r\n            to=\"/space/ventas/create/3\"\r\n            state={{\r\n              model: {\r\n                empresa_id: empresaContext.empresa.id,\r\n                local_id: empresaContext.id,\r\n                tipo_operacion_id: 3,\r\n                detalles: [],\r\n                fecha_emision: (new Date()).toLocaleDateString('es-CL').split('-').reverse().join('-'),\r\n                fecha_registro: (new Date()).toLocaleDateString('es-CL').split('-').reverse().join('-'),\r\n              },\r\n            }}\r\n          >\r\n            Guia de Remisión\r\n          </Link>\r\n        </Dropdown.Item>\r\n        <Dropdown.Item>\r\n          <Link\r\n            to=\"/space/ventas/create/4\"\r\n            state={{\r\n              model: {\r\n                empresa_id: empresaContext.empresa.id,\r\n                local_id: empresaContext.id,\r\n                tipo_operacion_id: 4,\r\n                detalles: [],\r\n                fecha_emision: (new Date()).toLocaleDateString('es-CL').split('-').reverse().join('-'),\r\n                fecha_registro: (new Date()).toLocaleDateString('es-CL').split('-').reverse().join('-'),\r\n              },\r\n            }}\r\n          >\r\n            Nota de Crédito\r\n          </Link>\r\n        </Dropdown.Item>\r\n      </Dropdown.Menu>\r\n    </Dropdown> */}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CreateButton;\r\n","import instance from \"./_instance\";\r\nimport fileDownload from \"js-file-download\";\r\nimport qs from \"qs\";\r\nimport Path from \"./_path\";\r\n\r\nimport Localbase from \"localbase\";\r\n// import axios from \"axios\";\r\n\r\nconst db = new Localbase(\"db\");\r\ndb.config.debug = false;\r\n\r\n// Create instance called instance\r\n\r\nfunction show(\r\n  empresa_id,\r\n  local_id,\r\n  page = 1,\r\n  query = { limit: 100000, order: { id: \"DESC\" } },\r\n  storage = true\r\n) {\r\n  const str = qs.stringify(query);\r\n  return new Promise((ok, reject) => {\r\n    instance.get(`/venta/${empresa_id}/${local_id}?page=${page}&${str}`).then(\r\n      (res) => {\r\n        if (storage) {\r\n          db.collection(\"ventas\")\r\n            .set(res.data.data)\r\n            .then((ventas) => {\r\n              ok(ventas.data);\r\n            });\r\n        } else {\r\n          ok(res.data.data);\r\n        }\r\n      },\r\n      (bad) => {\r\n        reject(false);\r\n      }\r\n    );\r\n  });\r\n}\r\n\r\nfunction find(empresa_id, local_id, id) {\r\n  return new Promise((resolve, reject) => {\r\n    instance.get(`/venta/${empresa_id}/${local_id}/${id}`).then(\r\n      (res) => {\r\n        resolve(res.data);\r\n      },\r\n      (err) => {\r\n        reject(false);\r\n      }\r\n    );\r\n  });\r\n}\r\n\r\nfunction create(data) {\r\n  return new Promise((resolve, reject) => {\r\n    instance\r\n      .post(\"venta\", data)\r\n      .then(async (res) => {\r\n        const body = await db.collection(\"ventas\").add(res.data);\r\n        resolve(body.data);\r\n      })\r\n      .catch((error) => {\r\n        if (error.response) {\r\n          resolve(error.response.data);\r\n        }\r\n      });\r\n  });\r\n}\r\n\r\nfunction anular(data) {\r\n  console.log(data);\r\n  return new Promise((resolve, reject) => {\r\n    instance\r\n      .delete(`venta/${data.empresa_id}/${data.local_id}/${data.id}`, data)\r\n      .then((res) => {\r\n        resolve(res.data);\r\n      })\r\n      .catch((error) => {\r\n        if (error.response) {\r\n          resolve(error.response.data);\r\n        }\r\n      });\r\n  });\r\n}\r\n\r\nfunction update(data, id) {\r\n  data.transportista_id =\r\n    data.transportista_id === null ? undefined : data.transportista_id;\r\n  data.ubigeo_destino_id =\r\n    data.ubigeo_destino_id === null ? undefined : data.ubigeo_destino_id;\r\n  data.ubigeo_partida_id =\r\n    data.ubigeo_partida_id === null ? undefined : data.ubigeo_partida_id;\r\n  return new Promise((resolve, reject) => {\r\n    instance\r\n      .put(\"venta/\" + data.empresa_id + \"/\" + data.local_id + \"/\" + id, data)\r\n      .then(async (res) => {\r\n        const body = await db\r\n          .collection(\"ventas\")\r\n          .doc({ id: res.data.id })\r\n          .update(res.data);\r\n        resolve(body.data);\r\n      });\r\n  });\r\n}\r\n\r\nfunction showDetalles(\r\n  empresa_id,\r\n  local_id,\r\n  page = 1,\r\n  query = { limit: 20, order: { id: \"DESC\" } }\r\n) {\r\n  const str = qs.stringify(query);\r\n  return new Promise((ok, reject) => {\r\n    instance\r\n      .get(`/venta-detalle/${empresa_id}/${local_id}?page=${page}&${str}`)\r\n      .then(\r\n        (res) => {\r\n          ok(res.data);\r\n        },\r\n        (bad) => {\r\n          reject(false);\r\n        }\r\n      );\r\n  });\r\n}\r\n\r\nfunction sendSunat(data) {\r\n  console.log(data);\r\n  return new Promise((resolve, reject) => {\r\n    instance\r\n      .get(`venta/enviar/${data.empresa_id}/${data.local_id}/${data.id}`, data)\r\n      .then((res) => {\r\n        resolve(res.data);\r\n      })\r\n      .catch((error) => {\r\n        if (error.response) {\r\n          resolve(error.response.data);\r\n        }\r\n      });\r\n  });\r\n}\r\n\r\nasync function download(data, type) {\r\n  fetch(\r\n    `${Path()}/venta/download/${data.empresa_id}/${data.local_id}/${\r\n      data.id\r\n    }/${type}`,\r\n    {\r\n      method: \"GET\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n      },\r\n    }\r\n  )\r\n    .then((response) => response.blob())\r\n    .then((response) => {\r\n      const extension = type === \"cdn\" ? \"zip\" : type;\r\n      fileDownload(response, `${data.sunat_documento}.${extension}`);\r\n    });\r\n}\r\n\r\nasync function downloadExternal(data, type) {\r\n  fetch(\r\n    `${Path()}/downloadExternal/${data.empresa_id}/${data.local_id}/${\r\n      data.id\r\n    }/${type}`,\r\n    {\r\n      method: \"GET\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n      },\r\n    }\r\n  )\r\n    .then((response) => response.blob())\r\n    .then((response) => {\r\n      const extension = type === \"cdn\" ? \"zip\" : type;\r\n      fileDownload(response, `${data.sunat_documento}.${extension}`);\r\n    });\r\n}\r\n\r\nasync function reporte(data, query) {\r\n  const _query = qs.stringify(query);\r\n  console.log(\">>>>>>>>>>>>>>>>>>>>>>>>>>>>>\", data, _query);\r\n\r\n  fetch(`${Path()}/venta/${data.empresa.id}/${data.id}/reporte?${_query}`, {\r\n    method: \"GET\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n    },\r\n  })\r\n    .then((response) => response.blob())\r\n    .then((response) => {\r\n      fileDownload(response, `${\"reporte-ventas\"}.xlsx`);\r\n    });\r\n}\r\n\r\nasync function consultar(query) {\r\n  return new Promise((resolve, reject) => {\r\n    instance.post(`/consultar`, query).then(\r\n      (res) => {\r\n        resolve(res.data);\r\n      },\r\n      (err) => {\r\n        reject(false);\r\n      }\r\n    );\r\n  });\r\n}\r\n\r\nasync function consultarSearch(query) {\r\n  return new Promise((resolve, reject) => {\r\n    instance.post(`consultarSearch`, query).then(\r\n      (res) => {\r\n        resolve(res.data);\r\n      },\r\n      (err) => {\r\n        reject(false);\r\n      }\r\n    );\r\n  });\r\n}\r\n\r\nexport default {\r\n  show,\r\n  find,\r\n  create,\r\n  update,\r\n  showDetalles,\r\n  anular,\r\n  sendSunat,\r\n  download,\r\n  reporte,\r\n  consultar,\r\n  consultarSearch,\r\n  downloadExternal\r\n};\r\n","import React, { useContext } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Button, Dropdown, Confirm } from \"semantic-ui-react\";\r\n\r\nimport empresaContext from \"../context/EmpresaContext\";\r\nimport ventasService from \"../services/ventas\";\r\n\r\nconst ConverterButton = ({ documento, handleChangeVenta }) => {\r\n  const { empresa } = useContext(empresaContext);\r\n  const [open, setOpen] = useState(false);\r\n\r\n  return (\r\n    <>\r\n      {documento && (\r\n        <Dropdown as={\"a\"} text=\"Convertir\" className=\"button ui mini teal\">\r\n          <Dropdown.Menu>\r\n            {\r\n              <Dropdown.Item\r\n                onClick={() => {\r\n                  setOpen(!open);\r\n                }}\r\n              >\r\n                <i className=\"delete icon\"></i>\r\n                Anular\r\n              </Dropdown.Item>\r\n            }\r\n\r\n            {documento.tipo_operacion_id !== 1 && (\r\n              <Link\r\n                className=\"item\"\r\n                to=\"/space/ventas/create/1\"\r\n                state={{\r\n                  model: {\r\n                    ...documento,\r\n                    documento_relacion: documento.documento_relacion.concat({\r\n                      documento_relacion_id: documento?.id,\r\n                      documento_relacion: documento,\r\n                    }),\r\n                    serie: undefined,\r\n                    correlativo: undefined,\r\n                    id: undefined,\r\n                    empresa_id: empresa.empresa.id,\r\n                    local_id: empresa.id,\r\n                    tipo_operacion_id: 1,\r\n                    fecha_emision: (new Date()).toLocaleDateString('es-CL').split('-').reverse().join('-'),\r\n                    fecha_registro: (new Date()).toLocaleDateString('es-CL').split('-').reverse().join('-'),\r\n                    transportista_id: null,\r\n                    ubigeo_partida: null,\r\n                    ubigeo_destino: null,\r\n                  },\r\n                }}\r\n              >\r\n                <i className=\"file alternate outline icon\" />\r\n                Venta\r\n              </Link>\r\n            )}\r\n\r\n            {documento.tipo_operacion_id !== 2 &&\r\n              documento.tipo_operacion_id !== 3 && (\r\n                <Link\r\n                  className=\"item\"\r\n                  to=\"/space/ventas/create/3\"\r\n                  state={{\r\n                    model: {\r\n                      ...documento,\r\n                      documento_relacion: documento.documento_relacion.concat({\r\n                        documento_relacion_id: documento.id,\r\n                        documento_relacion: documento,\r\n                      }),\r\n                      serie: undefined,\r\n                      correlativo: undefined,\r\n                      id: undefined,\r\n                      empresa_id: empresa.empresa.id,\r\n                      local_id: empresa.id,\r\n                      tipo_operacion_id: 3,\r\n                      fecha_emision: (new Date()).toLocaleDateString('es-CL').split('-').reverse().join('-'),\r\n                      fecha_registro: (new Date()).toLocaleDateString('es-CL').split('-').reverse().join('-'),\r\n                      transportista_id: null,\r\n                      ubigeo_partida: null,\r\n                      ubigeo_destino: null,\r\n                    },\r\n                  }}\r\n                >\r\n                  <i className=\"file alternate outline icon\" />\r\n                  Guia de Remisión\r\n                </Link>\r\n              )}\r\n            <Link\r\n              className=\"item\"\r\n              to=\"/space/ventas/create/4\"\r\n              state={{\r\n                model: {\r\n                  ...documento,\r\n                  documento_relacion: documento.documento_relacion.concat({\r\n                    documento_relacion_id: documento.id,\r\n                    documento_relacion: documento,\r\n                  }),\r\n                  serie: undefined,\r\n                  correlativo: undefined,\r\n                  id: undefined,\r\n                  empresa_id: empresa.empresa.id,\r\n                  local_id: empresa.id,\r\n                  tipo_operacion_id: 4,\r\n                  fecha_emision: (new Date()).toLocaleDateString('es-CL').split('-').reverse().join('-'),\r\n                  fecha_registro: (new Date()).toLocaleDateString('es-CL').split('-').reverse().join('-'),\r\n                  transportista_id: null,\r\n                  ubigeo_partida: null,\r\n                  ubigeo_destino: null,\r\n                },\r\n              }}\r\n            >\r\n              <i className=\"file alternate outline icon\" />\r\n              Nota de Crédito\r\n            </Link>\r\n          </Dropdown.Menu>\r\n        </Dropdown>\r\n      )}\r\n\r\n      <Confirm\r\n        open={open}\r\n        content={`¿Seguro que deseas anular este documento? -Esta operacion es irreversible recuerde que puede editar este documento`}\r\n        onCancel={() => {\r\n          setOpen(!open);\r\n        }}\r\n        onConfirm={async () => {\r\n          const anulacion = await ventasService.anular(documento);\r\n          handleChangeVenta(anulacion);\r\n          console.log(anulacion);\r\n          setOpen(!open);\r\n        }}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ConverterButton;\r\n","import React from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\n\r\nimport { Controller } from \"react-hook-form\";\r\nimport { Form, Input } from \"semantic-ui-react\";\r\n\r\nfunction getValue(value) {\r\n  if (!!!value) {\r\n    return new Date().toISOString().split(\"T\")[0];\r\n  } else {\r\n    return new Date(value).toISOString().split(\"T\")[0];\r\n  }\r\n}\r\n\r\nconst FormFielController = ({\r\n  name,\r\n  title,\r\n  type,\r\n  control,\r\n  errors,\r\n  width,\r\n  readOnly,\r\n}) => (\r\n  <Controller\r\n    name={name}\r\n    control={control}\r\n    render={({ field: { onChange, onBlur, value } }) => {\r\n      return (\r\n        <Form.Field\r\n          id={name}\r\n          width={width || 2}\r\n          required={errors[name]?.type === \"required\" ? true : false}\r\n          control={Input}\r\n          label={title}\r\n          value={type === \"date\" ? getValue(value) : value}\r\n          placeholder={title}\r\n          type={type}\r\n          error={\r\n            errors[name] && {\r\n              content: errors[name].message,\r\n              pointing: \"above\",\r\n            }\r\n          }\r\n          readOnly={readOnly || false}\r\n          onBlur={onBlur}\r\n          onChange={onChange}\r\n        />\r\n      );\r\n    }}\r\n  />\r\n);\r\nexport default FormFielController;\r\n","\r\nimport * as yup from \"yup\";\r\n\r\nconst schema = yup\r\n.object({\r\n  //id: yup.string().required(\"Complete\")\r\n})\r\n.required();\r\n\r\nexport default schema","const clientes = {\r\n  title: \"Cliente\",\r\n  name: \"cliente_id\",\r\n  name_model: \"cliente\",\r\n  placeholder: \"Buscar...\",\r\n  endPoint: \"/cliente\",\r\n  link: \"/welcome/clientes/\",\r\n  params: { empresa_id: true },\r\n  keys: {\r\n    text: \"nombre\",\r\n    id: \"id\",\r\n    concat: [\"nombre\", \"email\"],\r\n  },\r\n  table: \"_contactos\",\r\n};\r\n\r\nconst proveedores = {\r\n  title: \"Proveedores\",\r\n  name: \"cliente_id\",\r\n  name_model: \"cliente\",\r\n  placeholder: \"Buscar...\",\r\n  endPoint: \"/cliente\",\r\n  link: \"/welcome/clientes/\",\r\n  params: { empresa_id: true },\r\n  keys: {\r\n    text: \"nombre\",\r\n    id: \"id\",\r\n    concat: [\"nombre\", \"email\"],\r\n  },\r\n  table: \"_contactos\",\r\n};\r\n\r\nconst transportista = {\r\n  title: \"Transportista\",\r\n  name: \"transportista_id\",\r\n  name_model: \"transportista\",\r\n  placeholder: \"Buscar...\",\r\n  endPoint: \"/cliente\",\r\n  link: \"/welcome/clientes/\",\r\n  params: { empresa_id: true },\r\n  keys: {\r\n    text: \"nombre\",\r\n    id: \"id\",\r\n  },\r\n  table: \"_contactos\",\r\n};\r\n\r\nconst vendedor = {\r\n  title: \"Vendedor\",\r\n  name: \"vendedor_id\",\r\n  name_model: \"vendedor\",\r\n  placeholder: \"Buscar...\",\r\n  endPoint: \"/cliente\",\r\n  link: \"/welcome/clientes/\",\r\n  params: { empresa_id: true },\r\n  keys: {\r\n    text: \"nombre\",\r\n    id: \"id\",\r\n  },\r\n  table: \"_contactos\",\r\n};\r\n\r\nconst ubigeo = {\r\n  title: \"Ubigeo\",\r\n  name: \"ubigeo_id\",\r\n  name_model: \"ubigeo\",\r\n  placeholder: \"Busca el ubigeo\",\r\n  endPoint: \"/resource/ubigeo\",\r\n  link: false,\r\n  params: false,\r\n  keys: {\r\n    text: \"provincia\",\r\n    id: \"id\",\r\n    concat: [\"provincia\", \"distrito\", \"departamento\"],\r\n  },\r\n  table: \"ubigeos\",\r\n};\r\n\r\nconst ubigeo_partida = {\r\n  title: \"Ubigeo de Partida\",\r\n  name: \"ubigeo_partida_id\",\r\n  name_model: \"ubigeo_partida\",\r\n  placeholder: \"Buscar ubigeo\",\r\n  endPoint: \"/resource/ubigeo\",\r\n  link: false,\r\n  params: false,\r\n  keys: {\r\n    text: \"provincia\",\r\n    id: \"id\",\r\n    concat: [\"provincia\", \"distrito\", \"departamento\"],\r\n  },\r\n  table: \"ubigeos\",\r\n};\r\n\r\nconst ubigeo_destino = {\r\n  title: \"Ubigeo de Destino\",\r\n  name: \"ubigeo_destino_id\",\r\n  name_model: \"ubigeo_destino\",\r\n  placeholder: \"Buscar Destino\",\r\n  endPoint: \"/resource/ubigeo\",\r\n  link: false,\r\n  params: false,\r\n  keys: {\r\n    text: \"provincia\",\r\n    id: \"id\",\r\n    concat: [\"provincia\", \"distrito\", \"departamento\"],\r\n  },\r\n  table: \"ubigeos\",\r\n};\r\n\r\nconst tipo_documento_identy = {\r\n  title: \"Documento\",\r\n  name: \"tipo_documento_identy_id\",\r\n  name_model: \"tipo_documento_identy\",\r\n  placeholder: \"Selecciona\",\r\n  endPoint: \"/resource/tipo_documento_identy\",\r\n  link: false,\r\n  params: false,\r\n  keys: {\r\n    text: \"nombre\",\r\n    id: \"id\",\r\n  },\r\n  table: \"tipo_documento_identies\",\r\n};\r\n\r\nconst almacen = {\r\n  title: \"Almacen\",\r\n  name: \"almacen_id\",\r\n  name_model: \"almacen\",\r\n  placeholder: \"Selecciona\",\r\n  endPoint: \"/almacen/local\",\r\n  link: false,\r\n  params: { local_id: true },\r\n  keys: {\r\n    text: \"nombre\",\r\n    id: \"id\",\r\n  },\r\n  table: \"almacen\",\r\n};\r\n\r\nconst serie = {\r\n  title: \"Serie\",\r\n  name: \"serie_id\",\r\n  name_model: \"serie\",\r\n  placeholder: \"Selecciona\",\r\n  endPoint: \"/serie/tipo_operacion\",\r\n  link: false,\r\n  params: { local_id: true },\r\n  keys: {\r\n    text: \"descripcion\",\r\n    id: \"id\",\r\n    concat: [\"descripcion\", \"serie\"],\r\n  },\r\n  table: \"series\",\r\n};\r\n\r\nconst forma_pago = {\r\n  title: \"Condicion de Pago\",\r\n  name: \"forma_pago_id\",\r\n  name_model: \"forma_pago\",\r\n  placeholder: \"Selecciona\",\r\n  endPoint: \"/resource/forma_pago\",\r\n  link: false,\r\n  params: false,\r\n  keys: {\r\n    text: \"nombre\",\r\n    id: \"id\",\r\n  },\r\n  table: \"forma_pagos\",\r\n};\r\n\r\nconst moneda = {\r\n  title: \"Moneda\",\r\n  name: \"moneda_id\",\r\n  name_model: \"moneda\",\r\n  placeholder: \"Selecciona\",\r\n  endPoint: \"/moneda\",\r\n  link: \"/welcome/moneda/\",\r\n  params: { empresa_id: true },\r\n  keys: {\r\n    text: \"nombre\",\r\n    id: \"id\",\r\n  },\r\n  table: \"monedas\",\r\n};\r\n\r\nconst vehiculo = {\r\n  title: \"Vehículo\",\r\n  name: \"vehiculo_id\",\r\n  name_model: \"vehiculo\",\r\n  placeholder: \"Selecciona\",\r\n  endPoint: \"/vehiculo\",\r\n  link: \"/welcome/vehiculo/\",\r\n  params: { empresa_id: true },\r\n  keys: {\r\n    text: \"descripcion\",\r\n    id: \"id\",\r\n    concat: [\"descripcion\"],\r\n  },\r\n  table: \"vehiculos\",\r\n};\r\n\r\nconst producto = {\r\n  title: \"Producto\",\r\n  name: \"producto\",\r\n  name_model: \"producto\",\r\n  placeholder: \"Selecciona\",\r\n  endPoint: \"/producto\",\r\n  link: \"/welcome/producto/\",\r\n  params: { empresa_id: true },\r\n  keys: {\r\n    text: \"nombre\",\r\n    id: \"id\",\r\n  },\r\n  table: \"productos\",\r\n};\r\n\r\nconst documento_relacion_search = {\r\n  title: \"Documento Relacionado\",\r\n  name: \"documento_relacion_search_id\",\r\n  name_model: \"documento_relacion_search\",\r\n  placeholder: \"Buscar por serie y numero de correlativo\",\r\n  endPoint: \"/venta\",\r\n  link: false,\r\n  params: { empresa_id: true, local_id: true },\r\n  keys: {\r\n    text: \"uniqueserie\",\r\n    id: \"id\",\r\n    concat: [\"uniqueserie\"],\r\n  },\r\n  table: \"ventas\",\r\n};\r\n\r\nconst motivos_sunat_guia_remision = {\r\n  title: \"Motivo Guia de Remisión\",\r\n  name: \"motivos_sunat_guia_remision_id\",\r\n  name_model: \"motivos_sunat_guia_remision\",\r\n  placeholder: \"Seleccione Motivo\",\r\n  endPoint: \"/resource/motivos_sunat_guia_remision\",\r\n  link: false,\r\n  params: false,\r\n  keys: {\r\n    text: \"descripcion\",\r\n    id: \"id\",\r\n    // concat: [\"provincia\", \"distrito\", \"departamento\"],\r\n  },\r\n  table: \"motivos_guia_remision\",\r\n};\r\n\r\nconst presentacion = {\r\n  title: \"Presentación\",\r\n  name: \"presentacion_id\",\r\n  name_model: \"presentacion\",\r\n  placeholder: \"Seleccione Presentación\",\r\n  endPoint: \"/resource/presentacion\",\r\n  link: false,\r\n  params: false,\r\n  keys: {\r\n    text: \"nombre\",\r\n    id: \"id\",\r\n  },\r\n  table: \"presentacions\",\r\n};\r\n\r\nconst marca = {\r\n  title: \"Marca\",\r\n  name: \"marca_id\",\r\n  name_model: \"marca\",\r\n  placeholder: \"Seleccione Marca\",\r\n  endPoint: \"/producto_features/marcas\",\r\n  link: false,\r\n  params: false,\r\n  keys: {\r\n    text: \"nombre\",\r\n    id: \"id\",\r\n  },\r\n  table: \"marcas\",\r\n};\r\n\r\nconst linea = {\r\n  title: \"Linea\",\r\n  name: \"linea_id\",\r\n  name_model: \"linea\",\r\n  placeholder: \"Seleccione Marca\",\r\n  endPoint: \"/producto_features/lineas\",\r\n  link: false,\r\n  params: false,\r\n  keys: {\r\n    text: \"nombre\",\r\n    id: \"id\",\r\n  },\r\n  table: \"lineas\",\r\n};\r\n\r\nconst categoria = {\r\n  title: \"Categoria\",\r\n  name: \"categoria_id\",\r\n  name_model: \"categoria\",\r\n  placeholder: \"Seleccione Categoria\",\r\n  endPoint: \"/producto_features/categorias\",\r\n  link: false,\r\n  params: false,\r\n  keys: {\r\n    text: \"nombre\",\r\n    id: \"id\",\r\n  },\r\n  table: \"categorias\",\r\n};\r\n\r\nconst subcategoria = {\r\n  title: \"Sub Categorias\",\r\n  name: \"subcategoria_id\",\r\n  name_model: \"sub_categoria\",\r\n  placeholder: \"Seleccione Sub Categoria\",\r\n  endPoint: \"/producto_features/subcategorias\",\r\n  link: false,\r\n  params: false,\r\n  keys: {\r\n    text: \"nombre\",\r\n    id: \"id\",\r\n  },\r\n  table: \"subcategorias\",\r\n};\r\n\r\nconst tipo_producto = {\r\n  title: \"Tipo de producto\",\r\n  name: \"tipo_producto_id\",\r\n  name_model: \"tipo_producto\",\r\n  placeholder: \"Seleccione un tipo de Producto\",\r\n  endPoint: \"/resource/tipo_producto\",\r\n  link: false,\r\n  params: false,\r\n  keys: {\r\n    text: \"nombre\",\r\n    id: \"id\",\r\n  },\r\n  table: \"tipo_productos\",\r\n};\r\n\r\nconst metodo_pagos = {\r\n  title: \"Métodos\",\r\n  name: \"metodo_pago_id\",\r\n  name_model: \"metodo\",\r\n  placeholder: \"Seleccione un método\",\r\n  endPoint: \"/resource/metodo_pago\",\r\n  link: false,\r\n  params: false,\r\n  keys: {\r\n    text: \"nombre\",\r\n    id: \"id\",\r\n  },\r\n  table: \"metodo_pagos\",\r\n};\r\n\r\nconst listado_bancos = {\r\n  title: \"Listado Bancos\",\r\n  name: \"listado_banco_id\",\r\n  name_model: \"nombre\",\r\n  placeholder: \"Seleccione un Banco\",\r\n  endPoint: \"/resource/listado_banco\",\r\n  link: false,\r\n  params: false,\r\n  keys: {\r\n    text: \"nombre\",\r\n    id: \"id\",\r\n  },\r\n  table: \"listado_bancos\",\r\n};\r\n\r\nconst cuentas_bancos = {\r\n  title: \"Cuenta Banco\",\r\n  name: \"banco_id\",\r\n  name_model: \"banco_nombre\",\r\n  placeholder: \"Seleccione un Banco\",\r\n  endPoint: \"/banco\",\r\n  link: \"/welcome/banco/\",\r\n  params: { empresa_id: true },\r\n  keys: {\r\n    text: \"nombre\",\r\n    id: \"id\",\r\n    concat: [\"nombre\", \"numero_cuenta\"],\r\n  },\r\n  table: \"bancos\",\r\n};\r\n\r\nconst paises = {\r\n  title: \"Pais\",\r\n  name: \"country_id\",\r\n  name_model: \"country_nombre\",\r\n  placeholder: \"Selecciona Pais\",\r\n  endPoint: \"/resource/paises\",\r\n  link: false,\r\n  params: false,\r\n  keys: {\r\n    text: \"nombre\",\r\n    id: \"id\",\r\n  },\r\n  table: \"countries\",\r\n};\r\n\r\nexport default {\r\n  transportista,\r\n  clientes,\r\n  proveedores,\r\n  vendedor,\r\n  ubigeo,\r\n  tipo_documento_identy,\r\n  almacen,\r\n  serie,\r\n  forma_pago,\r\n  moneda,\r\n  producto,\r\n  documento_relacion_search,\r\n  motivos_sunat_guia_remision,\r\n  vehiculo,\r\n  ubigeo_partida,\r\n  ubigeo_destino,\r\n  tipo_producto,\r\n  presentacion,\r\n  marca,\r\n  linea,\r\n  categoria,\r\n  subcategoria,\r\n  metodo_pagos,\r\n  cuentas_bancos,\r\n  listado_bancos,\r\n  paises,\r\n};\r\n","import instance from \"./_instance\";\r\nimport qs from \"qs\";\r\n// Create instance called instance\r\n\r\nfunction show(end_point, query = { order: { id: \"DESC\" } }) {\r\n  if (!!!query.limit) {\r\n    query.limit = 20;\r\n  }\r\n\r\n  console.log(end_point,query.limit);\r\n  const str = qs.stringify(query);\r\n  return new Promise((ok, reject) => {\r\n    instance.get(`${end_point}?${str}`).then(\r\n      (res) => {\r\n        ok(res.data);\r\n      },\r\n      (bad) => {\r\n        reject(new Error(\"bad request\"));\r\n      }\r\n    );\r\n  });\r\n}\r\n\r\nexport default { show };\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\n\r\nimport { Dropdown, Button, Form, Segment, Icon } from \"semantic-ui-react\";\r\nimport { Link, useLocation, useNavigate } from \"react-router-dom\";\r\nimport { Controller, get } from \"react-hook-form\";\r\n\r\nimport dropdownService from \"../services/dropdown\";\r\n\r\nconst parseData = (data, key) => {\r\n  if (data && !!!data[0]) {\r\n    return false;\r\n  }\r\n  const res = data?.map((e, index) => {\r\n    if (key.concat) {\r\n      const arr = key.concat.map((i) => {\r\n        if (i === \"email\") return \"<\" + e[i] + \">\";\r\n        return e[i];\r\n      });\r\n\r\n      return {\r\n        text: arr.join(\" \"),\r\n        value: Number(e[key?.id]),\r\n        key: index,\r\n        model: e,\r\n      };\r\n    } else {\r\n      return {\r\n        text: e[key?.text],\r\n        value: Number(e[key?.id]),\r\n        key: index,\r\n        model: e,\r\n      };\r\n    }\r\n  });\r\n\r\n  return res;\r\n};\r\n\r\nconst getOptions = async (\r\n  empresa,\r\n  key,\r\n  endPoint,\r\n  params,\r\n  searchQuery = null,\r\n  moreRouteParams,\r\n  venta\r\n) => {\r\n  let query;\r\n\r\n  if (params?.empresa_id) {\r\n    endPoint += \"/\" + empresa.empresa.id;\r\n  }\r\n\r\n  if (params?.local_id) {\r\n    console.log(empresa.id);\r\n    endPoint += \"/\" + empresa.id;\r\n  }\r\n\r\n  if (endPoint.search(\"undefined\") > 0 ? true : false) {\r\n  }\r\n\r\n  if (moreRouteParams) {\r\n    const values = Object.keys(moreRouteParams).map((v) => {\r\n      return venta[v];\r\n    });\r\n    for (let i = 0; i < values.length; i++) {\r\n      endPoint += \"/\" + values[i];\r\n    }\r\n  }\r\n\r\n  if (typeof searchQuery === \"string\" && searchQuery.length < 3) {\r\n    return false;\r\n  }\r\n\r\n  if (typeof searchQuery === \"string\" && searchQuery.length > 3) {\r\n    query = { filter: [[key.text, \"like\", \"%\" + searchQuery + \"%\"]] };\r\n  }\r\n\r\n  if (typeof searchQuery === \"object\") {\r\n    query = searchQuery;\r\n  }\r\n\r\n  query = searchQuery ? query : null;\r\n\r\n  const response = await dropdownService.show(endPoint, query);\r\n  let data = await parseData(response.data, key);\r\n\r\n  if (endPoint.search(\"/vehiculo\") > 0) {\r\n    console.log(key, endPoint, params, searchQuery, moreRouteParams);\r\n  }\r\n\r\n  return data;\r\n};\r\n\r\nconst FormFielDropdownSarch = ({\r\n  model,\r\n  moreRouteParams,\r\n  empresaContexto,\r\n  control,\r\n  venta,\r\n  setValue,\r\n  width,\r\n  autoFocus,\r\n  onListenChange,\r\n}) => {\r\n  //console.log(control._options.defaultValues);\r\n\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n\r\n  const [state, setState] = useState({\r\n    isFetching: false,\r\n    multiple: true,\r\n    searchQuery: null,\r\n    value: \"\",\r\n    options: [],\r\n  });\r\n\r\n  const handleEdit = (empresaContexto, id) => {\r\n    id = Number(id);\r\n    const find = state.options.find((element) => {\r\n      return element.value === id;\r\n    });\r\n\r\n    navigate(model.link + id, {\r\n      state: {\r\n        backgroundLocation: location,\r\n        model: find.model,\r\n        empresaContexto,\r\n      },\r\n    });\r\n  };\r\n\r\n  const handleSearchChange = async (e, { searchQuery }) => {\r\n    setState({ isFetching: true });\r\n    const options = await getOptions(\r\n      empresaContexto,\r\n      model.keys,\r\n      model.endPoint,\r\n      model.params,\r\n      searchQuery,\r\n      moreRouteParams,\r\n      venta\r\n    );\r\n    setState({ ...state, ...{ options, isFetching: false } });\r\n  };\r\n\r\n  const get = async () => {\r\n    let options = await getOptions(\r\n      empresaContexto,\r\n      model.keys,\r\n      model.endPoint,\r\n      model.params,\r\n      {\r\n        limit: 20,\r\n        order: { id: \"DESC\" },\r\n      },\r\n      moreRouteParams,\r\n      venta\r\n    );\r\n\r\n    if (!!venta && venta[model?.name_model]) {\r\n      const choose = await parseData([venta[model?.name_model]], model.keys);\r\n      /**verificar que el choose se encuentre en los resultados */\r\n      const find = options.find((res) => {\r\n        if (res.value === choose[0].value) {\r\n          return true;\r\n        } else {\r\n          return false;\r\n        }\r\n      });\r\n      if (find) {\r\n        return options;\r\n      } else {\r\n        choose[0].key = options.length;\r\n        options.push(choose[0]);\r\n        return options;\r\n      }\r\n    }\r\n    return options;\r\n  };\r\n\r\n  useEffect(() => {\r\n    get().then(\r\n      (options) => {\r\n        setState({ ...state, ...{ options, isFetching: false } });\r\n      },\r\n      (err) => {\r\n        console.log(err);\r\n        alert(\r\n          \"efecto fallo posiblemente la respuesta no esta en formato adecuado [data]=>{}\"\r\n        );\r\n      }\r\n    );\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!!location?.state && location?.state?.reload) {\r\n      console.log(location.state, \"- Has changed\");\r\n      console.log(location.state, location.state.reload);\r\n      const data = parseData([location.state?.reload[model.name]], model.keys);\r\n      setState({ options: data });\r\n\r\n      setValue(model.name, location?.state?.reload[model.name]?.id);\r\n      setValue(model.name_model, location?.state?.reload[model?.name]);\r\n    }\r\n  }, [location.state?.reload?.[[model.name]]]);\r\n\r\n  return (\r\n    <Controller\r\n      name={model.name}\r\n      control={control}\r\n      render={({ field: { onChange, onBlur, value } }) => (\r\n        <Form.Field width={width || 5}>\r\n          <label>\r\n            {model.title}{\" \"}\r\n            {!location?.state?.backgroundLocation &&\r\n              model.link &&\r\n              !!state?.options?.length &&\r\n              !!value && (\r\n                <Icon\r\n                  onClick={() => {\r\n                    handleEdit(empresaContexto, value, setValue);\r\n                  }}\r\n                  name=\"pencil\"\r\n                  size=\"small\"\r\n                />\r\n              )}\r\n          </label>\r\n          <Dropdown\r\n            searchInput={{ autoFocus }}\r\n            clearable\r\n            options={state.options}\r\n            placeholder={model.placeholder}\r\n            onChange={(e, element) => {\r\n              setValue(model.name, element.value);\r\n              const selec = state.options.find((e) => {\r\n                return e.value === element.value;\r\n              });\r\n              setValue(model?.name_model, selec?.model);\r\n              if (onListenChange) {\r\n                onListenChange(element);\r\n              }\r\n            }}\r\n            onSearchChange={handleSearchChange}\r\n            loading={state.isFetching}\r\n            search\r\n            value={parseInt(value)}\r\n            selection\r\n            noResultsMessage={\r\n              model.link ? (\r\n                <Link\r\n                  to={model.link + \"create\"}\r\n                  state={{\r\n                    backgroundLocation: location,\r\n                    model: {\r\n                      local_id: empresaContexto.id,\r\n                      empresa_id: empresaContexto.empresa.id,\r\n                    },\r\n                  }}\r\n                >\r\n                  Agregar Nuevo\r\n                </Link>\r\n              ) : (\r\n                \"Sin Resultados\"\r\n              )\r\n            }\r\n          />\r\n        </Form.Field>\r\n      )}\r\n    />\r\n  );\r\n};\r\nexport default FormFielDropdownSarch;\r\n","import instance from \"./_instance\";\r\nimport Localbase from \"localbase\";\r\nconst qs = require(\"qs\");\r\n\r\n// Create instance called instance\r\n\r\nconst db = new Localbase(\"db\");\r\ndb.config.debug = false;\r\n\r\nfunction show(\r\n  endPoint,\r\n  query = { limit: 10000, order: { id: \"DESC\" } },\r\n  page = 0\r\n) {\r\n  if (!!!query.limit) {\r\n    query = {};\r\n    query.limit = 10000;\r\n    query.order = { id: \"DESC\" };\r\n  }\r\n\r\n  const str = qs.stringify(query);\r\n  return new Promise((ok, reject) => {\r\n    instance.get(`${endPoint}?page=${page}&${str}`).then(\r\n      (res) => {\r\n        db.collection(\"productos\")\r\n          .set(res.data.data)\r\n          .then((productos) => {\r\n            ok(productos.data);\r\n          });\r\n      },\r\n      (bad) => {\r\n        reject(false);\r\n      }\r\n    );\r\n  });\r\n}\r\n\r\nfunction find(id) {\r\n  return new Promise((resolve, reject) => {\r\n    instance.get(\"empresa/\" + id).then((res) => {\r\n      resolve(res.data);\r\n    });\r\n  });\r\n}\r\n\r\nfunction create(data) {\r\n  return new Promise((resolve, reject) => {\r\n    instance\r\n      .post(\"producto\", data)\r\n      .then(async (res) => {\r\n        const body = await db.collection(\"productos\").add(res.data);\r\n        resolve(body.data);\r\n      })\r\n      .catch((error) => {\r\n        if (error.response) {\r\n          resolve(error.response.data);\r\n        }\r\n      });\r\n  });\r\n}\r\n\r\nfunction update(data, id) {\r\n  return new Promise((resolve, reject) => {\r\n    instance\r\n      .put(\"producto/\" + data.empresa_id + \"/\" + id, data)\r\n      .then(async (res) => {\r\n        const body = await db\r\n          .collection(\"productos\")\r\n          .doc({ id: res.data.id })\r\n          .update(res.data);\r\n        resolve(body.data);\r\n      });\r\n  });\r\n}\r\n\r\nfunction importadorFivip(data, type) {\r\n  return new Promise((resolve, reject) => {\r\n    instance\r\n      .get(\r\n        \"producto/importar/\" +\r\n          data.empresa_id +\r\n          \"/\" +\r\n          data.empresa.id +\r\n          \"/\" +\r\n          type\r\n      )\r\n      .then((res) => {\r\n        resolve(res.data);\r\n      });\r\n  });\r\n}\r\n\r\nexport default { show, find, create, update, importadorFivip };\r\n","import React, {\r\n  useState,\r\n  useRef,\r\n  useImperativeHandle,\r\n  forwardRef,\r\n} from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport { Link, useLocation } from \"react-router-dom\";\r\nimport { Dropdown, Icon, Header, Button } from \"semantic-ui-react\";\r\nimport productoService from \"../services/productos\";\r\n\r\nimport _ from \"lodash\";\r\n\r\nconst parseData = (data, key) => {\r\n  const res = data.map((e, index) => {\r\n    if (key.concat) {\r\n      const arr = key.concat.map((i) => {\r\n        return e[i];\r\n      });\r\n\r\n      return {\r\n        text: arr.join(\"-\"),\r\n        value: e[key.id],\r\n        key: index,\r\n        model: e,\r\n      };\r\n    } else {\r\n      return { text: e[key.text], value: e[key.id], key: index, model: e };\r\n    }\r\n  });\r\n\r\n  return res;\r\n};\r\n/**\r\n *\r\n * @param {object} empresa\r\n * @param {*} key\r\n * @param {*} endPoint\r\n * @param {*} params\r\n * @param {*} searchQuery\r\n * @param {*} moreRouteParams\r\n * @param {*} venta\r\n * @returns\r\n */\r\nconst getOptions = async (\r\n  empresa,\r\n  key,\r\n  endPoint,\r\n  params,\r\n  searchQuery = null,\r\n  moreRouteParams,\r\n  venta\r\n) => {\r\n  let query;\r\n\r\n  console.log({ searchQuery });\r\n\r\n  if (params?.empresa_id) {\r\n    endPoint = endPoint + \"/\" + empresa.empresa.id;\r\n  }\r\n  if (params?.local_id) {\r\n    endPoint = endPoint + \"/\" + empresa.id;\r\n  }\r\n\r\n  if (moreRouteParams) {\r\n    const values = Object.keys(moreRouteParams).map((v) => {\r\n      return venta[v];\r\n    });\r\n    for (let i = 0; i < values; i++) {\r\n      endPoint = endPoint + \"/\" + values[i];\r\n    }\r\n  }\r\n\r\n  if (typeof searchQuery === \"string\" && searchQuery.length < 3) {\r\n    return false;\r\n  }\r\n\r\n  if (typeof searchQuery === \"string\" && searchQuery.length > 3) {\r\n    query = { filter: [[key.text, \"like\", \"%\" + searchQuery + \"%\"]] };\r\n  }\r\n\r\n  if (typeof searchQuery === \"object\") {\r\n    query = searchQuery;\r\n  }\r\n\r\n  query = searchQuery ? query : null;\r\n\r\n  console.log(query, searchQuery);\r\n\r\n  const response = await productoService.show(endPoint, query);\r\n  let data = await parseData(response, key);\r\n  return data;\r\n};\r\n\r\nconst SearchProductos = (\r\n  { model, moreRouteParams, empresaContexto, venta, setItemSelected, width },\r\n  ref\r\n) => {\r\n  const location = useLocation();\r\n\r\n  const [state, setState] = useState({\r\n    isFetching: false,\r\n    multiple: false,\r\n    searchQuery: null,\r\n    value: \"\",\r\n    options: [],\r\n  });\r\n\r\n  const handleSearchChange = async (e, element) => {\r\n    console.log({ e }, { element });\r\n\r\n    setState({ isFetching: true });\r\n    const options = await getOptions(\r\n      empresaContexto,\r\n      model.keys,\r\n      model.endPoint,\r\n      model.params,\r\n      element.searchQuery,\r\n      moreRouteParams,\r\n      venta\r\n    );\r\n    setState({ ...state, ...{ options, isFetching: false } });\r\n  };\r\n\r\n  const handleChange = (e, element) => {\r\n    const selected = element.options.find((e) => e.value === element.value);\r\n    setItemSelected(selected);\r\n  };\r\n\r\n  const inputRef = useRef(null);\r\n\r\n  const open = () => {\r\n    console.log(inputRef);\r\n    // debugger;\r\n    inputRef.current.open();\r\n  };\r\n\r\n  useImperativeHandle(ref, () => ({\r\n    // methods connected to `ref`\r\n    open: () => {\r\n      setTimeout(() => {\r\n        open();\r\n      }, 200);\r\n    },\r\n  }));\r\n\r\n  return (\r\n    <Dropdown\r\n      id={\"search_producto\"}\r\n      ref={inputRef}\r\n      fluid\r\n      selection\r\n      clearable\r\n      multiple={false}\r\n      search\r\n      options={state.options}\r\n      placeholder=\"🔍 Buscar Producto ó Servicio\"\r\n      onChange={handleChange}\r\n      onSearchChange={_.debounce(handleSearchChange, 1000)}\r\n      loading={state.isFetching}\r\n      noResultsMessage={\r\n        <Link\r\n          to={\"/welcome/productos/create\"}\r\n          state={{\r\n            backgroundLocation: location,\r\n            model: {\r\n              local_id: empresaContexto.id,\r\n              empresa_id: empresaContexto.empresa.id,\r\n            },\r\n          }}\r\n        >\r\n          Agregar Nuevo Producto ó Servicio\r\n        </Link>\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nexport default forwardRef(SearchProductos);\r\n","class Calcular {\r\n  constructor(\r\n    modo,\r\n    limite_detraccion,\r\n    por_detraccion,\r\n    por_percepcion,\r\n    limite_percepcion,\r\n    por_igv,\r\n    decimales,\r\n    editionMode\r\n  ) {\r\n    this.modo = modo;\r\n    this.limite_detraccion = limite_detraccion;\r\n    this.por_detraccion = por_detraccion;\r\n    this.por_percepcion = por_percepcion;\r\n    this.limite_percepcion = limite_percepcion;\r\n    this.por_igv = por_igv;\r\n    this.decimales = decimales;\r\n    this.total_afecto = 0;\r\n    this.total_inafecto = 0;\r\n    this.total_igv = 0;\r\n    this.total_isc = 0;\r\n    this.total_exonerado = 0;\r\n    this.total_descuento_lineal = 0;\r\n    this.total_descuento_global = 0;\r\n    this.total_documento = 0;\r\n    this.total_percepcion = 0;\r\n    this.total_detraccion = 0;\r\n    this.total_documento_fin = 0;\r\n    this.total_peso = 0;\r\n    this.editionMode = editionMode;\r\n  }\r\n\r\n  roundOff(num) {\r\n    /**cantidad de decimales en el background */\r\n    const x = Math.pow(10, 8);\r\n    return Math.round(num * x) / x;\r\n  }\r\n\r\n  /**\r\n   * Calcular valores de un item\r\n   * @example\r\n   * // returns 2\r\n   * calcular.item({id:2});\r\n   * @example\r\n   * // returns 3\r\n   * calcular.method({id:5});\r\n   * @returns {Object} Returns the value of x for the equation.\r\n   */\r\n  item(item, precio) {\r\n    let igv = 0;\r\n\r\n    if (item.afecto) {\r\n      console.log(\"afecto\");\r\n      item = this.isc(item, precio);\r\n      item = this.igv(item, precio);\r\n      item = this.detraccion(item, precio);\r\n      item.afecto = 1;\r\n      // item = this.descuento(item, precio);\r\n    } else {\r\n      console.log(\"inafecto\");\r\n      item = this.inafecto(item, precio);\r\n      item.afecto = 0;\r\n    }\r\n\r\n    /**\r\n     * Afecto\r\n     */\r\n\r\n    precio = { ...precio, ...item };\r\n    precio.id = undefined;\r\n    // precio.producto_id = item.id;\r\n    // precio.costo_venta = costo_venta;\r\n    // precio.precio_unitario = costo_venta;\r\n    // precio.monto_base_igv = costo_venta;\r\n    // precio.igv = igv;\r\n    // precio.monto_igv = igv;\r\n    // precio.por_utilidad = por_utilidad;\r\n    // precio.monto_precio_unitario = costo_venta;\r\n\r\n    if (!!this.editionMode) {\r\n      //update\r\n      precio.producto_id = item?.id;\r\n      if (precio.is_detail) {\r\n        precio.producto_id = precio?.producto?.id;\r\n        console.log(\">>>>>>>>>>>>> UPDATED >>>>>>>>>>>>>>>>>\");\r\n      }\r\n    } else {\r\n      //create\r\n      precio.producto_id = item?.id;\r\n      if (precio.is_detail) {\r\n        precio.producto_id = precio?.producto?.id;\r\n      }\r\n      console.log(\">>>>>>>>>>>>> CREACION >>>>>>>>>>>>>>>>>\");\r\n    }\r\n    console.log(\r\n      \">>>>>>>>>>>>ID\",\r\n      precio.producto_id,\r\n      precio?.producto?.id,\r\n      item?.id\r\n    );\r\n    // if (precio.is_detail) {\r\n    //   precio.producto_id = !!this.editionMode ? item?.id : precio?.producto?.id;\r\n    // } else {\r\n    //   precio.producto_id = !!this.editionMode ? precio?.producto?.id : item?.id;\r\n    // }\r\n\r\n    precio.total_impuestos = igv;\r\n    precio.val_descuento = precio.val_descuento || 0;\r\n    precio.tipo_afecto_igv = precio.tipo_afecto_igv || 10;\r\n    precio.tipo_producto_id = item.tipo_producto_id;\r\n    precio.precio_unitario = item.precio_venta - item.igv;\r\n    return precio;\r\n  }\r\n  isc(item, precio) {\r\n    if (!!precio && !!precio.por_isc) {\r\n      if (this.modo === \"venta\") {\r\n        precio.isc = (precio?.precio_venta * item?.por_isc) / 100;\r\n      } else {\r\n        precio.isc = 0;\r\n      }\r\n    } else {\r\n      precio.isc = 0;\r\n    }\r\n    return item;\r\n  }\r\n  igv(item, precio) {\r\n    if (this.modo === \"venta\") {\r\n      precio.monto_base_igv = precio.precio_venta + precio.isc;\r\n      item.costo_venta = this.roundOff(\r\n        precio.precio_venta / (this.por_igv / 100 + 1)\r\n      );\r\n      item.igv = item.costo_venta * (this.por_igv / 100);\r\n      item.por_utilidad = this.roundOff(\r\n        (parseFloat(item.costo_venta) / precio.costo_compra) * 100 - 100\r\n      );\r\n    } else {\r\n      precio.monto_base_igv = precio.precio_venta;\r\n    }\r\n    item.monto_igv =\r\n      1.18 * precio.monto_base_igv -\r\n      precio.monto_base_igv -\r\n      (precio.val_descuento - precio.val_descuento / 1.18);\r\n    return item;\r\n  }\r\n  inafecto(item, precio) {\r\n    if (this.modo === \"venta\") {\r\n      precio.monto_base_igv = precio.precio_venta;\r\n\r\n      item.costo_venta = this.roundOff(precio.precio_venta);\r\n\r\n      item.igv = 0;\r\n      item.por_utilidad = this.roundOff(\r\n        (parseFloat(item.costo_venta) / precio.costo_compra) * 100 - 100\r\n      );\r\n    } else {\r\n      precio.monto_base_igv = precio.precio_venta;\r\n    }\r\n    item.monto_igv = 0;\r\n    item.isc = 0;\r\n    return item;\r\n  }\r\n\r\n  detraccion(item, precio) {\r\n    if (item.tipo_producto_id === 2 || item.por_detraccion > 0) {\r\n      item.check_detraccion_amount =\r\n        (this.roundOff(precio.costo_venta) +\r\n          this.roundOff(precio.isc) +\r\n          this.roundOff(precio.igv)) *\r\n        this.roundOff(precio.cantidad);\r\n      if (item.tipo_producto_id === 1) {\r\n        /***\r\n         * PRODUCTOS\r\n         */\r\n        item.detraccion =\r\n          item.check_detraccion_amount *\r\n          this.roundOff(item.por_detraccion / 100);\r\n        return item;\r\n      }\r\n\r\n      if (item.tipo_producto_id === 2) {\r\n        /***\r\n         * SERVICIOS\r\n         */\r\n        item.detraccion =\r\n          item.check_detraccion_amount *\r\n          this.roundOff(this.por_detraccion / 100);\r\n        return item;\r\n      }\r\n    } else {\r\n      item.detraccion = 0;\r\n      item.check_detraccion_amount = 0;\r\n      return item;\r\n    }\r\n  }\r\n  descuentoEfectivo(item) {\r\n    item.por_descuento = this.roundOff(\r\n      (100 * item.val_descuento) / (item.costo_venta + item.igv)\r\n    ).toFixed(2);\r\n    return item;\r\n  }\r\n\r\n  descuentoPorcentaje(item) {\r\n    item.val_descuento = this.roundOff(\r\n      (item.por_descuento * (item.costo_venta + item.igv)) / 100\r\n    ).toFixed(2);\r\n    return item;\r\n  }\r\n\r\n  totales(detalles, descuento_global) {\r\n    // return new Promise((res, reject) => {\r\n    this.total_afecto = 0;\r\n    this.total_inafecto = 0;\r\n    this.total_igv = 0;\r\n    this.total_isc = 0;\r\n    this.total_exonerado = 0;\r\n    this.total_descuento_global = descuento_global;\r\n    this.total_descuento_lineal = 0;\r\n    this.total_documento = 0;\r\n    this.total_percepcion = 0;\r\n    this.total_detraccion = 0;\r\n    this.total_documento_fin = 0;\r\n    this.total_peso = 0;\r\n    this.check_detraccion_amount = 0;\r\n\r\n    for (let i = 0; i < detalles.length; i++) {\r\n      const item = detalles[i];\r\n      if (!!item.producto.afecto || !!item.afecto) {\r\n        /**Afecto */\r\n\r\n        this.total_afecto += this.roundOff(\r\n          item.precio_unitario * parseFloat(item.cantidad)\r\n        );\r\n\r\n        this.total_igv += this.roundOff(item.igv * parseFloat(item.cantidad));\r\n      } else {\r\n        /**Inafecto */\r\n        this.total_inafecto += this.roundOff(\r\n          item.precio_unitario * parseFloat(item.cantidad)\r\n        );\r\n        this.total_igv += this.roundOff(item.igv * parseFloat(item.cantidad));\r\n      }\r\n\r\n      /**Peso */\r\n      this.total_peso += this.roundOff(\r\n        item?.producto?.peso * parseFloat(item?.cantidad)\r\n      );\r\n\r\n      /**ISC */\r\n      this.total_isc +=\r\n        this.roundOff(item?.isc) * this.roundOff(item?.cantidad);\r\n\r\n      /**Detraccion */\r\n      this.check_detraccion_amount += this.roundOff(\r\n        item.check_detraccion_amount\r\n      );\r\n\r\n      this.total_detraccion += this.roundOff(item.detraccion);\r\n\r\n      /**Descuento Lineal*/\r\n      this.total_descuento_lineal +=\r\n        this.roundOff(item?.val_descuento) * this.roundOff(item?.cantidad);\r\n\r\n      /**\r\n       *\r\n       * END FOR\r\n       */\r\n    }\r\n\r\n    if (this.check_detraccion_amount > this.limite_detraccion) {\r\n      //this.total_detraccion = this.total_detraccion;\r\n    } else {\r\n      this.total_detraccion = 0;\r\n    }\r\n\r\n    this.total_documento = this.roundOff(\r\n      this.roundOff(this.total_igv) +\r\n        this.roundOff(this.total_afecto) +\r\n        this.roundOff(this.total_inafecto) +\r\n        this.roundOff(this.total_isc)\r\n    );\r\n\r\n    if (this.por_percepcion > 0) {\r\n      this.total_percepcion =\r\n        this.total_documento * (this.roundOff(this.por_percepcion) / 100);\r\n    } else {\r\n      this.total_percepcion = 0;\r\n    }\r\n\r\n    this.total_documento_fin =\r\n      this.total_documento +\r\n      this.total_percepcion -\r\n      this.roundOff(this.total_descuento_global) -\r\n      this.roundOff(this.total_descuento_lineal);\r\n\r\n    return {\r\n      total_afecto: this.total_afecto,\r\n      total_inafecto: this.total_inafecto,\r\n      total_igv: this.total_igv,\r\n      total_isc: this.total_isc,\r\n      total_exonerado: this.total_exonerado,\r\n      total_descuento_lineal: this.total_descuento_lineal,\r\n      total_descuento_global: this.roundOff(descuento_global),\r\n      total_documento: this.total_documento,\r\n      total_percepcion: this.total_percepcion,\r\n      total_detraccion: this.total_detraccion,\r\n      total_documento_fin: this.total_documento_fin,\r\n      total_peso: this.total_peso,\r\n    };\r\n\r\n    // });\r\n  }\r\n}\r\n\r\nexport default Calcular;\r\n","import moment from \"moment\";\r\n\r\nexport default {\r\n  format: function (date) {\r\n    let ss = date.split(\" \");\r\n    let s = ss[0].split(\"-\");\r\n    return `${s[2]}/${s[1]}/${s[0]}`;\r\n  },\r\n  /**\r\n   *\r\n   * @param {new Date('')} date\r\n   * @return string date\r\n   */\r\n  formatToInputSemantic: function (date) {\r\n    return moment(date).format('YYYY-MM-DD');\r\n  },\r\n};\r\n","import React, { useEffect } from \"react\";\r\nimport {\r\n  StyleSheet,\r\n  Font,\r\n  Document,\r\n  Page,\r\n  Text,\r\n  View,\r\n  Image,\r\n} from \"@react-pdf/renderer\";\r\nimport writtenNumber from \"written-number\";\r\nimport formatFecha from \"../libs/formatFecha\";\r\nimport Path from \"../services/_path\";\r\nrequire(\"dotenv\");\r\n\r\nconst ViewFormatA4 = ({ empresa, status, qrCodeBase64, impresion }) => {\r\nconsole.log({empresa})\r\n  debugger\r\n\r\n  const tableHeader = {\r\n    fontSize: \"8px\",\r\n  };\r\n\r\n  const columns = {\r\n    padding: \"5\",\r\n  };\r\n\r\n  const textPadding = {\r\n    padding: \"2\",\r\n  };\r\n  const textPaddingTicker = {\r\n    padding: \"1px\",\r\n  };\r\n  const capitalize = (text) => {\r\n    return text.charAt(0).toUpperCase() + text.slice(1);\r\n  };\r\n\r\n  return impresion.size === \"A4\" ? (\r\n    <Document>\r\n      <Page\r\n        size={\"A4\"}\r\n        style={{\r\n          paddingTop: \"35\",\r\n          paddingBottom: \"65\",\r\n          paddingHorizontal: \"35\",\r\n          fontSize: \"9px\",\r\n        }}\r\n      >\r\n        {/**First Level Header */}\r\n        <View\r\n          style={{\r\n            display: \"flex\",\r\n            flexDirection: \"row\",\r\n            justifyContent: \"space-between\",\r\n          }}\r\n          fixed\r\n        >\r\n          <View>\r\n            <Image\r\n              source={{\r\n                uri: Path() + \"/logo/\" + empresa.empresa.id,\r\n              }}\r\n              style={{ width: \"100px\", maxWidth: \"100px\", maxHeigh: \"100px\" }}\r\n            />\r\n          </View>\r\n          <View style={{ padding: \"10px\", fontSize: \"7px\" }}>\r\n            <Text style={textPadding}>\r\n              {empresa?.empresa?.nombre_comercial}\r\n            </Text>\r\n            <Text style={textPadding}>{empresa?.empresa?.direccion}</Text>\r\n            <Text style={textPadding}>\r\n              Email: {empresa?.empresa?.email} Tlf: {empresa?.empresa?.telefono}{\" \"}\r\n              Cel.{empresa?.empresa?.celular}{\" \"}\r\n            </Text>\r\n          </View>\r\n          <View\r\n            style={{\r\n              border: \"1px\",\r\n              padding: \"10px\",\r\n              alignItems: \"center\",\r\n            }}\r\n          >\r\n            <Text>RUC {empresa?.empresa?.ruc}</Text>\r\n            <Text>{status?.serie?.descripcion}</Text>\r\n            <Text>\r\n              {status?.serie?.serie} {status?.correlativo}\r\n            </Text>\r\n          </View>\r\n        </View>\r\n\r\n        {/**Secondary Level Document Details */}\r\n        <View\r\n          style={{\r\n            display: \"flex\",\r\n            flexDirection: \"row\",\r\n            alignItems: \"space-between\",\r\n            border: \"1px\",\r\n            padding: \"5\",\r\n            marginTop: \"5\",\r\n          }}\r\n          fixed\r\n        >\r\n          <View\r\n            style={{\r\n              display: \"flex\",\r\n              flexDirection: \"column\",\r\n              justifyContent: \"\",\r\n              minWidth: \"50%\",\r\n              maxWidth: \"50%\",\r\n              fontSize: \"7px\",\r\n              alignItems: \"flex-start\",\r\n            }}\r\n          >\r\n            <Text style={textPadding}>\r\n              Cliente: {status?.cliente?.nombre_comercial}\r\n            </Text>\r\n            <Text style={textPadding}>\r\n              {status?.cliente?.tipo_documento_identy_id === 1\r\n                ? \"DNI\"\r\n                : status?.cliente?.tipo_documento_identy_id === 2\r\n                ? \"RUC\"\r\n                : \"Documento\"}\r\n              : {status?.cliente?.numero_documento}\r\n            </Text>\r\n            <Text style={textPadding}>\r\n              Dirección: {status?.cliente?.direccion}\r\n            </Text>\r\n            <Text style={textPadding}>\r\n              Ubigeo: {status?.cliente?.ubigeo?.provincia}{\" \"}\r\n              {status?.cliente?.ubigeo.distrito}{\" \"}\r\n              {status?.cliente?.ubigeo.departamento}\r\n            </Text>\r\n          </View>\r\n\r\n          <View\r\n            style={{\r\n              display: \"flex\",\r\n              flexDirection: \"column\",\r\n              justifyContent: \"space-between\",\r\n              minWidth: \"50%\",\r\n              maxWidth: \"50%\",\r\n              fontSize: \"7px\",\r\n            }}\r\n          >\r\n            <Text style={textPadding}>\r\n              Fecha Emi: {formatFecha.format(status?.fecha_emision || \"\")}\r\n            </Text>\r\n            <Text style={textPadding}>\r\n              Fecha Reg: {formatFecha.format(status?.fecha_registro || \"\")}\r\n            </Text>\r\n            <Text style={textPadding}>Condición: Crédito</Text>\r\n            <Text style={textPadding}>&nbsp;</Text>\r\n          </View>\r\n        </View>\r\n        {/**3er Level Table Header */}\r\n        <View\r\n          style={{\r\n            display: \"flex\",\r\n            flexDirection: \"row\",\r\n            alignItems: \"space-evenly\",\r\n            marginTop: \"5px\",\r\n          }}\r\n          fixed\r\n        >\r\n          <View\r\n            style={{\r\n              ...columns,\r\n              ...{\r\n                width: 50,\r\n                borderBottom: \"1px\",\r\n                borderLeft: \"1px\",\r\n                borderTop: \"1px\",\r\n              },\r\n            }}\r\n          >\r\n            <Text\r\n              style={{\r\n                ...tableHeader,\r\n                ...{ textAlign: \"center\" },\r\n              }}\r\n            >\r\n              Código\r\n            </Text>\r\n          </View>\r\n\r\n          <View\r\n            style={{\r\n              ...columns,\r\n              ...{\r\n                width: 310,\r\n                borderBottom: \"1px\",\r\n                borderLeft: \"1px\",\r\n                borderTop: \"1px\",\r\n              },\r\n            }}\r\n          >\r\n            <Text\r\n              style={{\r\n                ...tableHeader,\r\n              }}\r\n            >\r\n              Descripcion\r\n            </Text>\r\n          </View>\r\n\r\n          <View\r\n            style={{\r\n              ...columns,\r\n              ...{\r\n                width: 50,\r\n                borderBottom: \"1px\",\r\n                borderLeft: \"1px\",\r\n                borderTop: \"1px\",\r\n              },\r\n            }}\r\n          >\r\n            <Text\r\n              style={{\r\n                ...tableHeader,\r\n                ...{ textAlign: \"right\" },\r\n              }}\r\n            >\r\n              Cant.\r\n            </Text>\r\n          </View>\r\n\r\n          <View\r\n            style={{\r\n              ...columns,\r\n              ...{\r\n                width: 70,\r\n                borderBottom: \"1px\",\r\n                borderLeft: \"1px\",\r\n                borderTop: \"1px\",\r\n              },\r\n            }}\r\n          >\r\n            <Text\r\n              style={{\r\n                ...tableHeader,\r\n                ...{ textAlign: \"right\" },\r\n              }}\r\n            >\r\n              Present.\r\n            </Text>\r\n          </View>\r\n\r\n          <View\r\n            style={{\r\n              ...columns,\r\n              ...{\r\n                width: 70,\r\n                borderBottom: \"1px\",\r\n                borderLeft: \"1px\",\r\n                borderTop: \"1px\",\r\n              },\r\n            }}\r\n          >\r\n            <Text\r\n              style={{\r\n                ...tableHeader,\r\n                ...{ textAlign: \"right\" },\r\n              }}\r\n            >\r\n              Precio\r\n            </Text>\r\n          </View>\r\n          <View\r\n            style={{\r\n              ...columns,\r\n              ...{\r\n                width: 70,\r\n                borderBottom: \"1px\",\r\n                borderLeft: \"1px\",\r\n                borderTop: \"1px\",\r\n                borderRight: \"1px\",\r\n              },\r\n            }}\r\n          >\r\n            <Text\r\n              style={{\r\n                ...tableHeader,\r\n                ...{ textAlign: \"right\" },\r\n              }}\r\n            >\r\n              Importe\r\n            </Text>\r\n          </View>\r\n        </View>\r\n        {status?.detalles.map((e, i, arr) => {\r\n          const last = arr.length;\r\n          return (\r\n            <View\r\n              key={i}\r\n              style={{\r\n                display: \"flex\",\r\n                flexDirection: \"row\",\r\n                marginBottom: \"1\",\r\n                fontSize: \"9px\",\r\n              }}\r\n            >\r\n              <View\r\n                style={{\r\n                  ...columns,\r\n                  ...{\r\n                    width: 50,\r\n                    marginTop: \"-1px\",\r\n                    borderLeft: \"1px\",\r\n                    borderBottom: last === i + 1 ? \"1px\" : 0,\r\n                  },\r\n                }}\r\n              >\r\n                <Text\r\n                  style={{\r\n                    ...tableHeader,\r\n                    ...{ textAlign: \"center\" },\r\n                  }}\r\n                >\r\n                  {e?.producto?.codigo}\r\n                </Text>\r\n              </View>\r\n\r\n              <View\r\n                style={{\r\n                  ...columns,\r\n                  ...{\r\n                    width: 310,\r\n                    marginTop: \"-1px\",\r\n                    borderLeft: \"1px\",\r\n                    borderBottom: last === i + 1 ? \"1px\" : 0,\r\n                  },\r\n                }}\r\n              >\r\n                <Text\r\n                  style={{\r\n                    ...tableHeader,\r\n                  }}\r\n                >\r\n                  {e?.producto?.nombre}\r\n                </Text>\r\n              </View>\r\n\r\n              <View\r\n                style={{\r\n                  ...columns,\r\n                  ...{\r\n                    width: 50,\r\n                    marginTop: \"-1px\",\r\n                    borderLeft: \"1px\",\r\n                    borderBottom: last === i + 1 ? \"1px\" : 0,\r\n                  },\r\n                }}\r\n              >\r\n                <Text\r\n                  style={{\r\n                    ...tableHeader,\r\n                    ...{ textAlign: \"right\" },\r\n                  }}\r\n                >\r\n                  {e?.cantidad}\r\n                </Text>\r\n              </View>\r\n\r\n              <View\r\n                style={{\r\n                  ...columns,\r\n                  ...{\r\n                    width: 70,\r\n                    marginTop: \"-1px\",\r\n                    borderLeft: \"1px\",\r\n                    borderBottom: last === i + 1 ? \"1px\" : 0,\r\n                  },\r\n                }}\r\n              >\r\n                <Text\r\n                  style={{\r\n                    ...tableHeader,\r\n                    ...{ textAlign: \"right\" },\r\n                  }}\r\n                >\r\n                  {e?.presentacion?.nombre}\r\n                </Text>\r\n              </View>\r\n\r\n              <View\r\n                style={{\r\n                  ...columns,\r\n                  ...{\r\n                    width: 70,\r\n                    marginTop: \"-1px\",\r\n                    borderLeft: \"1px\",\r\n                    borderBottom: last === i + 1 ? \"1px\" : 0,\r\n                  },\r\n                }}\r\n              >\r\n                <Text\r\n                  style={{\r\n                    ...tableHeader,\r\n                    ...{ textAlign: \"right\" },\r\n                  }}\r\n                >\r\n                  {e?.precio_unitario?.toFixed(3)}\r\n                </Text>\r\n              </View>\r\n              <View\r\n                style={{\r\n                  ...columns,\r\n                  ...{\r\n                    width: 70,\r\n                    marginTop: \"-2px\",\r\n                    borderLeft: \"1px\",\r\n                    borderRight: \"1px\",\r\n                    borderBottom: last === i + 1 ? \"1px\" : 0,\r\n                  },\r\n                }}\r\n              >\r\n                <Text\r\n                  style={{\r\n                    ...tableHeader,\r\n                    ...{ textAlign: \"right\" },\r\n                  }}\r\n                >\r\n                  {(e?.cantidad * e?.precio_unitario).toFixed(3)}\r\n                </Text>\r\n              </View>\r\n            </View>\r\n          );\r\n        })}\r\n\r\n        {/**Last Level Footer */}\r\n        <View\r\n          style={{\r\n            display: \"flex\",\r\n            justifyContent: \"space-between\",\r\n            flexDirection: \"row\",\r\n            marginBottom: \"1\",\r\n            fontSize: \"9px\",\r\n            padding: \"10\",\r\n          }}\r\n        >\r\n          <View>\r\n            <Text style={textPadding}>\r\n              Son:{\" \"}\r\n              {capitalize(\r\n                writtenNumber(status?.total_documento_fin, { lang: \"es\" })\r\n              )}{\" \"}\r\n              con 00/100 {status?.moneda?.nombre.toLowerCase()}\r\n            </Text>\r\n\r\n            <Image\r\n              source={{ uri: qrCodeBase64 }}\r\n              style={{ width: \"80px\", marginBottom: \"10px\" }}\r\n            />\r\n\r\n            {status?.detalle && (\r\n              <Text style={textPadding}>\r\n                {`Observación: \r\n              ${status?.detalle}`}\r\n              </Text>\r\n            )}\r\n\r\n            {status?.ubigeo_partida && (\r\n              <Text style={textPadding}>\r\n                {`Partida: ${status?.ubigeo_partida?.provincia} ${status?.ubigeo_partida.distrito} ${status?.ubigeo_partida.distrito} - ${status?.direccion_partida}`}\r\n              </Text>\r\n            )}\r\n\r\n            {status?.ubigeo_destino && (\r\n              <Text style={textPadding}>\r\n                {`Destino: ${status?.ubigeo_destino?.provincia} ${status?.ubigeo_destino.distrito} ${status?.ubigeo_destino.distrito} - ${status?.direccion_destino}`}\r\n              </Text>\r\n            )}\r\n\r\n            {status?.transportista_id && (\r\n              <Text style={textPadding}>\r\n                {`Transportista:\r\n                Razón Social: ${status?.transportista.nombre_comercial}\r\n                Documento: ${status?.transportista.numero_documento}\r\n                Teléfono ${status?.transportista.telefono}`}\r\n              </Text>\r\n            )}\r\n\r\n            {status?.vehiculo_id && (\r\n              <Text style={textPadding}>\r\n                {`Vehiculo:\r\n                Marca: ${status?.vehiculo.marca}\r\n                Placa: ${status?.vehiculo.placa}`}\r\n              </Text>\r\n            )}\r\n\r\n            {status?.motivos_sunat_guia_remision && (\r\n              <Text style={textPadding}>\r\n                {`Motivo: ${status?.motivos_sunat_guia_remision.descripcion}`}\r\n              </Text>\r\n            )}\r\n\r\n            {status?.documento_relacion &&\r\n              status?.documento_relacion.map((vv, k) => (\r\n                <Text style={textPadding}>\r\n                  {`Documento Relacionado: ${\r\n                    (vv?.documento_relacion.uniqueserie).split(\"-\")[2]\r\n                  } ${vv?.documento_relacion.correlativo}`}\r\n                </Text>\r\n              ))}\r\n\r\n            {status?.numero_expediente && (\r\n              <Text style={textPadding}>\r\n                {`Numero de Expediente: ${status?.numero_expediente}`}\r\n              </Text>\r\n            )}\r\n\r\n            {status?.orden_compra && (\r\n              <Text style={textPadding}>\r\n                {`Orden de Compra: ${status?.orden_compra}`}\r\n              </Text>\r\n            )}\r\n\r\n            {status?.codigo_unidad_ejecutora && (\r\n              <Text style={textPadding}>\r\n                {`Código de unidad Ejecutora: ${status?.codigo_unidad_ejecutora}`}\r\n              </Text>\r\n            )}\r\n\r\n            {status?.numero_proceso_seleccion && (\r\n              <Text style={textPadding}>\r\n                {`Numero de Proceso de Selección: ${status?.numero_proceso_seleccion}`}\r\n              </Text>\r\n            )}\r\n\r\n            {status?.numero_contrato && (\r\n              <Text style={textPadding}>\r\n                {`Numero de Contrato: ${status?.numero_contrato}`}\r\n              </Text>\r\n            )}\r\n\r\n            {empresa?.empresa?.detalle && (\r\n              <Text style={textPadding}>{empresa?.empresa?.detalle} </Text>\r\n            )}\r\n          </View>\r\n\r\n          <View\r\n            style={{\r\n              fontSize: \"8px\",\r\n              flexDirection: \"row\",\r\n              justifyContent: \"space-between\",\r\n            }}\r\n          >\r\n            <View style={{ flexDirection: \"column\", width: \"50px\" }}>\r\n              {status?.tipo_operacion_id === 3 && (\r\n                <Text style={{ ...textPadding, ...{ borderBottom: \"1px\" } }}>\r\n                  Peso\r\n                </Text>\r\n              )}\r\n              <Text style={{ ...textPadding, ...{ borderBottom: \"1px\" } }}>\r\n                Afecto\r\n              </Text>\r\n              <Text style={{ ...textPadding, ...{ borderBottom: \"1px\" } }}>\r\n                Inafecto\r\n              </Text>\r\n              <Text style={{ ...textPadding, ...{ borderBottom: \"1px\" } }}>\r\n                ISC\r\n              </Text>\r\n              <Text style={{ ...textPadding, ...{ borderBottom: \"1px\" } }}>\r\n                IGV\r\n              </Text>\r\n              <Text style={{ ...textPadding, ...{ borderBottom: \"1px\" } }}>\r\n                Total\r\n              </Text>\r\n              <Text style={{ ...textPadding, ...{ borderBottom: \"1px\" } }}>\r\n                Percepción\r\n              </Text>\r\n              <Text style={{ ...textPadding, ...{ borderBottom: \"1px\" } }}>\r\n                Total\r\n              </Text>\r\n            </View>\r\n            <View\r\n              style={{\r\n                flexDirection: \"column\",\r\n                width: \"80px\",\r\n                textAlign: \"right\",\r\n              }}\r\n            >\r\n              {status?.tipo_operacion_id === 3 && (\r\n                <Text style={{ ...textPadding, ...{ borderBottom: \"1px\" } }}>\r\n                  {status?.total_peso?.toFixed(3)}\r\n                </Text>\r\n              )}\r\n              <Text style={{ ...textPadding, ...{ borderBottom: \"1px\" } }}>\r\n                {status?.moneda?.simbolo} {status?.total_afecto?.toFixed(3)}\r\n              </Text>\r\n              <Text style={{ ...textPadding, ...{ borderBottom: \"1px\" } }}>\r\n                {status?.moneda?.simbolo} {status?.total_inafecto?.toFixed(3)}\r\n              </Text>\r\n              <Text style={{ ...textPadding, ...{ borderBottom: \"1px\" } }}>\r\n                {status?.moneda?.simbolo} {status?.total_isc?.toFixed(3)}\r\n              </Text>\r\n              <Text style={{ ...textPadding, ...{ borderBottom: \"1px\" } }}>\r\n                {status?.moneda?.simbolo} {status?.total_igv?.toFixed(3)}\r\n              </Text>\r\n              <Text style={{ ...textPadding, ...{ borderBottom: \"1px\" } }}>\r\n                {status?.moneda?.simbolo} {status?.total_documento?.toFixed(3)}\r\n              </Text>\r\n              <Text style={{ ...textPadding, ...{ borderBottom: \"1px\" } }}>\r\n                {status?.moneda?.simbolo} {status?.total_percepcion?.toFixed(3)}\r\n              </Text>\r\n              <Text style={{ ...textPadding, ...{ borderBottom: \"1px\" } }}>\r\n                {status?.moneda?.simbolo}{\" \"}\r\n                {status?.total_documento_fin?.toFixed(3)}\r\n              </Text>\r\n            </View>\r\n            {/* <Text style={textPadding}>\r\n              Afecto: {status?.moneda?.simbolo}{\" \"}\r\n              {status?.total_afecto.toFixed(3)}\r\n            </Text>\r\n            <Text style={textPadding}>\r\n              Inafecto: {status?.moneda?.simbolo}{\" \"}\r\n              {status?.total_inafecto.toFixed(3)}\r\n            </Text>\r\n            <Text style={textPadding}>\r\n              ISC: {status?.moneda?.simbolo} {status?.total_isc.toFixed(3)}\r\n            </Text>\r\n            <Text style={textPadding}>\r\n              IGV/IVA: {status?.moneda?.simbolo} {status?.total_igv}{\" \"}\r\n            </Text>\r\n            <Text style={textPadding}>\r\n              Total Descuentos: {status?.moneda?.simbolo}{\" \"}\r\n              {status?.total_descuento.toFixed(3)}\r\n            </Text>\r\n            <Text style={textPadding}>\r\n              Total Documento: {status?.moneda?.simbolo}{\" \"}\r\n              {status?.total_documento.toFixed(3)}\r\n            </Text>\r\n            <Text style={textPadding}>\r\n              Percepción: {status?.moneda?.simbolo}{\" \"}\r\n              {status?.total_percepcion.toFixed(3)}\r\n            </Text>\r\n            <Text style={textPadding}>\r\n              Total a Pagar: {status?.moneda?.simbolo}{\" \"}\r\n              {status?.total_documento_fin.toFixed(3)}\r\n            </Text> */}\r\n          </View>\r\n        </View>\r\n        <View\r\n          style={{\r\n            position: \"absolute\",\r\n            fontSize: 12,\r\n            bottom: 30,\r\n            left: 0,\r\n            right: 0,\r\n            textAlign: \"center\",\r\n            color: \"grey\",\r\n          }}\r\n          fixed\r\n        >\r\n          <Text\r\n            style={{ color: \"black\", fontSize: \"10px\", top: 50 }}\r\n            render={({ pageNumber, totalPages }) =>\r\n              `${pageNumber} / ${totalPages}\r\n              `\r\n            }\r\n          ></Text>\r\n          <Text style={{ fontSize: \"7px\" }}>\r\n            Consulta este comprobante en FivipSystem.com/comprobante\r\n          </Text>\r\n\r\n          <Image\r\n            source={{\r\n              uri: Path() + \"/logo/footer_fivip\",\r\n            }}\r\n            style={{\r\n              width: \"100px\",\r\n              maxWidth: \"100px\",\r\n              maxHeigh: \"100px\",\r\n              left: 465,\r\n            }}\r\n          />\r\n        </View>\r\n      </Page>\r\n    </Document>\r\n  ) : impresion.size === \"88mm\" ? (\r\n    <Document>\r\n      <Page\r\n        size={[72.1, 297]}\r\n        style={{\r\n          fontSize: \"3px\",\r\n        }}\r\n      >\r\n        <View\r\n          style={{ maxWidth: \"72.1 dpi\", maxHeight: \"297 dpi\", padding: \"3px\" }}\r\n        >\r\n          <View\r\n            style={{\r\n              alignItems: \"center\",\r\n              borderBottom: \"0.15px\",\r\n            }}\r\n          >\r\n            <Image\r\n              source={{\r\n                uri: Path() + \"/logo/\" + empresa.empresa.id,\r\n              }}\r\n              style={{ width: \"30px\", maxWidth: \"100px\", maxHeigh: \"100px\" }}\r\n            />\r\n            <Text>{empresa?.empresa?.nombre_comercial}</Text>\r\n            <Text>{empresa?.empresa?.direccion}</Text>\r\n\r\n            <Text>Email: {empresa?.empresa?.email}</Text>\r\n            <Text>Tlf: {empresa?.empresa?.telefono}</Text>\r\n            <Text>Cel: {empresa?.empresa?.celular}</Text>\r\n            <Text>RUC: {empresa?.empresa?.ruc}</Text>\r\n            <Text>\r\n              Fecha Emisión: {formatFecha.format(status.fecha_emision)}\r\n            </Text>\r\n            <Text>Condición: {status.forma_pago.nombre}</Text>\r\n          </View>\r\n\r\n          {status?.detalles.map((e, i, arr) => {\r\n            return (\r\n              <View>\r\n                <Text style={{ marginTop: \"1px\" }}>\r\n                  {e?.producto.codigo} {e?.producto.nombre}\r\n                </Text>\r\n\r\n                <View\r\n                  style={{\r\n                    display: \"flex\",\r\n                    flexDirection: \"row\",\r\n                    justifyContent: \"space-between\",\r\n                    marginTop: \"1px\",\r\n                  }}\r\n                >\r\n                  <Text>\r\n                    Cant. {e?.cantidad} {e?.presentacion.abbr}\r\n                  </Text>\r\n                  <Text>\r\n                    {status.moneda.simbolo}{\" \"}\r\n                    {(e?.monto_precio_unitario).toFixed(3)}\r\n                  </Text>\r\n                  <Text>\r\n                    {status.moneda.simbolo}{\" \"}\r\n                    {(e?.monto_precio_unitario * e?.cantidad)?.toFixed(3)}\r\n                  </Text>\r\n                </View>\r\n              </View>\r\n            );\r\n          })}\r\n        </View>\r\n\r\n        <View\r\n          style={{\r\n            display: \"flex\",\r\n            justifyContent: \"space-between\",\r\n            flexDirection: \"row\",\r\n            fontSize: \"3px\",\r\n          }}\r\n        >\r\n          <View></View>\r\n\r\n          <View\r\n            style={{\r\n              fontSize: \"3px\",\r\n              flexDirection: \"row\",\r\n              justifyContent: \"space-between\",\r\n            }}\r\n          >\r\n            <View\r\n              style={{\r\n                flexDirection: \"column\",\r\n                width: \"20px\",\r\n                fontSize: \"3px\",\r\n              }}\r\n            >\r\n              <Text style={textPaddingTicker}>Afecto</Text>\r\n              <Text style={textPaddingTicker}>Inafecto</Text>\r\n              <Text style={textPaddingTicker}>ISC</Text>\r\n              <Text style={textPaddingTicker}>IGV</Text>\r\n              <Text style={textPaddingTicker}>Total</Text>\r\n              <Text style={textPaddingTicker}>Percepción</Text>\r\n              <Text style={textPaddingTicker}>Total</Text>\r\n            </View>\r\n            <View\r\n              style={{\r\n                flexDirection: \"column\",\r\n                width: \"25px\",\r\n                textAlign: \"right\",\r\n                fontSize: \"3px\",\r\n              }}\r\n            >\r\n              <Text style={textPaddingTicker}>\r\n                {status?.moneda?.simbolo} {status?.total_afecto?.toFixed(3)}\r\n              </Text>\r\n              <Text style={textPaddingTicker}>\r\n                {status?.moneda?.simbolo} {status?.total_inafecto?.toFixed(3)}\r\n              </Text>\r\n              <Text style={textPaddingTicker}>\r\n                {status?.moneda?.simbolo} {status?.total_isc?.toFixed(3)}\r\n              </Text>\r\n              <Text style={textPaddingTicker}>\r\n                {status?.moneda?.simbolo} {status?.total_igv?.toFixed(3)}\r\n              </Text>\r\n              <Text style={textPaddingTicker}>\r\n                {status?.moneda?.simbolo} {status?.total_documento?.toFixed(3)}\r\n              </Text>\r\n              <Text style={textPaddingTicker}>\r\n                {status?.moneda?.simbolo} {status?.total_percepcion?.toFixed(3)}\r\n              </Text>\r\n              <Text style={textPaddingTicker}>\r\n                {status?.moneda?.simbolo}{\" \"}\r\n                {status?.total_documento_fin?.toFixed(3)}\r\n              </Text>\r\n            </View>\r\n          </View>\r\n        </View>\r\n        <View style={{ alignItems: \"center\" }}>\r\n          <Text style={textPadding}>\r\n            Son:{\" \"}\r\n            {capitalize(\r\n              writtenNumber(status?.total_documento_fin, { lang: \"es\" })\r\n            )}{\" \"}\r\n            con 00/100 {status?.moneda?.nombre.toLowerCase()}\r\n          </Text>\r\n\r\n          <Image\r\n            source={{ uri: qrCodeBase64 }}\r\n            style={{ width: \"18px\", marginBottom: \"3px\" }}\r\n          />\r\n\r\n          {status?.detalle && (\r\n            <Text style={textPadding}>\r\n              {`Observación: \r\n              ${status?.detalle}`}\r\n            </Text>\r\n          )}\r\n\r\n          <Text style={{ fontSize: \"2px\" }}>\r\n            Consulta este comprobante en FivipSystem.com/comprobante\r\n          </Text>\r\n\r\n          <Image\r\n            source={{\r\n              uri: Path() + \"/logo/footer_fivip\",\r\n            }}\r\n            style={{\r\n              width: \"15px\",\r\n              maxWidth: \"100px\",\r\n              maxHeigh: \"100px\",\r\n            }}\r\n          />\r\n        </View>\r\n      </Page>\r\n    </Document>\r\n  ) : (\r\n    <Document>\r\n      <Page size={\"A4\"}>\r\n        <Text>Contenido no disponible</Text>\r\n      </Page>\r\n    </Document>\r\n  );\r\n};\r\n\r\n// // Font.register({\r\n// //   family: \"Oswald\",\r\n// //   src: \"https://fonts.gstatic.com/s/oswald/v13/Y_TKV6o8WovbUd3m_X9aAA.ttf\",\r\n// // });\r\n\r\n// const styles = StyleSheet.create({\r\n//   title: {\r\n//     fontSize: \"9px\",\r\n//     textAlign: \"center\",\r\n//   },\r\n// });\r\nexport default ViewFormatA4;\r\n","import Calcular from \"./calcularPrecios\";\r\nclass Precio extends Calcular {\r\n  // igv() {\r\n  //   return this.producto;\r\n  // }\r\n  // porUtilidad(producto) {\r\n  //   producto.por_utilidad = (producto.costo_venta / producto.costo_compra) * 100 - 100;\r\n  //   producto.igv = producto.costo_venta * 0.18;\r\n  //   producto.precio_venta = producto.costo_venta * 1.18;\r\n  //   return producto;\r\n  // }\r\n  // utilidad(producto) {\r\n\r\n  //   producto.utilidad = this.roundOff((producto.por_utilidad * producto.costo_venta) / 100 ).toFixed(4);\r\n  //   producto.por_utilidad = this.roundOff((producto.costo_venta / producto.costo_compra) * 100 - 100).toFixed(4);\r\n  //   producto.precio_venta= this.roundOff((producto.costo_venta * 1.18)).toFixed(4);\r\n  //   producto.igv = 18\r\n  //   return producto\r\n\r\n  // }\r\n\r\n  costoVenta(producto) {\r\n    producto.precio_venta = this.roundOff(producto.costo_venta * 1.18).toFixed(\r\n      4\r\n    );\r\n    producto.por_utilidad = this.roundOff(\r\n      (producto.costo_venta / producto.costo_compra) * 100 - 100\r\n    ).toFixed(4);\r\n    producto.utilidad = this.roundOff(\r\n      (producto.por_utilidad * producto.costo_venta) / 100\r\n    ).toFixed(4);\r\n    producto.igv = 18;\r\n    return producto;\r\n  }\r\n\r\n  precioVenta(producto) {\r\n    producto.costo_venta = this.roundOff(producto.precio_venta / 1.18).toFixed(\r\n      4\r\n    );\r\n    producto.por_utilidad = this.roundOff(\r\n      (producto.costo_venta / producto.costo_compra) * 100 - 100\r\n    ).toFixed(4);\r\n    producto.utilidad = this.roundOff(\r\n      (producto.por_utilidad * producto.costo_venta) / 100\r\n    ).toFixed(4);\r\n    producto.igv = 18;\r\n    console.log({ producto });\r\n    return producto;\r\n  }\r\n}\r\n\r\nexport default Precio;\r\n","import instance from \"./_instance\";\r\n// Create instance called instance\r\n\r\nfunction show() {\r\n  return new Promise((ok, reject) => {\r\n    instance.get(\"/local\").then(\r\n      (res) => {\r\n        ok(res.data);\r\n      },\r\n      (bad) => {\r\n        reject(new Error(\"bad request\"));\r\n      }\r\n    );\r\n  });\r\n}\r\n\r\nfunction find(id) {\r\n  return new Promise((resolve, reject) => {\r\n    instance.get(\"local/\" + id).then((res) => {\r\n      resolve(res.data);\r\n    });\r\n  });\r\n}\r\n\r\nfunction create(data) {\r\n  return new Promise((resolve, reject) => {\r\n    instance\r\n      .post(\"precio\", data)\r\n      .then((res) => {\r\n        resolve(res.data);\r\n      })\r\n      .catch((error) => {\r\n        if (error.response) {\r\n          resolve(error.response.data);\r\n        }\r\n      });\r\n  });\r\n}\r\n\r\nfunction update(data, empresa_id, id) {\r\n  return new Promise((resolve, reject) => {\r\n    instance.put(\"precio/\" + empresa_id + \"/\" + id, data).then((res) => {\r\n      resolve(res.data);\r\n    });\r\n  });\r\n}\r\n\r\nfunction destroy(data, empresa_id, id) {\r\n  instance.delete(\"precio/\" + empresa_id + \"/\" + id, data).then((res) => {\r\n    return res.data;\r\n  });\r\n}\r\n\r\nexport default { show, find, create, update, destroy };\r\n","import { useEffect, useContext, useState } from \"react\";\r\nimport { Form, Header, Icon, Button, Table, Popup } from \"semantic-ui-react\";\r\nimport settingDropdowns from \"../../libs/settingDropdowns\";\r\nimport FormFielDropdownSarch from \"../DropdownSearch2\";\r\nimport FormFielController from \"../FormFieldController\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport EmpresaContext from \"../../context/EmpresaContext\";\r\nimport Moment from \"react-moment\";\r\nimport { toast } from \"react-toastify\";\r\nimport useWindowSize from \"../../hooks/useWindowSize\";\r\nimport currency from \"../../libs/currency\";\r\n\r\nconst FormularioPago = ({\r\n  editionMode,\r\n  pagos,\r\n  moneda,\r\n  setChangeFather,\r\n  total_operacion,\r\n}) => {\r\n  const { empresa } = useContext(EmpresaContext);\r\n  const { windowSize: size } = useWindowSize();\r\n\r\n  const {\r\n    control,\r\n    formState: { errors },\r\n    setValue,\r\n    watch,\r\n  } = useForm({\r\n    defaultValues: {\r\n      fecha_pago: new Date()\r\n        .toLocaleDateString(\"es-CL\")\r\n        .split(\"-\")\r\n        .reverse()\r\n        .join(\"-\"),\r\n      total_comision: 0,\r\n    },\r\n  });\r\n\r\n  const watcher = watch(); // you can also target specific fields by their names\r\n  const [totalPago, setTotalPago] = useState(0);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      if (!!pagos.length) {\r\n        setTotalPago(\r\n          pagos\r\n            .map((v, index) => v.total_pago)\r\n            .reduce(\r\n              (accumulator, curr) => parseFloat(accumulator) + parseFloat(curr)\r\n            )\r\n        );\r\n      } else {\r\n        setTotalPago(0);\r\n      }\r\n      await setChangeFather(\"pago_status\", totalPago);\r\n    })();\r\n\r\n    return () => false;\r\n  }, [pagos, setChangeFather, totalPago]);\r\n\r\n  const validate = (model) => {\r\n    const required = [\r\n      \"numero_operacion\",\r\n      \"fecha_pago\",\r\n      \"total_comision\",\r\n      \"total_pago\",\r\n      \"metodo_pago_id\",\r\n      \"metodo\",\r\n      \"banco_nombre\",\r\n      \"banco_id\",\r\n      \"numero_operacion\",\r\n    ];\r\n\r\n    const aproved = [];\r\n\r\n    const tt =\r\n      parseFloat(totalPago) +\r\n      parseFloat(model.total_pago) -\r\n      parseFloat(total_operacion);\r\n\r\n    if (tt > 0.01) {\r\n      toast.error(\"el limite de pago ha exedido\");\r\n      return false;\r\n    }\r\n\r\n    for (let i = 0; i < required.length; i++) {\r\n      const e = required[i];\r\n      const check = Object.keys(model).indexOf(e);\r\n      if (check !== -1) {\r\n        aproved.push(e);\r\n      }\r\n    }\r\n\r\n    if (aproved.length === required.length) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  };\r\n\r\n  const addPay = async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (validate(watcher)) {\r\n      try {\r\n        const model = watcher;\r\n        model.listado_banco_id = watcher.banco_nombre.listado_banco_id;\r\n        pagos.push(model);\r\n        await setChangeFather(\"pagos\", pagos);\r\n      } catch (error) {\r\n        await setChangeFather(\"pagos\", [watcher]);\r\n      }\r\n\r\n      await setValue(\"numero_operacion\", 0);\r\n      await setValue(\r\n        \"fecha_pago\",\r\n        new Date().toLocaleDateString(\"es-CL\").split(\"-\").reverse().join(\"-\")\r\n      );\r\n      await setValue(\"total_comision\", 0);\r\n      await setValue(\"total_pago\", 0);\r\n    }\r\n  };\r\n\r\n  const deletePay = async (e, index) => {\r\n    // e.preventDefault();\r\n    pagos.splice(index, 1);\r\n    await setChangeFather(\"pagos\", pagos);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Header as=\"h5\">\r\n        <Icon name=\"credit card\" />\r\n        <Header.Content>Pagar</Header.Content>\r\n      </Header>\r\n      <Form>\r\n        <Form.Group>\r\n          {!editionMode ? (\r\n            <Form.Input\r\n              fluid\r\n              label=\"Metodo de Pago\"\r\n              placeholder=\"Selecione\"\r\n              value={\"\"}\r\n              readOnly\r\n              width={4}\r\n            />\r\n          ) : (\r\n            <FormFielDropdownSarch\r\n              model={settingDropdowns.metodo_pagos}\r\n              empresaContexto={empresa}\r\n              control={control}\r\n              setValue={setValue}\r\n              width={4}\r\n            />\r\n          )}\r\n          {!editionMode ? (\r\n            <Form.Input\r\n              fluid\r\n              label=\"Cuentas Bancos\"\r\n              placeholder=\"Selecione\"\r\n              value={\"\"}\r\n              readOnly\r\n              width={4}\r\n            />\r\n          ) : (\r\n            <FormFielDropdownSarch\r\n              model={settingDropdowns.cuentas_bancos}\r\n              empresaContexto={empresa}\r\n              control={control}\r\n              setValue={setValue}\r\n              width={4}\r\n            />\r\n          )}\r\n          {!editionMode ? (\r\n            <Form.Input\r\n              fluid\r\n              label=\"Numero de Operación\"\r\n              placeholder=\"Selecione\"\r\n              value={\"\"}\r\n              readOnly\r\n              width={4}\r\n            />\r\n          ) : (\r\n            <FormFielController\r\n              name={\"numero_operacion\"}\r\n              title={\"Numero de Operación\"}\r\n              control={control}\r\n              errors={errors}\r\n              type=\"number\"\r\n              width={4}\r\n            />\r\n          )}\r\n        </Form.Group>\r\n        <Form.Group>\r\n          {!editionMode ? (\r\n            <Form.Input\r\n              fluid\r\n              label=\"Fecha de Pago\"\r\n              placeholder=\"Selecione\"\r\n              value={\"\"}\r\n              readOnly\r\n              width={4}\r\n            />\r\n          ) : (\r\n            <FormFielController\r\n              name={\"fecha_pago\"}\r\n              title={\"Fecha de Pago\"}\r\n              control={control}\r\n              errors={errors}\r\n              type=\"date\"\r\n              width={4}\r\n            />\r\n          )}\r\n          {!editionMode ? (\r\n            <Form.Input\r\n              fluid\r\n              label=\"Comisión\"\r\n              placeholder=\"Selecione\"\r\n              value={\"\"}\r\n              readOnly\r\n              width={4}\r\n            />\r\n          ) : (\r\n            <FormFielController\r\n              name={\"total_comision\"}\r\n              title={\"Comisión\"}\r\n              control={control}\r\n              errors={errors}\r\n              type=\"number\"\r\n              width={4}\r\n            />\r\n          )}\r\n          {!editionMode ? (\r\n            <Form.Input\r\n              fluid\r\n              label=\"Total Pago\"\r\n              placeholder=\"Selecione\"\r\n              value={\"\"}\r\n              readOnly\r\n              width={4}\r\n            />\r\n          ) : (\r\n            <FormFielController\r\n              name={\"total_pago\"}\r\n              title={\"Total Pago\"}\r\n              control={control}\r\n              errors={errors}\r\n              type=\"number\"\r\n              width={4}\r\n            />\r\n          )}\r\n\r\n          <Form.Field width={3}>\r\n            <Button\r\n              as={\"a\"}\r\n              fluid\r\n              color=\"teal\"\r\n              style={{ marginTop: \"23px\" }}\r\n              disabled={!editionMode}\r\n              onClick={addPay}\r\n            >\r\n              <Button.Content>Agregar Pago</Button.Content>\r\n            </Button>\r\n          </Form.Field>\r\n        </Form.Group>\r\n      </Form>\r\n\r\n      <Table compact unstackable>\r\n        <Table.Header>\r\n          <Table.Row>\r\n            <Table.HeaderCell>Fecha</Table.HeaderCell>\r\n            <Table.HeaderCell>Banco</Table.HeaderCell>\r\n            <Table.HeaderCell>Metodo de Pago</Table.HeaderCell>\r\n            {size.width > 700 && (\r\n              <Table.HeaderCell>Numero de Operación</Table.HeaderCell>\r\n            )}\r\n            {size.width > 700 && <Table.HeaderCell>Comisión</Table.HeaderCell>}\r\n            <Table.HeaderCell>Total</Table.HeaderCell>\r\n            <Table.HeaderCell>Acción</Table.HeaderCell>\r\n          </Table.Row>\r\n        </Table.Header>\r\n        {/* <pre>{JSON.stringify(watcher, null, 2)}</pre> */}\r\n        <Table.Body>\r\n          {pagos?.map((v, index) => {\r\n            return (\r\n              <Table.Row key={index}>\r\n                <Table.Cell>\r\n                  <Moment format=\"DD/MM/YYYY\">{v?.fecha_pago}</Moment>\r\n                </Table.Cell>\r\n                <Table.Cell>\r\n                  {v?.banco_nombre?.nombre} ****\r\n                  {v?.banco?.numero_cuenta.substr(-4)}\r\n                </Table.Cell>\r\n                <Table.Cell>{v?.metodo?.nombre}</Table.Cell>\r\n                {size.width > 700 && (\r\n                  <Table.Cell>{v?.numero_operacion}</Table.Cell>\r\n                )}\r\n                {size.width > 700 && (\r\n                  <Table.Cell>\r\n                    {moneda?.simbolo} {currency(Number(v?.total_comision))}\r\n                    {\" (\"}\r\n                    {moneda?.iso}\r\n                    {\") \"}\r\n                  </Table.Cell>\r\n                )}\r\n                <Table.Cell>\r\n                  {moneda?.simbolo}\r\n                  {currency(Number(v?.total_pago))}\r\n                </Table.Cell>\r\n                <Table.Cell textAlign={\"right\"}>\r\n                  <Button\r\n                    circular\r\n                    as=\"a\"\r\n                    size=\"mini\"\r\n                    onClick={(e) => {\r\n                      deletePay(e, index);\r\n                    }}\r\n                    disabled={!editionMode}\r\n                    icon=\"trash\"\r\n                  />\r\n                </Table.Cell>\r\n              </Table.Row>\r\n            );\r\n          })}\r\n          <Table.Row>\r\n            <Table.Cell />\r\n            <Table.Cell />\r\n            <Table.Cell />\r\n            {size.width > 700 && <Table.Cell />}\r\n            {size.width > 700 && <Table.Cell />}\r\n            <Table.Cell>\r\n              <Popup\r\n                trigger={\r\n                  <b>\r\n                    {moneda?.simbolo}\r\n                    {currency(Number(totalPago))}\r\n                    {\" (\"}\r\n                    {moneda?.iso}\r\n                    {\") \"}\r\n                  </b>\r\n                }\r\n                header=\"Totales\"\r\n                content={\r\n                  <>\r\n                    <p>\r\n                      Pagado {moneda?.simbolo}\r\n                      {currency(Number(totalPago))}\r\n                    </p>\r\n                    <p>\r\n                      Total Operación {moneda?.simbolo}\r\n                      {currency(Number(total_operacion))}\r\n                      {\" (\"}\r\n                      {moneda?.iso}\r\n                      {\") \"}\r\n                    </p>\r\n                    <p>\r\n                      Total Pendiente {moneda?.simbolo}{\" \"}\r\n                      {currency(total_operacion - totalPago)}\r\n                      {\" (\"}\r\n                      {moneda?.iso}\r\n                      {\") \"}\r\n                    </p>\r\n                  </>\r\n                }\r\n                on={[\"hover\", \"click\"]}\r\n                position=\"bottom center\"\r\n              />\r\n            </Table.Cell>\r\n            <Table.Cell>\r\n              <b>\r\n                {moneda?.simbolo} {currency(total_operacion || 0)}\r\n                {\" (\"}\r\n                {moneda?.iso}\r\n                {\") \"}\r\n              </b>\r\n            </Table.Cell>\r\n          </Table.Row>\r\n        </Table.Body>\r\n      </Table>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default FormularioPago;\r\n","import { useEffect, useState, useRef, createRef, useContext } from \"react\";\r\nimport {\r\n  Form,\r\n  Grid,\r\n  Container,\r\n  List,\r\n  Button,\r\n  Icon,\r\n  Modal,\r\n  Table,\r\n  Input,\r\n  Label,\r\n  Confirm,\r\n  Menu,\r\n  Ref,\r\n  Popup,\r\n  Dropdown,\r\n  Checkbox,\r\n  Segment,\r\n} from \"semantic-ui-react\";\r\nimport FormFielDropdownSarch from \"../DropdownSearch2\";\r\nimport FormFielController from \"../FormFieldController\";\r\nimport formatFecha from \"../../libs/formatFecha\";\r\nimport Calcular from \"../../libs/calcularPrecios\";\r\n// import Dropdown from \"../../services/dropdown\";\r\nimport useWindowSize from \"../../hooks/useWindowSize\";\r\nimport SearchProducto from \"../SearchProducto\";\r\nimport { useNavigate, useLocation } from \"react-router-dom\";\r\nimport ventaSevice from \"../../services/ventas\";\r\nimport handleBackendErrors from \"../../libs/handleBackendErrors\";\r\nimport { toast } from \"react-toastify\";\r\nimport QRCode from \"qrcode.react\";\r\n\r\nimport ventaContext from \"../../context/VentaContext\";\r\nimport FormularioPago from \"./formulario_pago\";\r\nimport CriptoJs from \"crypto-js\";\r\nimport currency from \"../../libs/currency\";\r\n\r\nconst FormularioProductoHandle = () => {\r\n  return (\r\n    <Form>\r\n      <Form.Group></Form.Group>\r\n    </Form>\r\n  );\r\n};\r\n\r\nconst FormHeaderVentas = ({\r\n  editionMode,\r\n  watcher,\r\n  settingDropdowns,\r\n  empresa,\r\n  selected,\r\n  handleChangeVenta,\r\n  control,\r\n  setValue,\r\n  errors,\r\n}) => {\r\n  const changeSerie = ({ options, value }) => {\r\n    // const selected = options[value - 1];\r\n    const selected = options.find((v, k) => v.value === value);\r\n    setValue(\"correlativo\", selected?.model?.correlativo || 1);\r\n  };\r\n  return (\r\n    <Form>\r\n      <Form.Group>\r\n        {!editionMode ? (\r\n          <Form.Input\r\n            fluid\r\n            label=\"Serie\"\r\n            placeholder=\"Seleccione Serie\"\r\n            value={watcher?.serie?.descripcion + \"-\" + watcher?.serie?.serie}\r\n            readOnly\r\n            width={4}\r\n          />\r\n        ) : (\r\n          <FormFielDropdownSarch\r\n            model={settingDropdowns.serie}\r\n            moreRouteParams={{\r\n              tipo_operacion_id: selected?.serie?.tipo_operacion_id,\r\n            }}\r\n            empresaContexto={empresa}\r\n            control={control}\r\n            venta={selected}\r\n            handleChangeVenta={handleChangeVenta}\r\n            setValue={setValue}\r\n            width={4}\r\n            onListenChange={changeSerie}\r\n          />\r\n        )}\r\n        {!editionMode ? (\r\n          <Form.Input\r\n            fluid\r\n            label=\"Correlativo\"\r\n            placeholder=\"Selecione\"\r\n            value={watcher?.correlativo}\r\n            readOnly\r\n            width={2}\r\n          />\r\n        ) : (\r\n          <FormFielController\r\n            name={\"correlativo\"}\r\n            title={\"Correlativo\"}\r\n            control={control}\r\n            errors={errors}\r\n            type=\"number\"\r\n            width={2}\r\n          />\r\n        )}\r\n      </Form.Group>\r\n      <Form.Group>\r\n        {!editionMode ? (\r\n          <Form.Input\r\n            fluid\r\n            label=\"Almacen\"\r\n            placeholder=\"Selecione\"\r\n            value={watcher?.almacen?.nombre}\r\n            readOnly\r\n            width={4}\r\n          />\r\n        ) : (\r\n          <FormFielDropdownSarch\r\n            model={settingDropdowns.almacen}\r\n            empresaContexto={empresa}\r\n            control={control}\r\n            venta={selected}\r\n            handleChangeVenta={handleChangeVenta}\r\n            setValue={setValue}\r\n            width={4}\r\n          />\r\n        )}\r\n        {!editionMode ? (\r\n          <Form.Input\r\n            fluid\r\n            label=\"Condición de Pago\"\r\n            placeholder=\"Selecione\"\r\n            value={watcher?.forma_pago?.nombre}\r\n            readOnly\r\n            width={3}\r\n          />\r\n        ) : (\r\n          <FormFielDropdownSarch\r\n            model={settingDropdowns.forma_pago}\r\n            empresaContexto={empresa}\r\n            control={control}\r\n            venta={selected}\r\n            handleChangeVenta={handleChangeVenta}\r\n            setValue={setValue}\r\n            width={3}\r\n          />\r\n        )}\r\n        {!editionMode ? (\r\n          <Form.Input\r\n            fluid\r\n            label=\"Fecha de Emisión\"\r\n            placeholder=\"Selecione\"\r\n            value={formatFecha.format(watcher?.fecha_emision)}\r\n            readOnly\r\n            width={3}\r\n          />\r\n        ) : (\r\n          <FormFielController\r\n            name={\"fecha_emision\"}\r\n            title={\"Fecha Emisión\"}\r\n            control={control}\r\n            errors={errors}\r\n            type=\"date\"\r\n            width={3}\r\n          />\r\n        )}\r\n\r\n        {!editionMode ? (\r\n          <Form.Input\r\n            fluid\r\n            label=\"Fecha de Registro\"\r\n            placeholder=\"Selecione\"\r\n            value={formatFecha.format(watcher?.fecha_registro)}\r\n            readOnly\r\n            width={3}\r\n          />\r\n        ) : (\r\n          <FormFielController\r\n            name={\"fecha_registro\"}\r\n            title={\"Fecha Registro\"}\r\n            control={control}\r\n            errors={errors}\r\n            type=\"date\"\r\n            width={3}\r\n          />\r\n        )}\r\n        {!editionMode ? (\r\n          <Form.Input\r\n            fluid\r\n            label=\"Moneda\"\r\n            placeholder=\"Selecione\"\r\n            value={watcher?.moneda.nombre}\r\n            readOnly\r\n            width={3}\r\n          />\r\n        ) : (\r\n          <FormFielDropdownSarch\r\n            model={settingDropdowns.moneda}\r\n            empresaContexto={empresa}\r\n            control={control}\r\n            venta={selected}\r\n            handleChangeVenta={handleChangeVenta}\r\n            setValue={setValue}\r\n            width={3}\r\n          />\r\n        )}\r\n      </Form.Group>\r\n    </Form>\r\n  );\r\n};\r\n\r\nconst ModalHeader = ({\r\n  openModal,\r\n  setOpenModal,\r\n  type,\r\n  watcher,\r\n  editionMode,\r\n  setEditionMode,\r\n  settingDropdowns,\r\n  empresa,\r\n  selected,\r\n  handleChangeVenta,\r\n  changeSerie,\r\n  control,\r\n  setValue,\r\n  errors,\r\n}) => {\r\n  const { handleDefaultVenta } = useContext(ventaContext);\r\n\r\n  return (\r\n    <Modal size={\"small\"} open={openModal} onClose={() => setOpenModal(false)}>\r\n      <Modal.Content>\r\n        {type === \"INSERT_PRODUCT\" && (\r\n          <Form>\r\n            <Form.Group>\r\n              <Input size=\"mini\" />\r\n            </Form.Group>\r\n          </Form>\r\n        )}\r\n\r\n        {type === \"header\" && (\r\n          <FormHeaderVentas\r\n            editionMode={editionMode}\r\n            watcher={watcher}\r\n            settingDropdowns={settingDropdowns}\r\n            empresa={empresa}\r\n            selected={selected}\r\n            handleChangeVenta={handleChangeVenta}\r\n            changeSerie={changeSerie}\r\n            control={control}\r\n            setValue={setValue}\r\n            errors={errors}\r\n          />\r\n        )}\r\n\r\n        {type === \"item\" && (\r\n          <FormHeaderVentas\r\n            editionMode={editionMode}\r\n            watcher={watcher}\r\n            settingDropdowns={settingDropdowns}\r\n            empresa={empresa}\r\n            selected={selected}\r\n            handleChangeVenta={handleChangeVenta}\r\n            changeSerie={changeSerie}\r\n            control={control}\r\n            setValue={setValue}\r\n            errors={errors}\r\n          />\r\n        )}\r\n      </Modal.Content>\r\n      <Modal.Actions>\r\n        <Checkbox\r\n          toggle\r\n          checked={editionMode}\r\n          onChange={() => {\r\n            setEditionMode(!editionMode);\r\n          }}\r\n          label=\"Permitir Editar\"\r\n        />\r\n        <Button as={\"a\"} onClick={() => handleDefaultVenta()}>\r\n          Ajustar\r\n        </Button>\r\n\r\n        <Button color=\"blue\" onClick={() => setOpenModal(false)}>\r\n          Cerrar\r\n        </Button>\r\n      </Modal.Actions>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nconst FormularioMovil = ({\r\n  control,\r\n  handleSubmit,\r\n  errors,\r\n  setValue,\r\n  reset,\r\n  watcher,\r\n  editionMode,\r\n  setEditionMode,\r\n  settingDropdowns,\r\n  empresa,\r\n  setEmpresa,\r\n  impresion,\r\n  selected,\r\n  handleChangeVenta,\r\n  state,\r\n  formatPrint,\r\n  setFormatPrint,\r\n}) => {\r\n  const { setDocumento, ventaDefaultContent } = useContext(ventaContext);\r\n  const [itemSelected, setItemSelected] = useState(false);\r\n  const [openModal, setOpenModal] = useState(false);\r\n  const [type, setType] = useState(null);\r\n  const [isOpenItem, setIsOpenItem] = useState({ state: false, id: undefined });\r\n  const { windowSize: size } = useWindowSize();\r\n  const SearchProductosRef = useRef();\r\n  const [isLoadding, setIsloadding] = useState(false);\r\n  const [precioSelected, setPrecioSelected] = useState([{ key: 0 }]);\r\n  const [qrCodeBase64, setQrCodeBase64] = useState(false);\r\n  const [openConfimationListPrice, setOpenConfimationListPrice] =\r\n    useState(false);\r\n  const [isBackendError, setIsBackendError] = useState(false);\r\n\r\n  const [addItemStatus, setAddItemStatus] = useState(false);\r\n  const [modoDescuento, setModoDescuento] = useState(false);\r\n\r\n  const [isOpenProduct, setIsOpenProduct] = useState(false);\r\n  const [isOpenPagos, setIsOpenPagos] = useState(false);\r\n\r\n  let dropdownItem = createRef();\r\n  let navigate = useNavigate();\r\n  let location = useLocation();\r\n\r\n  const [productoChoose, setProductoChoose] = useState({\r\n    model: { precio_venta: 0, cantidad: 0, descuento: 0 },\r\n  });\r\n\r\n  const calcular = new Calcular(\r\n    \"venta\",\r\n    empresa.empresa.limite_detraccion,\r\n    empresa.empresa.por_detraccion,\r\n    empresa.empresa.por_percepcion,\r\n    null,\r\n    18,\r\n    8,\r\n    watcher.id\r\n  );\r\n\r\n  const clearPresentationItem = () => {\r\n    const element = dropdownItem.current.querySelector(\r\n      '[aria-selected=\"true\"]'\r\n    );\r\n    if (element) {\r\n      dropdownItem.current.querySelector(\".clear\").click();\r\n    }\r\n  };\r\n\r\n  const valid = ({ productoChoose, itemSelected }) => {\r\n    return new Promise((res, reject) => {\r\n      if (\r\n        !!productoChoose &&\r\n        !!itemSelected &&\r\n        !!itemSelected.model &&\r\n        !!productoChoose.model.costo_venta &&\r\n        !!productoChoose.model.cantidad\r\n      ) {\r\n        res({ productoChoose, itemSelected });\r\n      } else {\r\n        reject(false);\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleKeyPressTab = (e) => {\r\n    if (e.key === \"Tab\" || e.key === \"Enter\") {\r\n      addItem();\r\n      clearPresentationItem();\r\n      openSearchProducto();\r\n    }\r\n  };\r\n\r\n  const addItem = async () => {\r\n    setAddItemStatus(true);\r\n    await valid({ productoChoose, itemSelected }).then(\r\n      (res) => {\r\n        const item = productoChoose.model;\r\n        item.codigo = productoChoose.model.codigo;\r\n        item.monto_igv = productoChoose.model.igv;\r\n        item.precio_unitario = productoChoose.model.costo_venta;\r\n        item.monto_precio_unitario = productoChoose.model.costo_venta;\r\n        item.producto = {\r\n          id: itemSelected.model.id,\r\n          nombre: itemSelected.model.nombre,\r\n          peso: itemSelected.model.peso,\r\n          afecto: itemSelected.model.afecto,\r\n        };\r\n\r\n        if (!!!item.precios.length) {\r\n          setOpenConfimationListPrice(true);\r\n        }\r\n\r\n        const lista = watcher.detalles || [];\r\n\r\n        lista.push(item);\r\n        setValue(\"detalles\", lista);\r\n        watchDetalles(watcher.detalles);\r\n        setIsOpenProduct(false);\r\n        setAddItemStatus(false);\r\n        setPrecioSelected(false);\r\n        setProductoChoose({\r\n          model: { precio_venta: 0, cantidad: 0, descuento: 0 },\r\n        });\r\n      },\r\n      (err) => {\r\n        toast.error(\"complete el formulario de ingreso de producto\");\r\n        setAddItemStatus(false);\r\n      }\r\n    );\r\n  };\r\n\r\n  const watchDetalles = (detalles, descuento = 0) => {\r\n    const totales = calcular.totales(detalles, descuento);\r\n    Object.keys(totales).map((v) => {\r\n      setValue(v, totales[v]);\r\n      return v;\r\n    });\r\n\r\n    // .then((totales) => {\r\n    // Object.keys(totales).map((v, index) => {\r\n    //   setValue(v, totales[v]);\r\n    //   // });\r\n    // });\r\n  };\r\n\r\n  const deleteItem = (key) => {\r\n    const lista = watcher.detalles;\r\n    lista.splice(key, 1);\r\n    setValue(\"detalles\", lista);\r\n    watchDetalles(watcher.detalles, watcher.total_descuento_global);\r\n    // console.log(\"delete firts\", lista);\r\n  };\r\n\r\n  const handleChangeVentaItemList = (element, index) => {\r\n    console.log(element, index);\r\n    const items = watcher.detalles;\r\n    const item = watcher.detalles[index];\r\n\r\n    if (element.name === \"cantidad\") {\r\n      item.cantidad = element.value || undefined;\r\n    }\r\n\r\n    if (element.name === \"precio_venta\") {\r\n      items[index].precio_venta = element.value || undefined;\r\n    }\r\n    item.is_detail = true;\r\n    const newItem = calcular.item(items[index], item);\r\n    console.log(newItem);\r\n    items[index] = newItem;\r\n    setValue(\"detalles\", items);\r\n\r\n    watchDetalles(items, 0);\r\n    // calcular.totales(items);\r\n  };\r\n\r\n  const handleOpenModal = (type) => {\r\n    setType(type);\r\n    setOpenModal(true);\r\n  };\r\n\r\n  const openSearchProducto = () => {\r\n    SearchProductosRef.current.open();\r\n    // inputRef.current.open();\r\n  };\r\n\r\n  const handleProductoChoose = (e, element) => {\r\n    if (!!!element) {\r\n      return false;\r\n    }\r\n\r\n    if (element.name === \"precio_venta\") {\r\n      if (!!!productoChoose && !!!productoChoose.model) {\r\n        productoChoose.model.cantidad = 0;\r\n      }\r\n    }\r\n\r\n    const input = {};\r\n    input[element.name] = element.value;\r\n    const model = { ...productoChoose.model, ...input };\r\n    // console.log(\">>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\");\r\n    // console.log(itemSelected.model);\r\n    // console.log(model);\r\n    // console.log(\">>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\");\r\n    const newModel = calcular.item(itemSelected.model, model);\r\n\r\n    // READY\r\n\r\n    // console.log(\r\n    //   model.costo_venta,\r\n    //   model.por_utilidad,\r\n    //   model.igv,\r\n    //   model.monto_base_igv,\r\n    //   model.monto_igv\r\n    // );\r\n    const item = productoChoose;\r\n    item.model = newModel;\r\n\r\n    setProductoChoose({ ...item });\r\n  };\r\n\r\n  const handleProductoChooseDescuentoEfectivo = (e, { name, value }) => {\r\n    const input = {};\r\n    input[name] = Number(value);\r\n    const model = { ...productoChoose.model, ...input };\r\n    const combineModel = { ...itemSelected.model, ...model };\r\n    let newModel = calcular.descuentoEfectivo(combineModel);\r\n    const item = productoChoose;\r\n    item.model = newModel;\r\n    item.model = { ...item.model, ...input };\r\n    setProductoChoose({ ...item });\r\n    // handleProductoChoose(e, {name,value});\r\n  };\r\n\r\n  const handleProductoChooseDescuentoPorcentaje = (e, { name, value }) => {\r\n    const input = {};\r\n    input[name] = Number(value);\r\n    const model = { ...productoChoose.model, ...input };\r\n    const combineModel = { ...itemSelected.model, ...model };\r\n\r\n    const newModel = calcular.descuentoPorcentaje(combineModel);\r\n    const item = productoChoose;\r\n    item.model = newModel;\r\n    item.model = { ...item.model, ...input };\r\n    setProductoChoose({ ...item });\r\n    // handleProductoChoose(e, { name, value });\r\n  };\r\n\r\n  const close = () => {\r\n    if (!!!location.state?.backgroundLocation) {\r\n      setIsloadding(false);\r\n      return false;\r\n    }\r\n\r\n    navigate(location.state.backgroundLocation.pathname, {\r\n      state: { reload: { ventas: true } },\r\n    });\r\n  };\r\n  const updateCorrelativo = () => {\r\n    setValue(\"correlativo\", parseFloat(watcher?.correlativo) + 1);\r\n  };\r\n\r\n  const resetFormAfterSave = () => {\r\n    updateCorrelativo();\r\n    setValue(\"detalles\", []);\r\n    setValue(\"pagos\", []);\r\n    setValue(\"total_afecto\", 0);\r\n    setValue(\"total_descuento_global\", 0);\r\n    setValue(\"total_descuento_lineal\", 0);\r\n    setValue(\"total_detraccion\", 0);\r\n    setValue(\"total_documento\", 0);\r\n    setValue(\"total_documento_fin\", 0);\r\n    setValue(\"total_exonerado\", 0);\r\n    setValue(\"total_igv\", 0);\r\n    setValue(\"total_inafecto\", 0);\r\n    setValue(\"total_isc\", 0);\r\n    setValue(\"total_percepcion\", 0);\r\n    setValue(\"total_peso\", 0);\r\n  };\r\n\r\n  const onSubmit = async (data) => {\r\n    if (!!data && data.id) {\r\n      setIsloadding(true);\r\n      // update\r\n      const update = await toast.promise(ventaSevice.update(data, data.id), {\r\n        pending: \"Actualizando...\",\r\n        success: \"Documento Actualizado 👌\",\r\n        error: \"Error de documento 🤯\",\r\n      });\r\n\r\n      if (!!!state) {\r\n        handleChangeVenta(data);\r\n        if (empresa.empresa.id === update.id) {\r\n          empresa.empresa = update;\r\n          await setEmpresa(empresa);\r\n          await setIsloadding(false);\r\n          close();\r\n        } else {\r\n          close();\r\n          setIsloadding(false);\r\n        }\r\n      } else {\r\n        setIsloadding(false);\r\n      }\r\n      if (impresion?.after_save) {\r\n        setFormatPrint({ status: !formatPrint?.status, from: \"update\" });\r\n      }\r\n      // verificar si es la empresa actual en el contexto del la instancia de local/empresa\r\n    } else {\r\n      //create\r\n      // const create = await ventaSevice.create(data);\r\n\r\n      const create = await toast.promise(ventaSevice.create(data), {\r\n        pending: \"Guardando...\",\r\n        success: \"Documento Guardado 👌\",\r\n        error: \"Error de documento 🤯\",\r\n      });\r\n\r\n      setIsloadding(false);\r\n      if (create?.errors) {\r\n        if (state?.id) {\r\n          handleChangeVenta(data);\r\n        }\r\n        setIsBackendError(handleBackendErrors(create));\r\n      } else {\r\n        // resetFormAfterSave();\r\n        /**Clear All Form Except (Serie, Cliente ,) */\r\n        /**END Clear */\r\n        if (impresion?.after_save) {\r\n          setFormatPrint({ status: !formatPrint?.status, from: \"create\" });\r\n        } else {\r\n          resetFormAfterSave();\r\n        }\r\n        setIsBackendError(null);\r\n        close();\r\n      }\r\n      return create;\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!!itemSelected) {\r\n      const precios = itemSelected?.model?.precios.map((e, index) => {\r\n        const obj = {\r\n          key: index,\r\n          text: e?.presentacion?.abbr,\r\n          value: e?.id,\r\n          model: e,\r\n        };\r\n        return obj;\r\n      });\r\n      setPrecioSelected(precios);\r\n\r\n      setIsOpenProduct(true);\r\n    }\r\n\r\n    return () => {\r\n      setPrecioSelected(false);\r\n    };\r\n  }, [itemSelected]);\r\n\r\n  useEffect(() => {\r\n    if (selected) {\r\n      setTimeout(() => {\r\n        setFormatPrint({ status: false });\r\n        const qrCodeCanvas = document?.querySelector(\"canvas\");\r\n        setQrCodeBase64(qrCodeCanvas?.toDataURL(\"image/jpg\", 0.3));\r\n        setDocumento(selected);\r\n\r\n        console.log(qrCodeCanvas?.toDataURL(\"image/jpg\", 0.3));\r\n      }, 500);\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <Container style={{ marginTop: \"1vh\" }}>\r\n      <Form onSubmit={handleSubmit(onSubmit)} noValidate>\r\n        <Grid>\r\n          <Grid.Row style={{ marginTop: -6 }}>\r\n            <Grid.Column>\r\n              <span\r\n                class=\"ui card fluid\"\r\n                onClick={() => {\r\n                  handleOpenModal(\"header\");\r\n                }}\r\n              >\r\n                <div class=\"content\">\r\n                  <div class=\"header\">\r\n                    {!!watcher?.serie?.serie && !!watcher?.correlativo ? (\r\n                      <span>\r\n                        {watcher?.serie?.descripcion} {watcher?.serie?.serie}{\" \"}\r\n                        {watcher?.correlativo}\r\n                      </span>\r\n                    ) : (\r\n                      <span>👆 Seleccione Documento y Serie</span>\r\n                    )}\r\n                  </div>\r\n                  <div class=\"meta\"> {watcher?.forma_pago?.nombre}</div>\r\n                </div>\r\n              </span>\r\n            </Grid.Column>\r\n          </Grid.Row>\r\n          {/* <Grid.Row>\r\n          <Grid.Column>\r\n            <pre>{JSON.stringify(watcher,null,2)}</pre>\r\n          </Grid.Column>\r\n          </Grid.Row> */}\r\n          <Grid.Row style={{ marginTop: -23 }}>\r\n            <Grid.Column>\r\n              {!editionMode ? (\r\n                <Form.Input\r\n                  fluid\r\n                  label=\"Cliente\"\r\n                  placeholder=\"Selecione\"\r\n                  value={watcher?.cliente?.nombre}\r\n                  readOnly\r\n                  width={16}\r\n                />\r\n              ) : (\r\n                <FormFielDropdownSarch\r\n                  model={settingDropdowns.clientes}\r\n                  empresaContexto={empresa}\r\n                  control={control}\r\n                  venta={selected}\r\n                  handleChangeVenta={handleChangeVenta}\r\n                  setValue={setValue}\r\n                  width={16}\r\n                />\r\n              )}\r\n            </Grid.Column>\r\n          </Grid.Row>\r\n          {editionMode && (\r\n            <Grid.Row style={{ marginTop: -20 }}>\r\n              <Grid.Column width={16}>\r\n                <div class=\"ui form\">\r\n                  <div class=\"fields\">\r\n                    <div class=\"field w-full\">\r\n                      <SearchProducto\r\n                        empresaContexto={empresa}\r\n                        model={settingDropdowns.producto}\r\n                        setItemSelected={setItemSelected}\r\n                        ref={SearchProductosRef}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                {!!isOpenProduct && (\r\n                  <Modal\r\n                    size={\"mini\"}\r\n                    open={true}\r\n                    onClose={() => setIsOpenProduct(false)}\r\n                  >\r\n                    <Modal.Header>{itemSelected.text}</Modal.Header>\r\n                    <Modal.Content>\r\n                      <Form>\r\n                        <Form.Field width={16}>\r\n                          <Ref innerRef={dropdownItem}>\r\n                            <Dropdown\r\n                              fluid\r\n                              clearable\r\n                              options={precioSelected}\r\n                              onChange={(e, element) => {\r\n                                const item = element?.options?.find(\r\n                                  (item) => element?.value === item.value\r\n                                );\r\n                                setProductoChoose(item);\r\n                              }}\r\n                              selection\r\n                            />\r\n                          </Ref>\r\n                        </Form.Field>\r\n\r\n                        <Form.Field width={16}>\r\n                          <Popup\r\n                            content=\"Precio de Venta (Con IGV Incluido)\"\r\n                            trigger={\r\n                              <Input\r\n                                label={\r\n                                  !productoChoose?.model?.val_descuento\r\n                                    ? { icon: \"money\" }\r\n                                    : {\r\n                                        tag: true,\r\n                                        content: currency(\r\n                                          productoChoose?.model?.precio_venta -\r\n                                            productoChoose?.model?.val_descuento\r\n                                        ),\r\n                                        color: \"teal\",\r\n                                      }\r\n                                }\r\n                                labelPosition={\r\n                                  !productoChoose?.model?.val_descuento\r\n                                    ? \"right corner\"\r\n                                    : \"right\"\r\n                                }\r\n                                type=\"number\"\r\n                                name=\"precio_venta\"\r\n                                value={productoChoose?.model?.precio_venta}\r\n                                onChange={handleProductoChoose}\r\n                                placeholder=\"Precio\"\r\n                              />\r\n                            }\r\n                          />\r\n                        </Form.Field>\r\n                        <Form.Field width={16}>\r\n                          <Popup\r\n                            content=\"Cantidad de Items\"\r\n                            trigger={\r\n                              <Input\r\n                                label={{ icon: \"boxes\" }}\r\n                                labelPosition=\"right corner\"\r\n                                type=\"number\"\r\n                                name=\"cantidad\"\r\n                                value={productoChoose?.model?.cantidad}\r\n                                placeholder=\"Cantidad\"\r\n                                onChange={handleProductoChoose}\r\n                              />\r\n                            }\r\n                          />\r\n                        </Form.Field>\r\n                        <Form.Field width={16}>\r\n                          <Popup\r\n                            content={`Descuento en ${\r\n                              !modoDescuento ? \"Efectivo\" : \"Porcentaje\"\r\n                            }`}\r\n                            trigger={\r\n                              <div>\r\n                                {modoDescuento ? (\r\n                                  <Input\r\n                                    type=\"number\"\r\n                                    name=\"por_descuento\"\r\n                                    value={productoChoose?.model?.por_descuento}\r\n                                    placeholder=\"Descuento Porcentaje\"\r\n                                    onChange={\r\n                                      handleProductoChooseDescuentoPorcentaje\r\n                                    }\r\n                                    onKeyDown={handleKeyPressTab}\r\n                                  >\r\n                                    <input />\r\n                                    <Button\r\n                                      icon={\"percent\"}\r\n                                      style={{ marginLeft: \"10px\" }}\r\n                                      onClick={(e) => {\r\n                                        e.preventDefault();\r\n                                        setModoDescuento(!modoDescuento);\r\n                                      }}\r\n                                    />\r\n                                  </Input>\r\n                                ) : (\r\n                                  <Input\r\n                                    type=\"number\"\r\n                                    name=\"val_descuento\"\r\n                                    value={productoChoose?.model?.val_descuento}\r\n                                    placeholder=\"Descuento Valor\"\r\n                                    onChange={\r\n                                      handleProductoChooseDescuentoEfectivo\r\n                                    }\r\n                                    onKeyDown={handleKeyPressTab}\r\n                                  >\r\n                                    <input />\r\n                                    <Button\r\n                                      icon={\"money\"}\r\n                                      style={{ marginLeft: \"10px\" }}\r\n                                      onClick={(e) => {\r\n                                        e.preventDefault();\r\n                                        setModoDescuento(!modoDescuento);\r\n                                      }}\r\n                                    />\r\n                                  </Input>\r\n                                )}\r\n                              </div>\r\n                            }\r\n                          />\r\n                        </Form.Field>\r\n                      </Form>\r\n                    </Modal.Content>\r\n                    <Modal.Actions>\r\n                      <Button\r\n                        primary\r\n                        onClick={addItem}\r\n                        disabled={addItemStatus}\r\n                      >\r\n                        Agregar\r\n                      </Button>\r\n                      <Button\r\n                        as={\"a\"}\r\n                        onClick={() =>\r\n                          setIsOpenItem({\r\n                            state: false,\r\n                            id: undefined,\r\n                          })\r\n                        }\r\n                      >\r\n                        Cerrar\r\n                      </Button>\r\n                    </Modal.Actions>\r\n                  </Modal>\r\n                )}\r\n              </Grid.Column>\r\n            </Grid.Row>\r\n          )}\r\n\r\n          {!!isOpenPagos && (\r\n            <Modal\r\n              size={\"mini\"}\r\n              open={true}\r\n              onClose={() => setIsOpenPagos(false)}\r\n            >\r\n              <Modal.Content>\r\n                <FormularioPago\r\n                  editionMode={editionMode}\r\n                  pagos={watcher.pagos}\r\n                  moneda={watcher.moneda}\r\n                  setChangeFather={setValue}\r\n                  total_operacion={watcher.total_documento_fin}\r\n                />\r\n                <Button primary onClick={() => setIsOpenPagos(false)}>\r\n                  Cerrar\r\n                </Button>\r\n              </Modal.Content>\r\n            </Modal>\r\n          )}\r\n\r\n          <Grid.Row style={{ marginBottom: \"15vh\", marginTop: -20 }}>\r\n            <Grid.Column>\r\n              <Table unstackable>\r\n                <Table.Body>\r\n                  {watcher?.detalles?.map((item, index) => {\r\n                    return (\r\n                      <Table.Row key={index}>\r\n                        <Table.Cell width={8}>\r\n                          {item.producto.nombre}\r\n                        </Table.Cell>\r\n                        <Table.Cell width={3} textAlign=\"right\">\r\n                          <Label basic size=\"tiny\">\r\n                            {item.cantidad} X {watcher.moneda.simbolo}\r\n                            {item.precio_venta}\r\n                          </Label>\r\n                        </Table.Cell>\r\n                        <Table.Cell width={5} textAlign=\"right\">\r\n                          {isOpenItem.state && isOpenItem.id === index && (\r\n                            <Modal\r\n                              size={\"mini\"}\r\n                              open={true}\r\n                              onClose={() =>\r\n                                setIsOpenItem({ state: false, id: undefined })\r\n                              }\r\n                            >\r\n                              <Modal.Header>\r\n                                {item.producto.nombre}\r\n                              </Modal.Header>\r\n                              <Modal.Content>\r\n                                <Form>\r\n                                  <form class=\"ui form\">\r\n                                    <div class=\"unstackable two fields\">\r\n                                      <div class=\"field\">\r\n                                        <label>Cantidad</label>\r\n                                        <div class=\"ui input\">\r\n                                          <Input\r\n                                            placeholder=\"Cantidad\"\r\n                                            value={item?.cantidad}\r\n                                            onChange={(e, element) =>\r\n                                              handleChangeVentaItemList(\r\n                                                element,\r\n                                                index\r\n                                              )\r\n                                            }\r\n                                            name={\"cantidad\"}\r\n                                            disabled={!editionMode}\r\n                                          />\r\n                                        </div>\r\n                                      </div>\r\n                                      <div class=\"field\">\r\n                                        <label>Precio de Venta</label>\r\n                                        <div class=\"ui input\">\r\n                                          {!item.val_descuento ? (\r\n                                            item.precio_venta !== null ? (\r\n                                              <Input\r\n                                                value={item.precio_venta}\r\n                                                onChange={(e, element) =>\r\n                                                  handleChangeVentaItemList(\r\n                                                    element,\r\n                                                    index\r\n                                                  )\r\n                                                }\r\n                                                name={\"precio_venta\"}\r\n                                                disabled={!editionMode}\r\n                                              />\r\n                                            ) : (\r\n                                              (0).toFixed(2)\r\n                                            )\r\n                                          ) : (\r\n                                            <>\r\n                                              <s>\r\n                                                {item.precio_venta\r\n                                                  ? currency(\r\n                                                      Number(item?.precio_venta)\r\n                                                    )\r\n                                                  : (0).toFixed(2)}\r\n                                              </s>\r\n                                              <span\r\n                                                style={{\r\n                                                  marginLeft: \"10px\",\r\n                                                }}\r\n                                              >\r\n                                                {item.precio_venta\r\n                                                  ? currency(\r\n                                                      Number(\r\n                                                        item?.precio_venta -\r\n                                                          item.val_descuento\r\n                                                      )\r\n                                                    )\r\n                                                  : (0).toFixed(2)}\r\n                                              </span>\r\n                                            </>\r\n                                          )}\r\n                                        </div>\r\n                                      </div>\r\n                                    </div>\r\n                                  </form>\r\n                                </Form>\r\n                              </Modal.Content>\r\n                              <Modal.Actions>\r\n                                <Button\r\n                                  onClick={() =>\r\n                                    setIsOpenItem({\r\n                                      state: false,\r\n                                      id: undefined,\r\n                                    })\r\n                                  }\r\n                                >\r\n                                  Cerrar\r\n                                </Button>\r\n                              </Modal.Actions>\r\n                            </Modal>\r\n                          )}\r\n                          <Button\r\n                            disabled={!editionMode}\r\n                            icon\r\n                            size=\"mini\"\r\n                            onClick={async (e) => {\r\n                              e.preventDefault();\r\n                              await setIsOpenItem({ state: true, id: index });\r\n                            }}\r\n                          >\r\n                            <Icon name=\"pencil\" />\r\n                          </Button>\r\n                          <Button\r\n                            icon\r\n                            size=\"mini\"\r\n                            onClick={() => {\r\n                              deleteItem(index);\r\n                            }}\r\n                            disabled={!editionMode}\r\n                          >\r\n                            <Icon name=\"trash\" />\r\n                          </Button>\r\n                        </Table.Cell>\r\n                      </Table.Row>\r\n                    );\r\n                  })}\r\n                </Table.Body>\r\n              </Table>\r\n            </Grid.Column>\r\n          </Grid.Row>\r\n          <Grid.Row>\r\n            <Segment className=\"hidden\" style={{ marginBottom: \"20vh\" }}>\r\n              <QRCode\r\n                value={`${\r\n                  process.env.NODE_ENV !== \"development \"\r\n                   ? process.env.REACT_APP_PRODUCTION_PUBLIC_FRONT\r\n                   :process.env.REACT_APP_DEVELOPER_PUBLIC_FRONT\r\n                }/comprobante?tk=${CriptoJs.AES.encrypt(\r\n                  JSON.stringify({\r\n                    empresa_id: empresa.empresa.id,\r\n                    local_id: empresa.id,\r\n                    tipo_operacion_id: watcher.tipo_operacion_id,\r\n                    serie_id: watcher?.serie?.id,\r\n                    serie: watcher?.serie?.serie,\r\n                    correlativo: watcher?.correlativo,\r\n                    total_documento_fin: watcher?.total_documento_fin,\r\n                  }),\r\n                  \"S2bBho4gEUOok7o3IFiUu4BMcGhz5wR2Eu35YTks\"\r\n                ).toString()}`}\r\n              />\r\n            </Segment>\r\n \r\n          </Grid.Row>\r\n        </Grid>\r\n\r\n        <ModalHeader\r\n          openModal={openModal}\r\n          setOpenModal={setOpenModal}\r\n          type={type}\r\n          control={control}\r\n          handleSubmit={handleSubmit}\r\n          errors={errors}\r\n          setValue={setValue}\r\n          reset={reset}\r\n          watcher={watcher}\r\n          editionMode={editionMode}\r\n          setEditionMode={setEditionMode}\r\n          settingDropdowns={settingDropdowns}\r\n          empresa={empresa}\r\n          selected={selected}\r\n          handleChangeVenta={handleChangeVenta}\r\n        />\r\n        {size.height > 480 && (\r\n          <Menu vertical fixed=\"bottom\" fluid>\r\n            <Table striped unstackable size=\"small\" color=\"blue\">\r\n              <Table.Body>\r\n                <Table.Row>\r\n                  <Table.Cell width={5}>\r\n                    <p>IGV 18%</p>\r\n                    <p>Total Documento</p>\r\n                  </Table.Cell>\r\n                  <Table.Cell width={6} textAlign=\"center\"></Table.Cell>\r\n                  <Table.Cell width={5} textAlign=\"right\">\r\n                    <p>\r\n                      {watcher?.moneda?.simbolo} {currency(watcher?.total_igv)}\r\n                      {\" (\"}\r\n                      {watcher?.moneda?.iso}\r\n                      {\") \"}\r\n                    </p>\r\n                    <p>\r\n                      {watcher?.moneda?.simbolo}{\" \"}\r\n                      {currency(watcher?.total_documento)}\r\n                      {\" (\"}\r\n                      {watcher?.moneda?.iso}\r\n                      {\") \"}\r\n                    </p>\r\n                  </Table.Cell>\r\n                </Table.Row>\r\n                <Table.Row>\r\n                  <Table.Cell />\r\n                  <Table.Cell textAlign=\"center\">\r\n                    <Button\r\n                      loading={isLoadding}\r\n                      disabled={isLoadding}\r\n                      content=\"Guardar\"\r\n                      primary\r\n                      fluid\r\n                    />\r\n                  </Table.Cell>\r\n                  <Table.Cell textAlign=\"right\">\r\n                    {watcher.tipo_operacion_id === 1 && (\r\n                      <Button\r\n                        as={\"a\"}\r\n                        floated=\"right\"\r\n                        icon={\"money\"}\r\n                        content={\r\n                          watcher?.moneda?.simbolo +\r\n                          currency(\r\n                            watcher.total_documento_fin - watcher.pago_status\r\n                          )\r\n                        }\r\n                        color={\r\n                          watcher.forma_pago_id === 1\r\n                            ? \"\"\r\n                            : watcher.pago_status < watcher.total_documento_fin\r\n                            ? \"orange\"\r\n                            : watcher.pago_status ===\r\n                              watcher.total_documento_fin\r\n                            ? \"\"\r\n                            : \"blue\"\r\n                        }\r\n                        onClick={() => setIsOpenPagos(true)}\r\n                      />\r\n                    )}\r\n                  </Table.Cell>\r\n                </Table.Row>\r\n              </Table.Body>\r\n            </Table>\r\n          </Menu>\r\n        )}\r\n      </Form>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default FormularioMovil;\r\n","import React, {\r\n  useEffect,\r\n  useState,\r\n  useContext,\r\n  useRef,\r\n  createRef,\r\n} from \"react\";\r\nimport { useNavigate, useLocation } from \"react-router-dom\";\r\nimport { Controller, useForm } from \"react-hook-form\";\r\nimport QRCode from \"qrcode.react\";\r\nimport CriptoJs from \"crypto-js\";\r\nimport {\r\n  Confirm,\r\n  Form,\r\n  Button,\r\n  Message,\r\n  Grid,\r\n  Table,\r\n  Input,\r\n  Segment,\r\n  Icon,\r\n  Checkbox,\r\n  Dropdown,\r\n  Accordion,\r\n  TextArea,\r\n  Menu,\r\n  Popup,\r\n  Header,\r\n  Ref,\r\n} from \"semantic-ui-react\";\r\n\r\nimport { yupResolver } from \"@hookform/resolvers/yup\";\r\nimport ventaSevice from \"../../services/ventas\";\r\nimport FormFielController from \"../FormFieldController\";\r\nimport EmpresaContext from \"../../context/EmpresaContext\";\r\nimport schema from \"./schema\";\r\nimport handleBackendErrors from \"../../libs/handleBackendErrors\";\r\n\r\nimport settingDropdowns from \"../../libs/settingDropdowns\";\r\n\r\nimport FormFielDropdownSarch from \"../DropdownSearch2\";\r\nimport SearchProductos from \"../../components/SearchProducto\";\r\n\r\nimport Calcular from \"../../libs/calcularPrecios\";\r\nimport { toast } from \"react-toastify\";\r\nimport ViewFormatA4 from \"../ViewFormatA4\";\r\nimport { PDFViewer, PDFDownloadLink, pdf } from \"@react-pdf/renderer\";\r\n\r\nimport ventaContext from \"../../context/VentaContext\";\r\nimport formatFecha from \"../../libs/formatFecha\";\r\nimport Precio from \"../../libs/calcularListaPrecio\";\r\nimport precioService from \"../../services/precio\";\r\nimport FormularioPago from \"./formulario_pago\";\r\nimport useWindowSize from \"../../hooks/useWindowSize\";\r\n\r\nimport currency from \"../../libs/currency\";\r\n\r\nimport FormularioMovil from \"./formulario_movil\";\r\n\r\nconst FormularioVenta = ({\r\n  loading,\r\n  selected,\r\n  handleChangeVenta,\r\n  editionMode,\r\n  setEditionMode,\r\n  state,\r\n  formatPrint,\r\n  setFormatPrint,\r\n  response,\r\n}) => {\r\n  let dropdownItem = createRef();\r\n  let navigate = useNavigate();\r\n  let location = useLocation();\r\n\r\n  const { windowSize: size } = useWindowSize();\r\n\r\n  const { empresa, setEmpresa, impresion } = useContext(EmpresaContext);\r\n  const { setDocumento, ventaDefaultContent } = useContext(ventaContext);\r\n  const [isLoadding, setIsloadding] = useState(false);\r\n  const [isBackendError, setIsBackendError] = useState(false);\r\n  const [openConfimation, setOpenConfirmation] = useState(false);\r\n  const [addItemStatus, setAddItemStatus] = useState(false);\r\n  const [qrCodeBase64, setQrCodeBase64] = useState(false);\r\n  const [activeItem, setActiveItem] = useState(2);\r\n  const [activeItemOptions, setActiveItemOptions] = useState(false);\r\n  const [modoDescuento, setModoDescuento] = useState(false);\r\n\r\n  const [openConfimationListPrice, setOpenConfimationListPrice] =\r\n    useState(false);\r\n\r\n  const [data, setData] = useState(null);\r\n\r\n  const [itemSelected, setItemSelected] = useState(false);\r\n  const [precioSelected, setPrecioSelected] = useState([{ key: 0 }]);\r\n  const [productoChoose, setProductoChoose] = useState({\r\n    model: { precio_venta: 0, cantidad: 0, descuento: 0 },\r\n  });\r\n  const [listDetalles, setListDetalles] = useState([]);\r\n  const edition = [];\r\n  const inputRef = useRef(null);\r\n\r\n  const handleCreateNewPrice = async (e, element) => {\r\n    const lastProduct = watcher.detalles[watcher.detalles.length - 1];\r\n    lastProduct.moneda_id = watcher.moneda_id;\r\n    lastProduct.costo_compra = lastProduct.precio_compra;\r\n    const item = _precio.precioVenta(lastProduct);\r\n    const create = await precioService.create(item);\r\n    console.log({ create });\r\n\r\n    setOpenConfimationListPrice(false);\r\n  };\r\n\r\n  const handleClick = (e, titleProps) => {\r\n    const { index } = titleProps;\r\n    const { activeIndex } = activeItem;\r\n    const newIndex = activeIndex === index ? -1 : index;\r\n\r\n    setActiveItem(newIndex);\r\n  };\r\n\r\n  if (!!!selected) {\r\n    selected = !!state\r\n      ? { ...state, ...ventaDefaultContent }\r\n      : {\r\n          serie: { tipo_operacion_id: 1 }, //TODO: tipo de operacion debe venir del parametro de la ruta\r\n          tipo_operacion_id: 1,\r\n          detalles: [],\r\n          documento_relacion_search: undefined,\r\n          documento_relacion_search_id: undefined,\r\n        };\r\n  }\r\n\r\n  const {\r\n    control,\r\n    handleSubmit,\r\n    formState: { errors },\r\n    setValue,\r\n    reset,\r\n    watch,\r\n  } = useForm({\r\n    resolver: yupResolver(schema),\r\n    defaultValues: { ...selected } || state.model,\r\n  });\r\n\r\n  const watcher = watch(); // you can also target specific fields by their names\r\n\r\n  useEffect(() => {\r\n    const subscription = watch((value) => {\r\n      setDocumento(value);\r\n    });\r\n    return () => subscription.unsubscribe();\r\n  }, [watch, setDocumento]);\r\n\r\n  const _precio = new Precio();\r\n\r\n  const calcular = new Calcular(\r\n    \"venta\",\r\n    empresa.empresa.limite_detraccion,\r\n    empresa.empresa.por_detraccion,\r\n    empresa.empresa.por_percepcion,\r\n    null,\r\n    18,\r\n    8,\r\n    watcher.id\r\n  );\r\n\r\n  const openSearchProducto = () => {\r\n    SearchProductosRef.current.open();\r\n    // inputRef.current.open();\r\n  };\r\n\r\n  useEffect(() => {\r\n    const precios = itemSelected?.model?.precios.map((e, index) => {\r\n      const obj = {\r\n        key: index,\r\n        text: e?.presentacion?.abbr,\r\n        value: e?.id,\r\n        model: e,\r\n      };\r\n      return obj;\r\n    });\r\n    setPrecioSelected(precios);\r\n    return () => {\r\n      setPrecioSelected(false);\r\n    };\r\n  }, [itemSelected]);\r\n\r\n  // useEffect(() => {\r\n  //   if (itemSelected) {\r\n  //     handleProductoChoose(null, { name: \"cantidad\", value: 1.0 });\r\n  //     return () => {\r\n  //       handleProductoChoose(false);\r\n  //     };\r\n  //   }\r\n  // }, [itemSelected]);\r\n\r\n  useEffect(() => {\r\n    if (selected) {\r\n      setTimeout(() => {\r\n        setFormatPrint({ status: false });\r\n        const qrCodeCanvas = document?.querySelector(\"canvas\");\r\n        console.log(qrCodeCanvas);\r\n        setQrCodeBase64(qrCodeCanvas?.toDataURL(\"image/jpg\", 0.3));\r\n        setData(selected);\r\n        setDocumento(selected);\r\n        console.log(qrCodeCanvas?.toDataURL(\"image/jpg\", 0.3));\r\n      }, 500);\r\n    }\r\n\r\n    return () => {\r\n      setData(false);\r\n    };\r\n  }, []);\r\n\r\n  // useEffect(() => {\r\n  //   const subscription = watch((value, { name, type }) => {\r\n  //     if (name === \"serie_id\") {\r\n  //       console.log(value?.serie);\r\n  //       setTimeout(() => {\r\n  //         setValue(\"correlativo\", value?.serie?.correlativo);\r\n  //       }, 500);\r\n  //     }\r\n  //   });\r\n  //   return () => subscription.unsubscribe();\r\n  // }, [watch, setValue]);\r\n\r\n  const watchDetalles = (detalles, descuento = 0) => {\r\n    const totales = calcular.totales(detalles, descuento);\r\n    Object.keys(totales).map((v) => {\r\n      setValue(v, totales[v]);\r\n      return v;\r\n    });\r\n\r\n    // .then((totales) => {\r\n    // Object.keys(totales).map((v, index) => {\r\n    //   setValue(v, totales[v]);\r\n    //   // });\r\n    // });\r\n  };\r\n\r\n  const deleteItem = (key) => {\r\n    const lista = watcher.detalles;\r\n    lista.splice(key, 1);\r\n    setValue(\"detalles\", lista);\r\n    watchDetalles(watcher.detalles, watcher.total_descuento_global);\r\n    // console.log(\"delete firts\", lista);\r\n  };\r\n\r\n  const valid = ({ productoChoose, itemSelected }) => {\r\n    return new Promise((res, reject) => {\r\n      if (\r\n        !!productoChoose &&\r\n        !!itemSelected &&\r\n        !!itemSelected.model &&\r\n        !!productoChoose.model.costo_venta &&\r\n        !!productoChoose.model.cantidad\r\n      ) {\r\n        res({ productoChoose, itemSelected });\r\n      } else {\r\n        reject(false);\r\n      }\r\n    });\r\n  };\r\n\r\n  const clearPresentationItem = () => {\r\n    const element = dropdownItem.current.querySelector(\r\n      '[aria-selected=\"true\"]'\r\n    );\r\n    if (element) {\r\n      dropdownItem.current.querySelector(\".clear\").click();\r\n    }\r\n  };\r\n  const handleKeyPressTab = (e) => {\r\n    if (e.key === \"Tab\" || e.key === \"Enter\") {\r\n      addItem();\r\n      clearPresentationItem();\r\n      openSearchProducto();\r\n    }\r\n  };\r\n  const addItem = async () => {\r\n    setAddItemStatus(true);\r\n    await valid({ productoChoose, itemSelected }).then(\r\n      (res) => {\r\n        const item = productoChoose.model;\r\n        item.codigo = productoChoose.model.codigo;\r\n        item.monto_igv = productoChoose.model.igv;\r\n        item.precio_unitario = productoChoose.model.costo_venta;\r\n        item.monto_precio_unitario = productoChoose.model.costo_venta;\r\n        item.producto = {\r\n          id: itemSelected.model.id,\r\n          nombre: itemSelected.model.nombre,\r\n          peso: itemSelected.model.peso,\r\n          afecto: itemSelected.model.afecto,\r\n        };\r\n\r\n        if (!!!item.precios.length) {\r\n          setOpenConfimationListPrice(true);\r\n        }\r\n\r\n        const lista = watcher.detalles || [];\r\n\r\n        lista.push(item);\r\n        setValue(\"detalles\", lista);\r\n        watchDetalles(watcher.detalles);\r\n        setAddItemStatus(false);\r\n        setProductoChoose({\r\n          model: { precio_venta: 0, cantidad: 0, descuento: 0 },\r\n        });\r\n      },\r\n      (err) => {\r\n        toast.error(\"complete el formulario de ingreso de producto\");\r\n        setAddItemStatus(false);\r\n      }\r\n    );\r\n  };\r\n\r\n  const close = () => {\r\n    if (!!!location.state?.backgroundLocation) {\r\n      setIsloadding(false);\r\n      return false;\r\n    }\r\n\r\n    navigate(location.state.backgroundLocation.pathname, {\r\n      state: { reload: { ventas: true } },\r\n    });\r\n  };\r\n\r\n  const handleProductoChoose = (e, element) => {\r\n    if (!!!element) {\r\n      return false;\r\n    }\r\n\r\n    if (element.name === \"precio_venta\") {\r\n      if (!!!productoChoose && !!!productoChoose.model) {\r\n        productoChoose.model.cantidad = 0;\r\n      }\r\n    }\r\n\r\n    const input = {};\r\n    input[element.name] = element.value;\r\n    const model = { ...productoChoose.model, ...input };\r\n    // console.log(\">>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\");\r\n    // console.log(itemSelected.model);\r\n    // console.log(model);\r\n    // console.log(\">>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\");\r\n    const newModel = calcular.item(itemSelected.model, model);\r\n\r\n    // READY\r\n\r\n    // console.log(\r\n    //   model.costo_venta,\r\n    //   model.por_utilidad,\r\n    //   model.igv,\r\n    //   model.monto_base_igv,\r\n    //   model.monto_igv\r\n    // );\r\n    const item = productoChoose;\r\n    item.model = newModel;\r\n\r\n    setProductoChoose({ ...item });\r\n  };\r\n\r\n  const handleProductoChooseDescuentoEfectivo = (e, { name, value }) => {\r\n    const input = {};\r\n    input[name] = Number(value);\r\n    const model = { ...productoChoose.model, ...input };\r\n    const combineModel = { ...itemSelected.model, ...model };\r\n    let newModel = calcular.descuentoEfectivo(combineModel);\r\n    const item = productoChoose;\r\n    item.model = newModel;\r\n    item.model = { ...item.model, ...input };\r\n    setProductoChoose({ ...item });\r\n    // handleProductoChoose(e, {name,value});\r\n  };\r\n\r\n  const handleProductoChooseDescuentoPorcentaje = (e, { name, value }) => {\r\n    const input = {};\r\n    input[name] = Number(value);\r\n    const model = { ...productoChoose.model, ...input };\r\n    const combineModel = { ...itemSelected.model, ...model };\r\n\r\n    const newModel = calcular.descuentoPorcentaje(combineModel);\r\n    const item = productoChoose;\r\n    item.model = newModel;\r\n    item.model = { ...item.model, ...input };\r\n    setProductoChoose({ ...item });\r\n    // handleProductoChoose(e, { name, value });\r\n  };\r\n\r\n  const handleInsertDocumentRelation = () => {\r\n    if (\r\n      !watcher.documento_relacion_search &&\r\n      !watcher.documento_relacion_search_id\r\n    ) {\r\n      toast.error(\"Seleccione un documento válido\");\r\n      return false;\r\n    }\r\n    const set = watcher.documento_relacion || [];\r\n    const documento_relacion = {\r\n      documento_relacion_id: watcher.documento_relacion_search.id,\r\n      documento_relacion: watcher.documento_relacion_search,\r\n    };\r\n\r\n    set.push(documento_relacion);\r\n\r\n    setValue(\"documento_relacion\", set);\r\n    setValue(\"documento_relacion_search\", 0);\r\n    setValue(\"documento_relacion_search_id\", 0);\r\n  };\r\n  const handleDeleteDocumentRelation = (index) => {\r\n    const lista = watcher.documento_relacion;\r\n    lista.splice(index, 1);\r\n    setValue(\"documento_relacion\", lista);\r\n  };\r\n  const updateCorrelativo = () => {\r\n    setValue(\"correlativo\", parseFloat(watcher?.correlativo) + 1);\r\n  };\r\n  const resetFormAfterSave = () => {\r\n    updateCorrelativo();\r\n    setValue(\"detalles\", []);\r\n    setValue(\"pagos\", []);\r\n    setValue(\"detalle\", false);\r\n    setValue(\"vendedor_id\", undefined);\r\n    setValue(\"total_afecto\", 0);\r\n    setValue(\"total_descuento_global\", 0);\r\n    setValue(\"total_descuento_lineal\", 0);\r\n    setValue(\"total_detraccion\", 0);\r\n    setValue(\"total_documento\", 0);\r\n    setValue(\"total_documento_fin\", 0);\r\n    setValue(\"total_exonerado\", 0);\r\n    setValue(\"total_igv\", 0);\r\n    setValue(\"total_inafecto\", 0);\r\n    setValue(\"total_isc\", 0);\r\n    setValue(\"total_percepcion\", 0);\r\n    setValue(\"total_peso\", 0);\r\n  };\r\n  const onSubmit = async (data) => {\r\n    if (!!data && data.id) {\r\n      setIsloadding(true);\r\n      // update\r\n      const update = await toast.promise(ventaSevice.update(data, data.id), {\r\n        pending: \"Actualizando...\",\r\n        success: \"Documento Actualizado 👌\",\r\n        error: \"Error de documento 🤯\",\r\n      });\r\n\r\n      if (!!!state) {\r\n        handleChangeVenta(data);\r\n        if (empresa.empresa.id === update.id) {\r\n          empresa.empresa = update;\r\n          await setEmpresa(empresa);\r\n          await setIsloadding(false);\r\n          close();\r\n        } else {\r\n          close();\r\n          setIsloadding(false);\r\n        }\r\n      } else {\r\n        setIsloadding(false);\r\n      }\r\n      if (impresion?.after_save) {\r\n        setFormatPrint({ status: !formatPrint?.status, from: \"update\" });\r\n      }\r\n      // verificar si es la empresa actual en el contexto del la instancia de local/empresa\r\n    } else {\r\n      //create\r\n      // const create = await ventaSevice.create(data);\r\n\r\n      const create = await toast.promise(ventaSevice.create(data), {\r\n        pending: \"Guardando...\",\r\n        success: \"Documento Guardado 👌\",\r\n        error: \"Error de documento 🤯\",\r\n      });\r\n\r\n      setIsloadding(false);\r\n      if (create?.errors) {\r\n        if (state?.id) {\r\n          handleChangeVenta(data);\r\n        }\r\n        setIsBackendError(handleBackendErrors(create));\r\n      } else {\r\n        // resetFormAfterSave();\r\n        /**Clear All Form Except (Serie, Cliente ,) */\r\n        /**END Clear */\r\n        if (impresion?.after_save) {\r\n          setFormatPrint({ status: !formatPrint?.status, from: \"create\" });\r\n        } else {\r\n          resetFormAfterSave();\r\n        }\r\n        setIsBackendError(null);\r\n        close();\r\n      }\r\n      return create;\r\n    }\r\n  };\r\n\r\n  const handleChangeVentaItemList = (element, index) => {\r\n    console.log(element, index);\r\n    const items = watcher.detalles;\r\n    const item = watcher.detalles[index];\r\n\r\n    if (element.name === \"cantidad\") {\r\n      item.cantidad = element.value || undefined;\r\n    }\r\n\r\n    if (element.name === \"precio_venta\") {\r\n      items[index].precio_venta = element.value || undefined;\r\n    }\r\n    item.is_detail = true;\r\n    const newItem = calcular.item(items[index], item);\r\n    console.log(newItem);\r\n    items[index] = newItem;\r\n    setValue(\"detalles\", items);\r\n\r\n    watchDetalles(items, 0);\r\n    // calcular.totales(items);\r\n  };\r\n\r\n  const changeSerie = ({ options, value }) => {\r\n    // const selected = options[value - 1];\r\n\r\n    const selected = options.find((v, k) => v.value === value);\r\n    setValue(\"correlativo\", selected?.model?.correlativo || 1);\r\n  };\r\n\r\n  const settStayle = () => {\r\n    if (!!!location.pathname.search(\"/space/ventas/\")) {\r\n      return { overflowY: \"scroll\", height: \"95vh\", marginTop: \"1vh\" };\r\n    } else {\r\n      return { overflowY: \"scroll\", height: \"84vh\", marginTop: \"1vh\" };\r\n    }\r\n  };\r\n\r\n  const undoChanges = (event) => {\r\n    reset(selected);\r\n  };\r\n\r\n  const SearchProductosRef = useRef();\r\n\r\n  const [token, setToken] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const tk = CriptoJs.AES.encrypt(\r\n      JSON.stringify({\r\n        empresa_id: empresa.empresa.id,\r\n        local_id: empresa.id,\r\n        tipo_operacion_id: watcher.tipo_operacion_id,\r\n        serie_id: watcher?.serie?.id,\r\n        serie: watcher?.serie?.serie,\r\n        correlativo: watcher?.correlativo,\r\n        total_documento_fin: watcher?.total_documento_fin,\r\n      }),\r\n      \"S2bBho4gEUOok7o3IFiUu4BMcGhz5wR2Eu35YTks\"\r\n    ).toString();\r\n    setToken(tk);\r\n  }, []);\r\n\r\n  return (\r\n    <div style={settStayle()}>\r\n      {formatPrint && !!!formatPrint?.status ? (\r\n        <>\r\n          {size.width > 700 && (\r\n            <Form onSubmit={handleSubmit(onSubmit)} noValidate>\r\n              <Segment loading={loading}>\r\n                <Form.Group widths={3}>\r\n                  {!editionMode ? (\r\n                    <Form.Input\r\n                      fluid\r\n                      label=\"Serie\"\r\n                      placeholder=\"Seleccione Serie\"\r\n                      value={\r\n                        watcher?.serie?.descripcion +\r\n                        \"-\" +\r\n                        watcher?.serie?.serie\r\n                      }\r\n                      readOnly\r\n                      width={4}\r\n                    />\r\n                  ) : (\r\n                    <FormFielDropdownSarch\r\n                      model={settingDropdowns.serie}\r\n                      moreRouteParams={{\r\n                        tipo_operacion_id: selected?.serie?.tipo_operacion_id,\r\n                      }}\r\n                      empresaContexto={empresa}\r\n                      control={control}\r\n                      venta={selected}\r\n                      handleChangeVenta={handleChangeVenta}\r\n                      setValue={setValue}\r\n                      width={4}\r\n                      onListenChange={changeSerie}\r\n                    />\r\n                  )}\r\n                  {!editionMode ? (\r\n                    <Form.Input\r\n                      fluid\r\n                      label=\"Correlativo\"\r\n                      placeholder=\"Selecione\"\r\n                      value={watcher?.correlativo}\r\n                      readOnly\r\n                      width={2}\r\n                    />\r\n                  ) : (\r\n                    <FormFielController\r\n                      name={\"correlativo\"}\r\n                      title={\"Correlativo\"}\r\n                      control={control}\r\n                      errors={errors}\r\n                      type=\"number\"\r\n                      width={2}\r\n                    />\r\n                  )}\r\n\r\n                  {!editionMode ? (\r\n                    <Form.Input\r\n                      fluid\r\n                      label=\"Cliente\"\r\n                      placeholder=\"Selecione\"\r\n                      value={watcher?.cliente?.nombre}\r\n                      readOnly\r\n                      width={10}\r\n                    />\r\n                  ) : (\r\n                    <FormFielDropdownSarch\r\n                      model={settingDropdowns.clientes}\r\n                      empresaContexto={empresa}\r\n                      control={control}\r\n                      venta={selected}\r\n                      handleChangeVenta={handleChangeVenta}\r\n                      setValue={setValue}\r\n                      width={10}\r\n                    />\r\n                  )}\r\n                </Form.Group>\r\n                <Form.Group>\r\n                  {!editionMode ? (\r\n                    <Form.Input\r\n                      fluid\r\n                      label=\"Almacen\"\r\n                      placeholder=\"Selecione\"\r\n                      value={watcher?.almacen?.nombre}\r\n                      readOnly\r\n                      width={4}\r\n                    />\r\n                  ) : (\r\n                    <FormFielDropdownSarch\r\n                      model={settingDropdowns.almacen}\r\n                      empresaContexto={empresa}\r\n                      control={control}\r\n                      venta={selected}\r\n                      handleChangeVenta={handleChangeVenta}\r\n                      setValue={setValue}\r\n                      width={4}\r\n                    />\r\n                  )}\r\n                  {!editionMode ? (\r\n                    <Form.Input\r\n                      fluid\r\n                      label=\"Condición de Pago\"\r\n                      placeholder=\"Selecione\"\r\n                      value={watcher?.forma_pago?.nombre}\r\n                      readOnly\r\n                      width={3}\r\n                    />\r\n                  ) : (\r\n                    <FormFielDropdownSarch\r\n                      model={settingDropdowns.forma_pago}\r\n                      empresaContexto={empresa}\r\n                      control={control}\r\n                      venta={selected}\r\n                      handleChangeVenta={handleChangeVenta}\r\n                      setValue={setValue}\r\n                      width={3}\r\n                    />\r\n                  )}\r\n                  {!editionMode ? (\r\n                    <Form.Input\r\n                      fluid\r\n                      label=\"Fecha de Emisión\"\r\n                      placeholder=\"Selecione\"\r\n                      value={formatFecha.format(watcher?.fecha_emision)}\r\n                      readOnly\r\n                      width={3}\r\n                    />\r\n                  ) : (\r\n                    <FormFielController\r\n                      name={\"fecha_emision\"}\r\n                      title={\"Fecha Emisión\"}\r\n                      control={control}\r\n                      errors={errors}\r\n                      type=\"date\"\r\n                      width={3}\r\n                    />\r\n                  )}\r\n\r\n                  {!editionMode ? (\r\n                    <Form.Input\r\n                      fluid\r\n                      label=\"Fecha de Registro\"\r\n                      placeholder=\"Selecione\"\r\n                      value={formatFecha.format(watcher?.fecha_registro)}\r\n                      readOnly\r\n                      width={3}\r\n                    />\r\n                  ) : (\r\n                    <FormFielController\r\n                      name={\"fecha_registro\"}\r\n                      title={\"Fecha Registro\"}\r\n                      control={control}\r\n                      errors={errors}\r\n                      type=\"date\"\r\n                      width={3}\r\n                    />\r\n                  )}\r\n                  {!editionMode ? (\r\n                    <Form.Input\r\n                      fluid\r\n                      label=\"Moneda\"\r\n                      placeholder=\"Selecione\"\r\n                      value={watcher?.moneda.nombre}\r\n                      readOnly\r\n                      width={3}\r\n                    />\r\n                  ) : (\r\n                    <FormFielDropdownSarch\r\n                      model={settingDropdowns.moneda}\r\n                      empresaContexto={empresa}\r\n                      control={control}\r\n                      venta={selected}\r\n                      handleChangeVenta={handleChangeVenta}\r\n                      setValue={setValue}\r\n                      width={3}\r\n                    />\r\n                  )}\r\n                </Form.Group>\r\n                {editionMode && (\r\n                  <Form.Group>\r\n                    <Form.Field width={6}>\r\n                      <SearchProductos\r\n                        empresaContexto={empresa}\r\n                        model={settingDropdowns.producto}\r\n                        setItemSelected={setItemSelected}\r\n                        ref={SearchProductosRef}\r\n                      />\r\n                    </Form.Field>\r\n                    <Form.Field width={2}>\r\n                      <Ref innerRef={dropdownItem}>\r\n                        <Dropdown\r\n                          fluid\r\n                          clearable\r\n                          options={precioSelected}\r\n                          onChange={(e, element) => {\r\n                            const item = element?.options?.find(\r\n                              (item) => element?.value === item.value\r\n                            );\r\n                            setProductoChoose(item);\r\n                          }}\r\n                          selection\r\n                        />\r\n                      </Ref>\r\n                    </Form.Field>\r\n                    <Form.Field width={3}>\r\n                      <Popup\r\n                        content=\"Precio de Venta (Con IGV Incluido)\"\r\n                        trigger={\r\n                          <Input\r\n                            label={\r\n                              !productoChoose?.model?.val_descuento\r\n                                ? { icon: \"money\" }\r\n                                : {\r\n                                    tag: true,\r\n                                    content: currency(\r\n                                      productoChoose?.model?.precio_venta -\r\n                                        productoChoose?.model?.val_descuento\r\n                                    ),\r\n                                    color: \"teal\",\r\n                                  }\r\n                            }\r\n                            labelPosition={\r\n                              !productoChoose?.model?.val_descuento\r\n                                ? \"right corner\"\r\n                                : \"right\"\r\n                            }\r\n                            type=\"number\"\r\n                            name=\"precio_venta\"\r\n                            value={productoChoose?.model?.precio_venta}\r\n                            onChange={handleProductoChoose}\r\n                            placeholder=\"Precio\"\r\n                          />\r\n                        }\r\n                      />\r\n                    </Form.Field>\r\n                    <Form.Field width={2}>\r\n                      <Popup\r\n                        content=\"Cantidad de Items\"\r\n                        trigger={\r\n                          <Input\r\n                            label={{ icon: \"boxes\" }}\r\n                            labelPosition=\"right corner\"\r\n                            type=\"number\"\r\n                            name=\"cantidad\"\r\n                            value={productoChoose?.model?.cantidad}\r\n                            placeholder=\"Cantidad\"\r\n                            onChange={handleProductoChoose}\r\n                          />\r\n                        }\r\n                      />\r\n                    </Form.Field>\r\n                    <Form.Field width={2}>\r\n                      <Popup\r\n                        content={`Descuento en ${\r\n                          !modoDescuento ? \"Efectivo\" : \"Porcentaje\"\r\n                        }`}\r\n                        trigger={\r\n                          <div>\r\n                            {modoDescuento ? (\r\n                              <Input\r\n                                type=\"number\"\r\n                                name=\"por_descuento\"\r\n                                value={productoChoose?.model?.por_descuento}\r\n                                placeholder=\"Descuento Porcentaje\"\r\n                                onChange={\r\n                                  handleProductoChooseDescuentoPorcentaje\r\n                                }\r\n                                onKeyDown={handleKeyPressTab}\r\n                              >\r\n                                <input />\r\n                                <Button\r\n                                  icon={\"percent\"}\r\n                                  style={{ marginLeft: \"10px\" }}\r\n                                  onClick={(e) => {\r\n                                    e.preventDefault();\r\n                                    setModoDescuento(!modoDescuento);\r\n                                  }}\r\n                                />\r\n                              </Input>\r\n                            ) : (\r\n                              <Input\r\n                                type=\"number\"\r\n                                name=\"val_descuento\"\r\n                                value={productoChoose?.model?.val_descuento}\r\n                                placeholder=\"Descuento Valor\"\r\n                                onChange={handleProductoChooseDescuentoEfectivo}\r\n                                onKeyDown={handleKeyPressTab}\r\n                              >\r\n                                <input />\r\n                                <Button\r\n                                  icon={\"money\"}\r\n                                  style={{ marginLeft: \"10px\" }}\r\n                                  onClick={(e) => {\r\n                                    e.preventDefault();\r\n                                    setModoDescuento(!modoDescuento);\r\n                                  }}\r\n                                />\r\n                              </Input>\r\n                            )}\r\n                          </div>\r\n                        }\r\n                      />\r\n                    </Form.Field>\r\n                    <Form.Field width={1}>\r\n                      <Button\r\n                        as={\"a\"}\r\n                        fluid\r\n                        color=\"teal\"\r\n                        animated=\"vertical\"\r\n                        onClick={addItem}\r\n                        disabled={addItemStatus}\r\n                      >\r\n                        <Button.Content hidden>Agregar</Button.Content>\r\n                        <Button.Content visible>\r\n                          <Icon name=\"arrow down\" />\r\n                        </Button.Content>\r\n                      </Button>\r\n                      {/* <Button\r\n                    fluid\r\n                    as=\"a\"\r\n                    content=\"Add\"\r\n\r\n                  /> */}\r\n                    </Form.Field>\r\n                  </Form.Group>\r\n                )}\r\n\r\n                <Grid>\r\n                  <Grid.Column\r\n                    width={12}\r\n                    style={{ overflowY: \"scroll\", height: \"55vh\" }}\r\n                  >\r\n                    <Table compact definition striped>\r\n                      <Table.Header fullWidth>\r\n                        <Table.Row>\r\n                          <Table.HeaderCell width={1} />\r\n                          <Table.HeaderCell width={8}>\r\n                            Producto ó Servicio\r\n                          </Table.HeaderCell>\r\n                          <Table.HeaderCell textAlign={\"right\"} width={2}>\r\n                            <abbr title=\"Precio de venta con IGV\">\r\n                              {watcher?.moneda?.simbolo}\r\n                            </abbr>\r\n                          </Table.HeaderCell>\r\n                          <Table.HeaderCell textAlign={\"right\"} width={2}>\r\n                            <abbr title=\"Cantidad\">Cant</abbr>\r\n                          </Table.HeaderCell>\r\n                          <Table.HeaderCell textAlign={\"right\"} width={2}>\r\n                            <abbr title=\"Descuento\">Desc</abbr>\r\n                          </Table.HeaderCell>\r\n                          <Table.HeaderCell\r\n                            textAlign={\"right\"}\r\n                            width={1}\r\n                          ></Table.HeaderCell>\r\n                        </Table.Row>\r\n                      </Table.Header>\r\n\r\n                      <Table.Body>\r\n                        {watcher?.detalles?.map((item, index) => {\r\n                          return (\r\n                            <Table.Row key={index}>\r\n                              <Table.Cell collapsing>\r\n                                <Checkbox slider />\r\n                              </Table.Cell>\r\n                              <Table.Cell>{item.producto.nombre}</Table.Cell>\r\n                              <Table.Cell textAlign={\"right\"}>\r\n                                {!item.val_descuento ? (\r\n                                  item.precio_venta !== null ? (\r\n                                    <Input\r\n                                      value={item.precio_venta}\r\n                                      onChange={(e, element) =>\r\n                                        handleChangeVentaItemList(\r\n                                          element,\r\n                                          index\r\n                                        )\r\n                                      }\r\n                                      name={\"precio_venta\"}\r\n                                      disabled={!editionMode}\r\n                                    />\r\n                                  ) : (\r\n                                    (0).toFixed(2)\r\n                                  )\r\n                                ) : (\r\n                                  <>\r\n                                    <s>\r\n                                      {item.precio_venta\r\n                                        ? currency(Number(item?.precio_venta))\r\n                                        : (0).toFixed(2)}\r\n                                    </s>\r\n                                    <span style={{ marginLeft: \"10px\" }}>\r\n                                      {item.precio_venta\r\n                                        ? currency(\r\n                                            Number(\r\n                                              item?.precio_venta -\r\n                                                item.val_descuento\r\n                                            )\r\n                                          )\r\n                                        : (0).toFixed(2)}\r\n                                    </span>\r\n                                  </>\r\n                                )}\r\n                              </Table.Cell>\r\n                              <Table.Cell style={{ align: \"center\" }}>\r\n                                <Input\r\n                                  placeholder=\"Cantidad\"\r\n                                  value={item?.cantidad}\r\n                                  onChange={(e, element) =>\r\n                                    handleChangeVentaItemList(element, index)\r\n                                  }\r\n                                  name={\"cantidad\"}\r\n                                  disabled={!editionMode}\r\n                                />\r\n                              </Table.Cell>\r\n                              <Table.Cell textAlign={\"right\"}>\r\n                                {item.val_descuento\r\n                                  ? currency(Number(item?.val_descuento))\r\n                                  : (0).toFixed(2)}\r\n                              </Table.Cell>\r\n                              <Table.Cell textAlign={\"right\"}>\r\n                                <Button\r\n                                  circular\r\n                                  as=\"a\"\r\n                                  size=\"mini\"\r\n                                  onClick={() => {\r\n                                    deleteItem(index);\r\n                                  }}\r\n                                  disabled={!editionMode}\r\n                                  icon=\"trash\"\r\n                                />\r\n                              </Table.Cell>\r\n                            </Table.Row>\r\n                          );\r\n                        })}\r\n                      </Table.Body>\r\n                    </Table>\r\n\r\n                    {!!Number(watcher.is_nulled) ? (\r\n                      <Segment placeholder>\r\n                        <Header icon>\r\n                          <Icon name=\"ban\" />\r\n                          Documento sin detalles.\r\n                        </Header>\r\n                      </Segment>\r\n                    ) : (\r\n                      <></>\r\n                    )}\r\n                  </Grid.Column>\r\n                  <Grid.Column floated=\"right\" width={4}>\r\n                    <Table compact=\"very\" color=\"black\">\r\n                      <Table.Body>\r\n                        {true && (\r\n                          <Table.Row>\r\n                            <Table.Cell textAlign=\"right\">Peso </Table.Cell>\r\n                            <Table.Cell textAlign=\"right\">\r\n                              Kg {Number(watcher?.total_peso).toFixed(2)}\r\n                            </Table.Cell>\r\n                          </Table.Row>\r\n                        )}\r\n                        {true && (\r\n                          <Table.Row>\r\n                            <Table.Cell textAlign=\"right\"> Afecto </Table.Cell>\r\n                            <Table.Cell textAlign=\"right\">\r\n                              {watcher?.moneda?.simbolo}{\" \"}\r\n                              {currency(watcher?.total_afecto)}\r\n                              {\" (\"}\r\n                              {watcher?.moneda?.iso}\r\n                              {\") \"}\r\n                            </Table.Cell>\r\n                          </Table.Row>\r\n                        )}\r\n                        {true && (\r\n                          <Table.Row>\r\n                            <Table.Cell textAlign=\"right\">\r\n                              {\" \"}\r\n                              Inafecto{\" \"}\r\n                            </Table.Cell>\r\n                            <Table.Cell textAlign=\"right\">\r\n                              {watcher?.moneda?.simbolo}{\" \"}\r\n                              {currency(watcher?.total_inafecto)}\r\n                              {\" (\"}\r\n                              {watcher?.moneda?.iso}\r\n                              {\") \"}\r\n                            </Table.Cell>\r\n                          </Table.Row>\r\n                        )}\r\n                        {true && (\r\n                          <Table.Row>\r\n                            <Table.Cell textAlign=\"right\"> ISC </Table.Cell>\r\n                            <Table.Cell textAlign=\"right\">\r\n                              {watcher?.moneda?.simbolo}{\" \"}\r\n                              {currency(watcher.total_isc)}\r\n                              {\" (\"}\r\n                              {watcher?.moneda?.iso}\r\n                              {\") \"}\r\n                            </Table.Cell>\r\n                          </Table.Row>\r\n                        )}\r\n                        {true && (\r\n                          <Table.Row>\r\n                            <Table.Cell textAlign=\"right\"> IGV </Table.Cell>\r\n                            <Table.Cell textAlign=\"right\">\r\n                              {watcher?.moneda?.simbolo}{\" \"}\r\n                              {currency(watcher?.total_igv)}\r\n                              {\" (\"}\r\n                              {watcher?.moneda?.iso}\r\n                              {\") \"}\r\n                            </Table.Cell>\r\n                          </Table.Row>\r\n                        )}\r\n                        {true && (\r\n                          <Table.Row>\r\n                            <Table.Cell textAlign=\"right\">\r\n                              Descuento Items\r\n                            </Table.Cell>\r\n                            <Table.Cell textAlign=\"right\">\r\n                              {watcher?.moneda?.simbolo}{\" \"}\r\n                              {currency(watcher?.total_descuento_lineal)}\r\n                              {\" (\"}\r\n                              {watcher?.moneda?.iso}\r\n                              {\") \"}\r\n                            </Table.Cell>\r\n                          </Table.Row>\r\n                        )}\r\n\r\n                        {true && (\r\n                          <Table.Row>\r\n                            <Table.Cell textAlign=\"right\">\r\n                              Descuento Global\r\n                            </Table.Cell>\r\n                            <Table.Cell textAlign=\"right\">\r\n                              {watcher?.moneda?.simbolo}{\" \"}\r\n                              {currency(watcher?.total_descuento_global)}\r\n                              {\" (\"}\r\n                              {watcher?.moneda?.iso}\r\n                              {\") \"}\r\n                            </Table.Cell>\r\n                          </Table.Row>\r\n                        )}\r\n\r\n                        {true && (\r\n                          <Table.Row>\r\n                            <Table.Cell textAlign=\"right\">Documento</Table.Cell>\r\n                            <Table.Cell textAlign=\"right\">\r\n                              {watcher?.moneda?.simbolo}{\" \"}\r\n                              {currency(watcher?.total_documento)}\r\n                              {\" (\"}\r\n                              {watcher?.moneda?.iso}\r\n                              {\") \"}\r\n                            </Table.Cell>\r\n                          </Table.Row>\r\n                        )}\r\n\r\n                        {true && (\r\n                          <Table.Row>\r\n                            <Table.Cell textAlign=\"right\">\r\n                              {\" \"}\r\n                              Percepción{\" \"}\r\n                            </Table.Cell>\r\n                            <Table.Cell textAlign=\"right\">\r\n                              {watcher?.moneda?.simbolo}{\" \"}\r\n                              {currency(watcher?.total_percepcion)}\r\n                              {\" (\"}\r\n                              {watcher?.moneda?.iso}\r\n                              {\") \"}\r\n                            </Table.Cell>\r\n                          </Table.Row>\r\n                        )}\r\n\r\n                        {true && (\r\n                          <Table.Row>\r\n                            <Table.Cell textAlign=\"right\">\r\n                              Detracción\r\n                            </Table.Cell>\r\n                            <Table.Cell textAlign=\"right\">\r\n                              {watcher?.moneda?.simbolo}{\" \"}\r\n                              {currency(watcher?.total_detraccion)}\r\n                              {\" (\"}\r\n                              {watcher?.moneda?.iso}\r\n                              {\") \"}\r\n                            </Table.Cell>\r\n                          </Table.Row>\r\n                        )}\r\n\r\n                        {true && (\r\n                          <Table.Row>\r\n                            <Table.Cell active textAlign=\"right\">\r\n                              Total\r\n                            </Table.Cell>\r\n                            <Table.Cell active textAlign=\"right\">\r\n                              {!watcher.is_free ? (\r\n                                <strong>\r\n                                  {watcher?.moneda?.simbolo}{\" \"}\r\n                                  {currency(watcher?.total_documento_fin)}\r\n                                  {\" (\"}\r\n                                  {watcher?.moneda?.iso}\r\n                                  {\") \"}\r\n                                </strong>\r\n                              ) : (\r\n                                <strong>\r\n                                  {watcher?.moneda?.simbolo} {(0).toFixed(2)}\r\n                                  {\" (\"}\r\n                                  {watcher?.moneda?.iso}\r\n                                  {\") \"}\r\n                                </strong>\r\n                              )}\r\n                            </Table.Cell>\r\n                          </Table.Row>\r\n                        )}\r\n                      </Table.Body>\r\n                    </Table>\r\n\r\n                    {editionMode && (\r\n                      <div>\r\n                        <Button\r\n                          loading={isLoadding}\r\n                          disabled={isLoadding}\r\n                          content=\"Guardar\"\r\n                          primary\r\n                          fluid\r\n                        />\r\n\r\n                        <Button\r\n                          style={{ marginTop: \"1vh\" }}\r\n                          fluid\r\n                          as=\"a\"\r\n                          content=\"Deshacer Cambios\"\r\n                          onClick={() => {\r\n                            reset(selected);\r\n                          }}\r\n                        />\r\n\r\n                        <Accordion as={Menu} vertical fluid>\r\n                          <Menu.Item>\r\n                            <Accordion.Title\r\n                              active={activeItemOptions === true}\r\n                              content=\"Mas Opciones\"\r\n                              index={0}\r\n                              onClick={() => {\r\n                                setActiveItemOptions(!activeItemOptions);\r\n                              }}\r\n                            />\r\n                            <Accordion.Content\r\n                              active={activeItemOptions === true}\r\n                              content={\r\n                                <Form.Group grouped>\r\n                                  <Form.Checkbox\r\n                                    label=\"Es gratuita\"\r\n                                    name=\"is_free\"\r\n                                    checked={watcher.is_free}\r\n                                    onChange={() => {\r\n                                      setValue(\"is_free\", !watcher.is_free);\r\n                                    }}\r\n                                    type=\"number\"\r\n                                  />\r\n                                  {/* <Form.Checkbox\r\n                                label=\"Es exportación\"\r\n                                name=\"is_export\"\r\n                                checked={watcher.is_export}\r\n                                onChange={() => {\r\n                                  if (!!!watcher.moneda.dolar) {\r\n                                    toast.error(\r\n                                      \"La moneda seleccionada no es valida, solo USD es permitido\"\r\n                                    );\r\n                                    return false;\r\n                                  }\r\n                                  setValue(\"is_export\", !watcher.is_export);\r\n                                }}\r\n                              /> */}\r\n                                  {/* <Form.Checkbox\r\n                                label=\"Es exonerada\"\r\n                                name=\"is_exonerada\"\r\n                                checked={watcher.is_exonerada}\r\n                                onChange={() => {\r\n                                  setValue(\r\n                                    \"is_exonerada\",\r\n                                    !watcher.is_exonerada\r\n                                  );\r\n                                }}\r\n                              /> */}\r\n                                  <Form.Field>\r\n                                    <Input\r\n                                      label={{ content: \"Desc\" }}\r\n                                      labelPosition=\"right\"\r\n                                      placeholder=\"Descuento Global\"\r\n                                      type=\"number\"\r\n                                      value={watcher.total_descuento_global}\r\n                                      onChange={(e, element) => {\r\n                                        setValue(\r\n                                          \"total_descuento_global\",\r\n                                          e.target.value\r\n                                        );\r\n\r\n                                        watchDetalles(\r\n                                          watcher.detalles,\r\n                                          e.target.value\r\n                                        );\r\n                                      }}\r\n                                    />\r\n                                  </Form.Field>\r\n                                </Form.Group>\r\n                              }\r\n                            />\r\n                          </Menu.Item>\r\n                        </Accordion>\r\n                      </div>\r\n                    )}\r\n                  </Grid.Column>\r\n                </Grid>\r\n\r\n                {Object.keys(errors)?.length ? (\r\n                  <Message\r\n                    color=\"orange\"\r\n                    header=\"Advertencia\"\r\n                    list={[\r\n                      \"Verifique que todos los campos requeridos esten completos.\",\r\n                    ]}\r\n                  />\r\n                ) : (\r\n                  <></>\r\n                )}\r\n                {isBackendError?.length && (\r\n                  <Message\r\n                    color=\"red\"\r\n                    header=\"Verifique los siguientes campos\"\r\n                    list={isBackendError}\r\n                  />\r\n                )}\r\n              </Segment>\r\n\r\n              <Confirm\r\n                open={openConfimation}\r\n                content=\"Seguro de Deshacer los cambios, perderas los datos modificados\"\r\n                onCancel={() => setOpenConfirmation(false)}\r\n                onConfirm={undoChanges}\r\n              />\r\n\r\n              <Confirm\r\n                open={openConfimationListPrice}\r\n                content=\"¿Deseas guardar este precio para futuro uso?\"\r\n                onCancel={() => {\r\n                  setOpenConfimationListPrice(false);\r\n                }}\r\n                onConfirm={handleCreateNewPrice}\r\n              />\r\n              {watcher.tipo_operacion_id === 3 && (\r\n                <Segment\r\n                  color={\"teal\"}\r\n                  inverted\r\n                  style={{ marginTop: \"1vh\" }}\r\n                  loading={loading}\r\n                >\r\n                  <Form.Group>\r\n                    {!editionMode ? (\r\n                      <Form.Input\r\n                        fluid\r\n                        label=\"Motivo de la Guia de Remision\"\r\n                        placeholder=\"Selecione\"\r\n                        value={\r\n                          watcher?.motivos_sunat_guia_remision?.descripcion\r\n                        }\r\n                        readOnly\r\n                        width={4}\r\n                      />\r\n                    ) : (\r\n                      <FormFielDropdownSarch\r\n                        model={settingDropdowns?.motivos_sunat_guia_remision}\r\n                        empresaContexto={empresa}\r\n                        control={control}\r\n                        venta={selected}\r\n                        handleChangeVenta={handleChangeVenta}\r\n                        setValue={setValue}\r\n                        width={4}\r\n                      />\r\n                    )}\r\n                    {!editionMode ? (\r\n                      <Form.Input\r\n                        fluid\r\n                        label=\"Transportista\"\r\n                        placeholder=\"Selecione\"\r\n                        value={watcher?.transportista?.nombre}\r\n                        readOnly\r\n                        width={6}\r\n                      />\r\n                    ) : (\r\n                      <FormFielDropdownSarch\r\n                        model={settingDropdowns?.transportista}\r\n                        empresaContexto={empresa}\r\n                        control={control}\r\n                        venta={selected}\r\n                        handleChangeVenta={handleChangeVenta}\r\n                        setValue={setValue}\r\n                        width={6}\r\n                      />\r\n                    )}\r\n                    {!editionMode ? (\r\n                      <Form.Input\r\n                        fluid\r\n                        label=\"Vehículo\"\r\n                        placeholder=\"Selecione\"\r\n                        value={watcher?.vehiculo?.descripcion}\r\n                        readOnly\r\n                        width={6}\r\n                      />\r\n                    ) : (\r\n                      <FormFielDropdownSarch\r\n                        model={settingDropdowns?.vehiculo}\r\n                        empresaContexto={empresa}\r\n                        control={control}\r\n                        venta={selected}\r\n                        handleChangeVenta={handleChangeVenta}\r\n                        setValue={setValue}\r\n                        width={6}\r\n                      />\r\n                    )}\r\n                  </Form.Group>\r\n                  <Form.Group>\r\n                    <FormFielController\r\n                      name={\"direccion_partida\"}\r\n                      title={\"Direccion de Partida\"}\r\n                      control={control}\r\n                      errors={errors}\r\n                      type=\"text\"\r\n                      width={8}\r\n                      readOnly={!editionMode}\r\n                    />\r\n\r\n                    {!editionMode ? (\r\n                      <Form.Input\r\n                        fluid\r\n                        label=\"Ubigeo de Partida\"\r\n                        placeholder=\"Selecione\"\r\n                        value={\r\n                          !!!watcher?.ubigeo_partida\r\n                            ? \"\"\r\n                            : watcher?.ubigeo_partida?.provincia +\r\n                              \"-\" +\r\n                              watcher?.ubigeo_partida?.distrito +\r\n                              \"-\" +\r\n                              watcher?.ubigeo_partida?.departamento\r\n                        }\r\n                        readOnly\r\n                        width={8}\r\n                      />\r\n                    ) : (\r\n                      <FormFielDropdownSarch\r\n                        model={settingDropdowns.ubigeo_partida}\r\n                        empresaContexto={empresa}\r\n                        control={control}\r\n                        venta={selected}\r\n                        handleChangeVenta={handleChangeVenta}\r\n                        setValue={setValue}\r\n                        width={8}\r\n                      />\r\n                    )}\r\n                  </Form.Group>\r\n                  <Form.Group>\r\n                    <FormFielController\r\n                      name={\"direccion_destino\"}\r\n                      title={\"Direccion de Destino\"}\r\n                      control={control}\r\n                      errors={errors}\r\n                      type=\"text\"\r\n                      width={8}\r\n                      readOnly={!editionMode}\r\n                    />\r\n                    {!editionMode ? (\r\n                      <Form.Input\r\n                        fluid\r\n                        label=\"Ubigeo de Destino\"\r\n                        placeholder=\"Selecione\"\r\n                        value={\r\n                          !!!watcher?.ubigeo_destino\r\n                            ? \"\"\r\n                            : watcher?.ubigeo_destino?.provincia +\r\n                              \"-\" +\r\n                              watcher?.ubigeo_destino?.distrito +\r\n                              \"-\" +\r\n                              watcher?.ubigeo_destino?.departamento\r\n                        }\r\n                        readOnly\r\n                        width={8}\r\n                      />\r\n                    ) : (\r\n                      <FormFielDropdownSarch\r\n                        model={settingDropdowns.ubigeo_destino}\r\n                        empresaContexto={empresa}\r\n                        control={control}\r\n                        venta={selected}\r\n                        handleChangeVenta={handleChangeVenta}\r\n                        setValue={setValue}\r\n                        width={8}\r\n                      />\r\n                    )}\r\n                  </Form.Group>\r\n                </Segment>\r\n              )}\r\n\r\n              <Segment secondary loading={loading}>\r\n                <Header as=\"h5\">\r\n                  <Icon name=\"list ul\" />\r\n                  <Header.Content>Detalles</Header.Content>\r\n                </Header>\r\n                <Accordion exclusive={false} fluid color={\"teal\"}>\r\n                  <Accordion.Title\r\n                    active={activeItem === 2}\r\n                    index={2}\r\n                    onClick={handleClick}\r\n                  >\r\n                    <Icon name=\"dropdown\" />\r\n                    Detalles de la venta\r\n                  </Accordion.Title>\r\n                  <Accordion.Content active={activeItem === 2}>\r\n                    <Controller\r\n                      name={\"detalle\"}\r\n                      control={control}\r\n                      render={({ field: { onChange, onBlur, value } }) => (\r\n                        <TextArea\r\n                          value={value}\r\n                          onBlur={onBlur}\r\n                          onChange={onChange}\r\n                          placeholder=\"Escribe un Comentario (sera agreagado en la impresión del documento)\"\r\n                          readOnly={!editionMode}\r\n                        />\r\n                      )}\r\n                    />\r\n                  </Accordion.Content>\r\n                  <Accordion.Title\r\n                    active={activeItem === 0}\r\n                    index={0}\r\n                    onClick={handleClick}\r\n                  >\r\n                    <Icon name=\"dropdown\" />\r\n                    Documentos asociados\r\n                  </Accordion.Title>\r\n                  <Accordion.Content active={activeItem === 0}>\r\n                    {editionMode && (\r\n                      <Form.Group>\r\n                        <FormFielDropdownSarch\r\n                          model={settingDropdowns?.documento_relacion_search}\r\n                          empresaContexto={empresa}\r\n                          control={control}\r\n                          venta={selected}\r\n                          handleChangeVenta={handleChangeVenta}\r\n                          setValue={setValue}\r\n                          width={10}\r\n                        />\r\n                        <Form.Field style={{ marginTop: \"24px\" }}>\r\n                          <Button\r\n                            primary\r\n                            as=\"a\"\r\n                            onClick={handleInsertDocumentRelation}\r\n                          >\r\n                            Agregar Documento\r\n                          </Button>\r\n                        </Form.Field>\r\n                      </Form.Group>\r\n                    )}\r\n\r\n                    {!editionMode && (\r\n                      <Button secondary as=\"a\">\r\n                        Ver Historial\r\n                      </Button>\r\n                    )}\r\n\r\n                    <Table compact collapsing>\r\n                      <Table.Header>\r\n                        <Table.Row>\r\n                          <Table.HeaderCell>Documento</Table.HeaderCell>\r\n                          <Table.HeaderCell>Eliminar</Table.HeaderCell>\r\n                        </Table.Row>\r\n                      </Table.Header>\r\n\r\n                      <Table.Body>\r\n                        {!!watcher.documento_relacion &&\r\n                          watcher?.documento_relacion.map((v, index) => {\r\n                            return (\r\n                              <Table.Row>\r\n                                <Table.Cell>\r\n                                  {v?.documento_relacion.uniqueserie\r\n                                    .split(\"-\")\r\n                                    .splice(2)\r\n                                    .join(\"-\")}\r\n                                </Table.Cell>\r\n                                <Table.Cell>\r\n                                  <Button\r\n                                    circular\r\n                                    as=\"a\"\r\n                                    size=\"mini\"\r\n                                    onClick={() => {\r\n                                      handleDeleteDocumentRelation(index);\r\n                                    }}\r\n                                    disabled={!editionMode}\r\n                                    icon=\"trash\"\r\n                                  />\r\n                                </Table.Cell>\r\n                              </Table.Row>\r\n                            );\r\n                          })}\r\n                      </Table.Body>\r\n                    </Table>\r\n                  </Accordion.Content>\r\n\r\n                  <Accordion.Title\r\n                    active={activeItem === 1}\r\n                    index={1}\r\n                    onClick={handleClick}\r\n                  >\r\n                    <Icon name=\"dropdown\" />\r\n                    Vendedor\r\n                  </Accordion.Title>\r\n                  <Accordion.Content active={activeItem === 1}>\r\n                    <Form.Group>\r\n                      {!editionMode ? (\r\n                        <Form.Input\r\n                          fluid\r\n                          label=\"Vendedor\"\r\n                          placeholder=\"Selecione\"\r\n                          value={watcher?.vendedor?.nombre}\r\n                          readOnly\r\n                          width={10}\r\n                        />\r\n                      ) : (\r\n                        <FormFielDropdownSarch\r\n                          model={settingDropdowns?.vendedor}\r\n                          empresaContexto={empresa}\r\n                          control={control}\r\n                          venta={selected}\r\n                          handleChangeVenta={handleChangeVenta}\r\n                          setValue={setValue}\r\n                          width={10}\r\n                        />\r\n                      )}\r\n                    </Form.Group>\r\n                  </Accordion.Content>\r\n\r\n                  <Accordion.Title\r\n                    active={activeItem === 3}\r\n                    index={3}\r\n                    onClick={handleClick}\r\n                  >\r\n                    <Icon name=\"dropdown\" />\r\n                    Informacion Relacionada\r\n                  </Accordion.Title>\r\n                  <Accordion.Content active={activeItem === 3}>\r\n                    <Form.Group>\r\n                      <FormFielController\r\n                        name={\"numero_expediente\"}\r\n                        title={\"Numero de Expediente\"}\r\n                        control={control}\r\n                        errors={errors}\r\n                        type=\"text\"\r\n                        width={10}\r\n                        readOnly={!editionMode}\r\n                      />\r\n                    </Form.Group>\r\n                    <Form.Group>\r\n                      <FormFielController\r\n                        name={\"orden_compra\"}\r\n                        title={\"Orden de Compra\"}\r\n                        control={control}\r\n                        errors={errors}\r\n                        type=\"text\"\r\n                        width={10}\r\n                        readOnly={!editionMode}\r\n                      />\r\n                    </Form.Group>\r\n                    <Form.Group>\r\n                      <FormFielController\r\n                        name={\"codigo_unidad_ejecutora\"}\r\n                        title={\"Código Unidad Ejecutora\"}\r\n                        control={control}\r\n                        errors={errors}\r\n                        type=\"text\"\r\n                        width={10}\r\n                        readOnly={!editionMode}\r\n                      />\r\n                    </Form.Group>\r\n                    <Form.Group>\r\n                      <FormFielController\r\n                        name={\"numero_proceso_seleccion\"}\r\n                        title={\"Número de proceso de selección\"}\r\n                        control={control}\r\n                        errors={errors}\r\n                        type=\"text\"\r\n                        width={10}\r\n                        readOnly={!editionMode}\r\n                      />\r\n                    </Form.Group>\r\n                    <Form.Group>\r\n                      <FormFielController\r\n                        name={\"numero_contrato\"}\r\n                        title={\"Número de Contrato\"}\r\n                        control={control}\r\n                        errors={errors}\r\n                        type=\"text\"\r\n                        width={10}\r\n                        readOnly={!editionMode}\r\n                      />\r\n                    </Form.Group>\r\n                  </Accordion.Content>\r\n                </Accordion>\r\n                {editionMode && (\r\n                  <div style={{ marginTop: \"5vh\" }}>\r\n                    <Button\r\n                      loading={isLoadding}\r\n                      disabled={isLoadding}\r\n                      content=\"Guardar\"\r\n                      primary\r\n                    />\r\n\r\n                    <Button\r\n                      style={{ marginTop: \"1vh\" }}\r\n                      as=\"a\"\r\n                      content=\"Deshacer Cambios\"\r\n                      onClick={() => {\r\n                        reset(selected);\r\n                      }}\r\n                    />\r\n                  </div>\r\n                )}\r\n              </Segment>\r\n\r\n              {watcher.forma_pago_id !== 1 &&\r\n              watcher.tipo_operacion_id === 1 ? (\r\n                <Segment secondary>\r\n                  <FormularioPago\r\n                    editionMode={editionMode}\r\n                    pagos={watcher.pagos}\r\n                    moneda={watcher.moneda}\r\n                    setChangeFather={setValue}\r\n                    total_operacion={watcher.total_documento_fin}\r\n                  />\r\n                  {editionMode && (\r\n                    <div style={{ marginTop: \"5vh\" }}>\r\n                      <Button\r\n                        loading={isLoadding}\r\n                        disabled={isLoadding}\r\n                        content=\"Guardar\"\r\n                        primary\r\n                      />\r\n\r\n                      <Button\r\n                        style={{ marginTop: \"1vh\" }}\r\n                        as=\"a\"\r\n                        content=\"Deshacer Cambios\"\r\n                        onClick={() => {\r\n                          reset(selected);\r\n                        }}\r\n                      />\r\n                    </div>\r\n                  )}\r\n                </Segment>\r\n              ) : (\r\n                \"\"\r\n              )}\r\n\r\n              <Segment style={{ marginBottom: \"20vh\" }} loading={loading}>\r\n                <QRCode\r\n                  value={`${\r\n                    process.env.NODE_ENV !== \"development \"\r\n                      ? process.env.REACT_APP_PRODUCTION_PUBLIC_FRONT\r\n                      : process.env.REACT_APP_DEVELOPER_PUBLIC_FRONT\r\n                  }/comprobante?tk=${token}`}\r\n                />\r\n                {/* <p>\r\n                  {`${\r\n                    process.env.NODE_ENV !== \"development \"\r\n                      ? process.env.REACT_APP_PRODUCTION_PUBLIC_FRONT\r\n                      : process.env.REACT_APP_DEVELOPER_PUBLIC_FRONT\r\n                      \r\n                  }/comprobante?tk=${CriptoJs.AES.encrypt(\r\n                    JSON.stringify({\r\n                      empresa_id: empresa.empresa.id,\r\n                      local_id: empresa.id,\r\n                      tipo_operacion_id: watcher.tipo_operacion_id,\r\n                      serie_id: watcher?.serie?.id,\r\n                      serie: watcher?.serie?.serie,\r\n                      correlativo: watcher?.correlativo,\r\n                      total_documento_fin: watcher?.total_documento_fin,\r\n                    }),\r\n                    \"S2bBho4gEUOok7o3IFiUu4BMcGhz5wR2Eu35YTks\"\r\n                  ).toString()}`}\r\n                </p> */}\r\n              </Segment>\r\n            </Form>\r\n          )}\r\n          {size.width < 699 && (\r\n            <FormularioMovil\r\n              control={control}\r\n              handleSubmit={handleSubmit}\r\n              errors={errors}\r\n              setValue={setValue}\r\n              reset={reset}\r\n              watcher={watcher}\r\n              editionMode={editionMode}\r\n              setEditionMode={setEditionMode}\r\n              settingDropdowns={settingDropdowns}\r\n              empresa={empresa}\r\n              setEmpresa={setEmpresa}\r\n              impresion={impresion}\r\n              selected={selected}\r\n              handleChangeVenta={handleChangeVenta}\r\n              state={state}\r\n              formatPrint={formatPrint}\r\n              setFormatPrint={setFormatPrint}\r\n            />\r\n          )}\r\n        </>\r\n      ) : (\r\n        <>\r\n          {size.width > 700 && (\r\n            <PDFViewer style={{ width: \"100%\", height: \"74vh\" }}>\r\n              <ViewFormatA4\r\n                empresa={empresa}\r\n                status={watcher}\r\n                qrCodeBase64={qrCodeBase64}\r\n                impresion={impresion}\r\n              />\r\n            </PDFViewer>\r\n          )}\r\n\r\n          {size.width < 699 && (\r\n            <PDFViewer style={{ width: \"100%\", height: \"74vh\" }}>\r\n              <ViewFormatA4\r\n                empresa={empresa}\r\n                status={watcher}\r\n                qrCodeBase64={qrCodeBase64}\r\n                impresion={impresion}\r\n              />\r\n            </PDFViewer>\r\n          )}\r\n\r\n          <PDFDownloadLink\r\n            document={\r\n              <ViewFormatA4\r\n                empresa={empresa}\r\n                status={watcher}\r\n                qrCodeBase64={qrCodeBase64}\r\n                impresion={impresion}\r\n              />\r\n            }\r\n            className=\"button ui primary fluid\"\r\n            fileName={`${empresa.empresa.ruc}-${watcher.serie?.sunat_codigo}-${watcher.serie?.serie}-${watcher.correlativo}.pdf`}\r\n          >\r\n            Descargar\r\n          </PDFDownloadLink>\r\n          <Button\r\n            style={{ marginTop: \"5px\" }}\r\n            basic\r\n            fluid\r\n            onClick={() => {\r\n              if (formatPrint.from === \"create\") {\r\n                setFormatPrint({ status: false });\r\n                resetFormAfterSave();\r\n              } else {\r\n                setFormatPrint({ status: false });\r\n              }\r\n            }}\r\n          >\r\n            {\" \"}\r\n            Cerrar\r\n          </Button>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\nexport default FormularioVenta;\r\n","\r\nimport Moment from \"react-moment\";\r\nimport moment from \"moment\";\r\n\r\nexport const updated = (date) => {\r\n  const a = moment(date);\r\n  const b = moment(new Date());\r\n  const res = a.diff(b);\r\n  if (res < -360000) {\r\n    return false;\r\n  } else {\r\n    return true;\r\n  }\r\n};\r\n","import { Popup, Label } from \"semantic-ui-react\";\r\nexport const LabelUpdate = (index) => (\r\n  <Popup\r\n    content=\"Actualizado recientemente\"\r\n    pinned\r\n    trigger={<Label circular color=\"blue\" empty key={index} />}\r\n  />\r\n);\r\n","const InputSearch = ({ searchInput, setSearchInput, placeholder }) => {\r\n  const handleChange = async (e) => {\r\n    await setSearchInput(e.target.value);\r\n  };\r\n\r\n  return (\r\n    <div class=\"ui category search\">\r\n      <div class=\"ui icon input\" style={{ width: \"100%\" }}>\r\n        <input\r\n          class=\"prompt fluid\"\r\n          type=\"text\"\r\n          placeholder={placeholder}\r\n          onChange={handleChange}\r\n        />\r\n        <i class=\"search icon\"></i>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default InputSearch;\r\n","import { useEffect, useContext, useState } from \"react\";\r\nimport {\r\n  Label,\r\n  Button,\r\n  Grid,\r\n  Header,\r\n  Segment,\r\n  Icon,\r\n  List,\r\n  Popup,\r\n  Dropdown,\r\n  Pagination,\r\n  Menu,\r\n  ListContent,\r\n  Dimmer,\r\n  Loader,\r\n  Checkbox,\r\n} from \"semantic-ui-react\";\r\nimport { Link, useLocation, useNavigate } from \"react-router-dom\";\r\nimport Moment from \"react-moment\";\r\nimport CreateButton from \"../../components/CreateButton\";\r\nimport ConverterButton from \"../../components/ConverterButton\";\r\nimport ventaService from \"../../services/ventas\";\r\nimport FormularioVenta from \"../../components/ventas/formulario\";\r\nimport EmpresaContext from \"../../context/EmpresaContext\";\r\nimport { PDFDownloadLink, pdf } from \"@react-pdf/renderer\";\r\nimport { updated } from \"../../libs/updated\";\r\nimport { LabelUpdate } from \"../../components/LabelUpdate\";\r\nimport ViewFormatA4 from \"../../components/ViewFormatA4\";\r\nimport currency from \"../../libs/currency\";\r\nimport Localbase from \"localbase\";\r\n\r\nimport useWindowSize from \"../../hooks/useWindowSize\";\r\nimport InputSearch from \"../../components/InputSearch\";\r\n\r\nconst Ventas = () => {\r\n  const { windowSize: size } = useWindowSize();\r\n  const location = useLocation();\r\n  const { empresa, impresion } = useContext(EmpresaContext);\r\n  const [ventas, setVentas] = useState([]);\r\n  const [selected, setSelected] = useState(null);\r\n  const [editionMode, setEditionMode] = useState(false);\r\n  const [qrCodeBase64, setQrCodeBase64] = useState(false);\r\n  const navigate = useNavigate();\r\n  const [pdfBlob, setPdfBlob] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const [activeFilterPendientePorPagar, setActiveFilterPendientePorPagar] =\r\n    useState(false);\r\n  const [searchInput, setSearchInput] = useState(false);\r\n\r\n  const db = new Localbase(\"db\");\r\n\r\n  const [formatPrint, setFormatPrint] = useState({\r\n    status: false,\r\n    format: \"A4\",\r\n  });\r\n\r\n  const getBlob = async () => {\r\n    const blob = pdf(\r\n      <ViewFormatA4\r\n        empresa={empresa}\r\n        status={selected}\r\n        qrCodeBase64={qrCodeBase64}\r\n        impresion={impresion}\r\n      />\r\n    ).toBlob();\r\n\r\n    let bl = await blob;\r\n\r\n    const file = new File(\r\n      [bl],\r\n      `${empresa.empresa.ruc}-${selected?.serie?.sunat_codigo}-${selected?.serie?.serie}-${selected?.correlativo}.pdf`,\r\n      {\r\n        type: \"application/pdf\",\r\n        lastModified: Date.now(),\r\n      }\r\n    );\r\n    setPdfBlob(file);\r\n  };\r\n\r\n  const viewPrintFormat = (status, type) => {\r\n    setFormatPrint({ status, format: type });\r\n  };\r\n\r\n  const get = async (page, reload = false) => {\r\n    const empresa_id = empresa.empresa.id;\r\n    const local_id = empresa.id;\r\n    const fetch = await ventaService.show(empresa_id, local_id, page);\r\n    setVentas(fetch);\r\n  };\r\n\r\n  const handleChangeVenta = (ventaModificada) => {\r\n    const change = ventas.map((venta) => {\r\n      if (parseInt(venta.id) === parseInt(ventaModificada.id)) {\r\n        return ventaModificada;\r\n      } else {\r\n        return venta;\r\n      }\r\n    });\r\n    setVentas(change);\r\n  };\r\n\r\n  const handleSelectDocument = async (venta) => {\r\n    await setSelected(null);\r\n    await setSelected(venta);\r\n  };\r\n\r\n  const download = (type) => {\r\n    ventaService.download(selected, type);\r\n  };\r\n\r\n  const sendToSunat = async (id, index) => {\r\n    const ventaChange = ventas.find((v, k) => v.id === id);\r\n    ventaChange.send_status = true;\r\n\r\n    const newVentas = ventas.map((venta, index) => {\r\n      if (venta.id === ventaChange.id) {\r\n        console.log(\"respuesta del envio a sunat\", venta);\r\n        return ventaChange;\r\n      } else {\r\n        return venta;\r\n      }\r\n    });\r\n\r\n    setVentas(newVentas);\r\n\r\n    /**PROMESA */\r\n    const response = await ventaService.sendSunat(ventaChange);\r\n\r\n    const ventaWithResponse = { ...ventaChange, ...response };\r\n\r\n    /**END PROMESA */\r\n    ventaWithResponse.send_status = false;\r\n    const HandleVentas = ventas.map((venta, index) => {\r\n      if (venta.id === ventaWithResponse.id) {\r\n        return ventaWithResponse;\r\n      } else {\r\n        return venta;\r\n      }\r\n    });\r\n    setVentas(HandleVentas);\r\n  };\r\n\r\n  const handleFiltrarPendiente = async (active) => {\r\n    db.collection(\"ventas\")\r\n      .get()\r\n      .then((ventas) => {\r\n        if (!!active) {\r\n          const result = ventas.filter((list) => {\r\n            if (\r\n              list.tipo_operacion_id === 1 &&\r\n              list.forma_pago_id === 2 &&\r\n              list.total_documento_fin - list.pago_status > 0.001\r\n            ) {\r\n              return list;\r\n            }\r\n          });\r\n          setActiveFilterPendientePorPagar(!active);\r\n          setVentas(result);\r\n        } else {\r\n          setActiveFilterPendientePorPagar(!active);\r\n          setVentas(ventas);\r\n        }\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    db.collection(\"ventas\")\r\n      .get()\r\n      .then((ventas) => {\r\n        const items = ventas.sort(function (a, b) {\r\n          return b.id - a.id;\r\n        });\r\n        console.log(location);\r\n        if (location?.state?.porcobrar) {\r\n          setIsLoading(true);\r\n          handleFiltrarPendiente(true);\r\n        } else {\r\n          setVentas(items);\r\n          setIsLoading(true);\r\n          get(1);\r\n        }\r\n      });\r\n\r\n    return () => {\r\n      setVentas([]);\r\n    };\r\n  }, [location]);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      const ventas = await db.collection(\"ventas\").get();\r\n      if (!!searchInput) {\r\n        const result = ventas.filter((list) => {\r\n          if (\r\n            list.cliente.nombre.indexOf(searchInput) >= 0 ||\r\n            list.cliente.nombre_comercial.indexOf(searchInput) >= 0 ||\r\n            list.cliente.direccion.indexOf(searchInput) >= 0 ||\r\n            list.uniqueserie.indexOf(searchInput) >= 0 ||\r\n            list.serie.descripcion.indexOf(searchInput) >= 0\r\n          ) {\r\n            return list;\r\n          }\r\n        });\r\n        setVentas(result);\r\n      } else {\r\n        setVentas(ventas);\r\n      }\r\n    })();\r\n  }, [searchInput]);\r\n\r\n  return (\r\n    <>\r\n      {size.width > 700 ? (\r\n        <Grid.Column width={5}>\r\n          <List relaxed=\"very\" style={{ marginTop: \"1rem\" }}>\r\n            <List.Item>\r\n              <List.Content floated=\"right\">\r\n                <Button\r\n                  size=\"mini\"\r\n                  onClick={() =>\r\n                    handleFiltrarPendiente(activeFilterPendientePorPagar)\r\n                  }\r\n                  active={!activeFilterPendientePorPagar}\r\n                >\r\n                  Por Cobrar\r\n                </Button>\r\n\r\n                <CreateButton empresaContext={empresa} />\r\n              </List.Content>\r\n              <List.Content>\r\n                <List.Header as=\"a\">\r\n                  <Link\r\n                    to={`/welcome/empresas/${empresa.empresa.id}`}\r\n                    state={{\r\n                      backgroundLocation: location,\r\n                      model: empresa.empresa,\r\n                    }}\r\n                  >\r\n                    {empresa.empresa.nombre}\r\n                  </Link>\r\n                </List.Header>\r\n                {empresa.nombre}\r\n              </List.Content>\r\n            </List.Item>\r\n          </List>\r\n          {isLoading ? (\r\n            <List\r\n              celled\r\n              relaxed=\"very\"\r\n              style={{ overflowY: \"scroll\", height: \"88vh\" }}\r\n            >\r\n              {ventas?.map((venta, index) => (\r\n                <List.Item\r\n                  key={index}\r\n                  onClick={() => {\r\n                    handleSelectDocument(venta);\r\n                  }}\r\n                  style={{\r\n                    backgroundColor:\r\n                      venta?.id === selected?.id\r\n                        ? \"rgb(0 181 173 / 12%)\"\r\n                        : \"#fff\",\r\n                  }}\r\n                >\r\n                  <List.Content style={{ width: \"200px\" }} floated=\"right\">\r\n                    <Label.Group\r\n                      tag\r\n                      color={\r\n                        venta.tipo_operacion_id === 1\r\n                          ? venta.forma_pago_id === 1\r\n                            ? \"\"\r\n                            : venta.pago_status < venta.total_documento_fin\r\n                            ? \"orange\"\r\n                            : venta.pago_status === venta.total_documento_fin\r\n                            ? \"\"\r\n                            : \"blue\"\r\n                          : \"\"\r\n                      }\r\n                    >\r\n                      <Label as=\"a\">\r\n                        {venta?.moneda?.simbolo}{\" \"}\r\n                        {currency(venta.total_documento_fin)}\r\n                        {\" (\"}\r\n                        {venta.moneda.iso}\r\n                        {\") \"}\r\n                      </Label>\r\n                    </Label.Group>\r\n\r\n                    <Popup\r\n                      content={\"Click para enviar comprobante a Sunat\"}\r\n                      header={\"Pendiente por enviar\"}\r\n                      trigger={\r\n                        venta.tipo_operacion_id !== 2 &&\r\n                        venta.serie.abbr !== \"CT\" &&\r\n                        venta.serie.abbr !== \"NV\" ? (\r\n                          <Button\r\n                            icon={\r\n                              venta.sunat_code === \"0\"\r\n                                ? \"check\"\r\n                                : venta.sunat_code >= \"2000\"\r\n                                ? \"times\"\r\n                                : \"cloud upload\"\r\n                            }\r\n                            size=\"mini\"\r\n                            onClick={(e) => {\r\n                              e.stopPropagation();\r\n                              sendToSunat(venta.id, index);\r\n                            }}\r\n                            color={\r\n                              venta.sunat_code === \"0\"\r\n                                ? \"green\"\r\n                                : venta.sunat_code >= \"2000\"\r\n                                ? \"red\"\r\n                                : \"primary\"\r\n                            }\r\n                            loading={venta.send_status}\r\n                            disabled={\r\n                              venta.send_status || venta.sunat_code === \"0\"\r\n                            }\r\n                          />\r\n                        ) : (\r\n                          false\r\n                        )\r\n                      }\r\n                    />\r\n\r\n                    {!!venta.vendedor && (\r\n                      <Popup\r\n                        content={venta?.vendedor?.nombre}\r\n                        header={\"Vendedor\"}\r\n                        trigger={\r\n                          <Button\r\n                            icon={\"user\"}\r\n                            size=\"mini\"\r\n                            onClick={(e) => {\r\n                              e.stopPropagation();\r\n                            }}\r\n                            content={venta?.vendedor?.nombre.split(\" \")[0]}\r\n                            color={\" \"}\r\n                          />\r\n                        }\r\n                      />\r\n                    )}\r\n\r\n                    {Number(venta?.is_nulled) ? (\r\n                      <Label as=\"span\" content=\"Anulado\" color=\"red\" />\r\n                    ) : (\r\n                      <> &nbsp;</>\r\n                    )}\r\n                  </List.Content>\r\n\r\n                  <List.Content>\r\n                    <List.Header as=\"a\">\r\n                      {venta?.serie?.abbr} {venta?.serie?.serie}{\" \"}\r\n                      {venta?.correlativo}{\" \"}\r\n                      {updated(venta.updated_at) && (\r\n                        <LabelUpdate index={index} />\r\n                      )}\r\n                    </List.Header>\r\n                    <List.Item>\r\n                      <strong>{venta?.cliente?.nombre}</strong>\r\n                    </List.Item>\r\n                    <List.Item>\r\n                      Fecha Emision:{\" \"}\r\n                      <Moment format=\"DD/MM/YYYY\">{venta.fecha_emision}</Moment>\r\n                    </List.Item>\r\n                  </List.Content>\r\n                  {/* <List.Content>\r\n            {JSON.stringify(venta)}\r\n          </List.Content> */}\r\n                </List.Item>\r\n              ))}\r\n            </List>\r\n          ) : (\r\n            <Loader active inline=\"centered\" />\r\n          )}\r\n        </Grid.Column>\r\n      ) : (\r\n        <>\r\n          {/**\r\n           * LISTADO DE VENTAS PARA MOVILES\r\n           */}\r\n\r\n          {!!!selected && (\r\n            <Grid.Column width={16}>\r\n              <Grid.Row>\r\n                <List relaxed=\"very\" style={{ marginTop: \"1rem\" }}>\r\n                  <List.Item>\r\n                    <List.Content floated=\"right\">\r\n                      <InputSearch\r\n                        searchInput={searchInput}\r\n                        setSearchInput={setSearchInput}\r\n                        placeholder=\"Buscar Documento\"\r\n                      />\r\n                    </List.Content>\r\n                    <List.Content\r\n                      floated=\"left\"\r\n                      style={{ paddingRight: \"2px\", paddingLeft: \"2px\" }}\r\n                    >\r\n                      <CreateButton empresaContext={empresa} />\r\n                      <Button\r\n                        size=\"mini\"\r\n                        onClick={() =>\r\n                          handleFiltrarPendiente(activeFilterPendientePorPagar)\r\n                        }\r\n                        active={!activeFilterPendientePorPagar}\r\n                      >\r\n                        Por Cobrar\r\n                      </Button>\r\n                    </List.Content>\r\n                  </List.Item>\r\n                </List>\r\n              </Grid.Row>\r\n              <Grid.Row\r\n                style={{\r\n                  overflowY: \"scroll\",\r\n                  height: \"83vh\",\r\n                  marginTop: \"1rem\",\r\n                }}\r\n              >\r\n                {isLoading ? (\r\n                  <List celled relaxed=\"very\">\r\n                    {ventas?.map((venta, index) => (\r\n                      <List.Item\r\n                        key={index}\r\n                        onClick={() => {\r\n                          handleSelectDocument(venta);\r\n                        }}\r\n                        style={{\r\n                          backgroundColor:\r\n                            venta?.id === selected?.id\r\n                              ? \"rgb(0 181 173 / 12%)\"\r\n                              : \"#fff\",\r\n                        }}\r\n                      >\r\n                        <List.Content\r\n                          style={{ width: \"200px\" }}\r\n                          floated=\"right\"\r\n                        >\r\n                          <Label.Group\r\n                            tag\r\n                            color={\r\n                              venta.tipo_operacion_id === 1\r\n                                ? venta.forma_pago_id === 1\r\n                                  ? \"\"\r\n                                  : venta.pago_status <\r\n                                    venta.total_documento_fin\r\n                                  ? \"orange\"\r\n                                  : venta.pago_status ===\r\n                                    venta.total_documento_fin\r\n                                  ? \"\"\r\n                                  : \"blue\"\r\n                                : \"\"\r\n                            }\r\n                          >\r\n                            <Label as=\"a\">\r\n                              {venta?.moneda?.simbolo}{\" \"}\r\n                              {currency(venta.total_documento_fin)}\r\n                              {\" (\"}\r\n                              {venta.moneda.iso}\r\n                              {\") \"}\r\n                            </Label>\r\n                          </Label.Group>\r\n\r\n                          <Popup\r\n                            content={\"Click para enviar comprobante a Sunat\"}\r\n                            header={\"Pendiente por enviar\"}\r\n                            trigger={\r\n                              venta.tipo_operacion_id !== 2 &&\r\n                              venta.serie.abbr !== \"CT\" &&\r\n                              venta.serie.abbr !== \"NV\" ? (\r\n                                <Button\r\n                                  icon={\r\n                                    venta.sunat_code === \"0\"\r\n                                      ? \"check\"\r\n                                      : venta.sunat_code >= \"2000\"\r\n                                      ? \"times\"\r\n                                      : \"cloud upload\"\r\n                                  }\r\n                                  size=\"mini\"\r\n                                  onClick={(e) => {\r\n                                    e.stopPropagation();\r\n                                    sendToSunat(venta.id, index);\r\n                                  }}\r\n                                  color={\r\n                                    venta.sunat_code === \"0\"\r\n                                      ? \"green\"\r\n                                      : venta.sunat_code >= \"2000\"\r\n                                      ? \"red\"\r\n                                      : \"primary\"\r\n                                  }\r\n                                  loading={venta.send_status}\r\n                                  disabled={\r\n                                    venta.send_status ||\r\n                                    venta.sunat_code === \"0\"\r\n                                  }\r\n                                />\r\n                              ) : (\r\n                                false\r\n                              )\r\n                            }\r\n                          />\r\n                          {!!venta.vendedor && (\r\n                            <Popup\r\n                              content={venta?.vendedor?.nombre}\r\n                              header={\"Vendedor\"}\r\n                              trigger={\r\n                                <Button\r\n                                  icon={\"user\"}\r\n                                  size=\"mini\"\r\n                                  onClick={(e) => {\r\n                                    e.stopPropagation();\r\n                                  }}\r\n                                  content={\r\n                                    venta?.vendedor?.nombre.split(\" \")[0]\r\n                                  }\r\n                                  color={\" \"}\r\n                                />\r\n                              }\r\n                            />\r\n                          )}\r\n\r\n                          {!!Number(venta?.is_nulled) ? (\r\n                            <Label as=\"span\" content=\"Anulado\" color=\"red\" />\r\n                          ) : (\r\n                            <> &nbsp;</>\r\n                          )}\r\n                        </List.Content>\r\n\r\n                        <List.Content>\r\n                          <List.Header as=\"a\">\r\n                            {venta?.serie?.abbr} {venta?.serie?.serie}{\" \"}\r\n                            {venta?.correlativo}{\" \"}\r\n                            {updated(venta.updated_at) && (\r\n                              <LabelUpdate index={index} />\r\n                            )}\r\n                          </List.Header>\r\n                          <List.Item>\r\n                            <strong>{venta?.cliente?.nombre}</strong>\r\n                          </List.Item>\r\n                          <List.Item>\r\n                            Fecha Emision:{\" \"}\r\n                            <Moment format=\"DD/MM/YYYY\">\r\n                              {venta.fecha_emision}\r\n                            </Moment>\r\n                          </List.Item>\r\n                        </List.Content>\r\n                      </List.Item>\r\n                    ))}\r\n                  </List>\r\n                ) : (\r\n                  <Loader active inline=\"centered\" />\r\n                )}\r\n              </Grid.Row>\r\n            </Grid.Column>\r\n          )}\r\n          {/**\r\n           * FOMULARIO DE EDICION PARA MOVILES\r\n           */}\r\n          {!!selected && (\r\n            <Grid.Column width={16}>\r\n              <List relaxed=\"very\" style={{ marginTop: \"1rem\" }}>\r\n                <List.Item>\r\n                  <span className=\"float left\">\r\n                    <Button\r\n                      size=\"mini\"\r\n                      icon=\"arrow circle left\"\r\n                      content=\"Regresar\"\r\n                      style={{ marginRight: \"2px\", marginLeft: \"2px\" }}\r\n                      onClick={async () => {\r\n                        await setSelected(undefined);\r\n                      }}\r\n                    />\r\n                  </span>\r\n\r\n                  <List.Content floated=\"right\">\r\n                    {!!!Number(selected.is_nulled) || !!!selected ? (\r\n                      <ConverterButton\r\n                        handleChangeVenta={handleChangeVenta}\r\n                        documento={selected}\r\n                        style={{ marginRight: \"2px\", marginLeft: \"2px\" }}\r\n                      />\r\n                    ) : (\r\n                      <></>\r\n                    )}\r\n\r\n                    {selected && (\r\n                      <Dropdown\r\n                        icon=\"download\"\r\n                        floating\r\n                        button\r\n                        className=\"button ui mini icon\"\r\n                      >\r\n                        <Dropdown.Menu>\r\n                          {selected.sunat_documento && (\r\n                            <Dropdown.Item\r\n                              onClick={() => {\r\n                                download(\"xml\");\r\n                              }}\r\n                            >\r\n                              Descargar XML\r\n                            </Dropdown.Item>\r\n                          )}\r\n\r\n                          {selected.sunat_notes && (\r\n                            <Dropdown.Item\r\n                              onClick={() => {\r\n                                download(\"cdn\");\r\n                              }}\r\n                            >\r\n                              Descargar CDN\r\n                            </Dropdown.Item>\r\n                          )}\r\n                        </Dropdown.Menu>\r\n                      </Dropdown>\r\n                    )}\r\n\r\n                    <Button\r\n                      size=\"mini\"\r\n                      icon=\"print\"\r\n                      style={{ marginRight: \"2px\", marginLeft: \"2px\" }}\r\n                      onClick={() => {\r\n                        viewPrintFormat(!formatPrint.status, \"A4\");\r\n                      }}\r\n                      active={formatPrint.status}\r\n                    />\r\n\r\n                    {!!!Number(selected.is_nulled) || !!!selected ? (\r\n                      <>\r\n                        <Link\r\n                          to={`/welcome/email/create`}\r\n                          state={{\r\n                            backgroundLocation: location,\r\n                            model: { ...selected, ...{ file: pdfBlob } },\r\n                          }}\r\n                          className={\"button ui mini\"}\r\n                        >\r\n                          <Icon name=\"mail\"></Icon>\r\n                        </Link>\r\n\r\n                        <Button\r\n                          size=\"mini\"\r\n                          icon=\"pencil\"\r\n                          color={editionMode ? \"orange\" : \"\"}\r\n                          style={{ marginRight: \"2px\", marginLeft: \"2px\" }}\r\n                          onClick={() => {\r\n                            setEditionMode(!editionMode);\r\n                          }}\r\n                          active={formatPrint.status}\r\n                        />\r\n                      </>\r\n                    ) : (\r\n                      <></>\r\n                    )}\r\n                  </List.Content>\r\n                </List.Item>\r\n              </List>\r\n\r\n              <FormularioVenta\r\n                selected={selected}\r\n                handleChangeVenta={handleChangeVenta}\r\n                editionMode={editionMode}\r\n                setEditionMode={setEditionMode}\r\n                formatPrint={formatPrint}\r\n                setFormatPrint={setFormatPrint}\r\n                response={true}\r\n              />\r\n            </Grid.Column>\r\n          )}\r\n        </>\r\n      )}\r\n\r\n      {size.width > 700 && (\r\n        <Grid.Column width={11}>\r\n          {!selected ? (\r\n            <Segment placeholder style={{ marginTop: \"6vh\" }}>\r\n              <Header icon>\r\n                <Icon name=\"file outline\" />\r\n                No tienes un documento seleccionado\r\n              </Header>\r\n            </Segment>\r\n          ) : (\r\n            <>\r\n              <List relaxed=\"very\" style={{ marginTop: \"1rem\" }}>\r\n                <List.Item>\r\n                  <List.Content floated=\"right\">\r\n                    {selected && (\r\n                      <Dropdown\r\n                        text=\"Descargar\"\r\n                        icon=\"download\"\r\n                        floating\r\n                        labeled\r\n                        button\r\n                        className=\"button ui mini icon\"\r\n                      >\r\n                        <Dropdown.Menu>\r\n                          {selected.sunat_documento && (\r\n                            <Dropdown.Item\r\n                              onClick={() => {\r\n                                download(\"xml\");\r\n                              }}\r\n                            >\r\n                              Descargar XML\r\n                            </Dropdown.Item>\r\n                          )}\r\n\r\n                          {/* <Dropdown.Item>\r\n                        <PDFDownloadLink\r\n                          style={{ color: \"#000000DE\" }}\r\n                          document={\r\n                            <ViewFormatA4\r\n                              empresa={empresa}\r\n                              status={selected}\r\n                              qrCodeBase64={qrCodeBase64}\r\n                            />\r\n                          }\r\n                          fileName={`${selected.sunat_documento}.pdf`}\r\n                        >\r\n                          {({ blob, url, loading, error }) =>\r\n                            loading\r\n                              ? \"Cargando documento...\"\r\n                              : \"Descargar PDF\"\r\n                          }\r\n                        </PDFDownloadLink>\r\n                      </Dropdown.Item> */}\r\n                          {selected.sunat_notes && (\r\n                            <Dropdown.Item\r\n                              onClick={() => {\r\n                                download(\"cdn\");\r\n                              }}\r\n                            >\r\n                              Descargar CDN\r\n                            </Dropdown.Item>\r\n                          )}\r\n                        </Dropdown.Menu>\r\n                      </Dropdown>\r\n                    )}\r\n\r\n                    <Button\r\n                      size=\"mini\"\r\n                      content=\"Imprimir\"\r\n                      icon=\"print\"\r\n                      labelPosition=\"left\"\r\n                      style={{ marginRight: \"2px\", marginLeft: \"2px\" }}\r\n                      onClick={() => {\r\n                        viewPrintFormat(!formatPrint.status, \"A4\");\r\n                      }}\r\n                      active={formatPrint.status}\r\n                    />\r\n\r\n                    {!!!Number(selected.is_nulled) || !!!selected ? (\r\n                      <>\r\n                        <Button\r\n                          size=\"mini\"\r\n                          content=\"Editar\"\r\n                          icon=\"pencil\"\r\n                          labelPosition=\"left\"\r\n                          style={{ marginRight: \"2px\", marginLeft: \"2px\" }}\r\n                          active={editionMode}\r\n                          onClick={() => {\r\n                            setEditionMode(!editionMode);\r\n                          }}\r\n                        />\r\n                        <Link\r\n                          to={`/welcome/email/create`}\r\n                          state={{\r\n                            backgroundLocation: location,\r\n                            model: { ...selected, ...{ file: pdfBlob } },\r\n                          }}\r\n                          className={\"button ui mini\"}\r\n                        >\r\n                          Enviar\r\n                        </Link>\r\n                        <ConverterButton\r\n                          handleChangeVenta={handleChangeVenta}\r\n                          documento={selected}\r\n                          style={{ marginRight: \"2px\", marginLeft: \"2px\" }}\r\n                        />\r\n                      </>\r\n                    ) : (\r\n                      <></>\r\n                    )}\r\n                  </List.Content>\r\n                </List.Item>\r\n              </List>\r\n              <Button\r\n                circular\r\n                size=\"mini\"\r\n                icon\r\n                onClick={() => {\r\n                  setSelected(null);\r\n                }}\r\n              >\r\n                <Icon name=\"times\" />\r\n              </Button>\r\n              <Link\r\n                to={`/space/ventas/1`}\r\n                state={{\r\n                  model: selected,\r\n                }}\r\n              >\r\n                <Button circular size=\"mini\" icon>\r\n                  <Icon name=\"expand\" />\r\n                </Button>\r\n              </Link>\r\n              {Number(selected.is_nulled) ? (\r\n                <Label as=\"span\" content=\"Anulado\" icon=\"ban\" color=\"red\" />\r\n              ) : (\r\n                <></>\r\n              )}\r\n\r\n              <FormularioVenta\r\n                selected={selected}\r\n                handleChangeVenta={handleChangeVenta}\r\n                editionMode={editionMode}\r\n                formatPrint={formatPrint}\r\n                setFormatPrint={setFormatPrint}\r\n                response={false}\r\n              />\r\n            </>\r\n          )}\r\n        </Grid.Column>\r\n      )}\r\n\r\n      {/* formulario de edicion en tlfno */}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Ventas;\r\n","import React, { useContext } from \"react\";\r\nimport { Button, Label } from \"semantic-ui-react\";\r\nimport EmpresaContext from \"../context/EmpresaContext\";\r\nimport Path from \"../services/_path\";\r\nrequire(\"dotenv\");\r\n\r\nconst FormFielFileController = ({\r\n  type,\r\n  name,\r\n  icon,\r\n  title,\r\n  value,\r\n  color,\r\n  service,\r\n  setValue,\r\n  isContextEmpresa, // para decirle que afecta al contexto de la empresa y se hara una mutacion\r\n}) => {\r\n  const { empresa, setEmpresa } = useContext(EmpresaContext);\r\n\r\n  const fileInputRef = React.createRef();\r\n\r\n  const PATH_PUBLIC = Path(\"public\");\r\n\r\n  const fileChange = async (e) => {\r\n    const file = e.target.files[0];\r\n    const body = await service(empresa.empresa.id, file);\r\n    setValue(name, body.success);\r\n\r\n    empresa.empresa.certificado = body.success;\r\n\r\n    if (name === \"certificado\") {\r\n      setValue(\"certificado_validate\", 0);\r\n    }\r\n\r\n    if (name === \"logo\") {\r\n      setValue(\"logo\", body.success);\r\n    }\r\n\r\n    if (isContextEmpresa) {\r\n      setEmpresa(empresa);\r\n    }\r\n\r\n    console.log(empresa);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {type === \"imagen\" && (\r\n        <>\r\n          <label>{title}</label>\r\n          <Label\r\n            as=\"a\"\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              fileInputRef.current.click();\r\n            }}\r\n          >\r\n            <img\r\n              src={`${PATH_PUBLIC}/storage/${empresa?.empresa?.id}/${value}`}\r\n              alt=\"logo_empresa\"\r\n            />{\" \"}\r\n            {value}\r\n          </Label>\r\n        </>\r\n      )}\r\n\r\n      {type === \"file\" && (\r\n        <>\r\n          <label>{title}</label>\r\n          <Button\r\n            as={\"a\"}\r\n            color={color}\r\n            fluid\r\n            content={value || \"Certificado\"}\r\n            labelPosition=\"left\"\r\n            icon={icon || \"file\"}\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              fileInputRef.current.click();\r\n            }}\r\n          />\r\n        </>\r\n      )}\r\n      <input ref={fileInputRef} hidden type=\"file\" onChange={fileChange} />\r\n    </>\r\n  );\r\n};\r\nexport default FormFielFileController;\r\n","\r\nimport * as yup from \"yup\";\r\n\r\nconst schema = yup\r\n.object({\r\n  ruc: yup.string().required(\"Complete\"),\r\n  nombre: yup.string().required(\"Complete\"),\r\n  nombre_comercial: yup\r\n    .string()\r\n    .required(\"Complete\")\r\n    .min(2, \"Minimo 2 letras\")\r\n    .max(50, \"Max 50 Letras\"),\r\n  direccion: yup.string().required(\"Complete\"),\r\n  ubigeo_id: yup.string().required(\"Complete\"),\r\n  telefono: yup.string().required(\"Complete\"),\r\n  celular: yup.string().required(\"Complete\"),\r\n  email: yup.string().email().required(\"Complete\"),\r\n  decimales: yup.string().required(\"Complete\"),\r\n  // certificado: yup.string().required(\"Complete\"),\r\n  // certificado_clave: yup.string().required(\"Complete\"),\r\n  // usuario_sunat: yup.string().required(\"Complete\"),\r\n  // usuario_sunat_clave: yup.string().required(\"Complete\"),\r\n  por_detraccion: yup.string().required(\"Complete\"),\r\n  por_retencion: yup.string().required(\"Complete\"),\r\n  igv: yup.string().required(\"Complete\"),\r\n  agente: yup.string().required(\"Complete\"),\r\n  por_percepcion: yup.string().required(\"Complete\"),\r\n  limite_detraccion: yup.string().required(\"Complete\"),\r\n  country_id: yup.string().required(\"Complete\"),\r\n})\r\n.required();\r\n\r\nexport default schema","import React, { useEffect, useState, useContext } from \"react\";\r\nimport { useNavigate, useLocation } from \"react-router-dom\";\r\nimport { useForm, Controller } from \"react-hook-form\";\r\nimport {\r\n  Form,\r\n  Button,\r\n  Message,\r\n  TextArea,\r\n  Label,\r\n  Divider,\r\n  Segment,\r\n} from \"semantic-ui-react\";\r\nimport { yupResolver } from \"@hookform/resolvers/yup\";\r\nimport empresaSevice from \"../../services/empresa\";\r\nimport FormFielController from \"../FormFieldController\";\r\nimport FormFielFileController from \"../FormFieldFileController\";\r\nimport FormFielDropdownSarch from \"../DropdownSearch2\";\r\nimport EmpresaContext from \"../../context/EmpresaContext\";\r\nimport schema from \"./schema\";\r\nimport handleBackendErrors from \"../../libs/handleBackendErrors\";\r\nimport settingDropdowns from \"../../libs/settingDropdowns\";\r\n\r\nconst FormularioEmpresa = ({ state }) => {\r\n  let navigate = useNavigate();\r\n  let location = useLocation();\r\n  const { empresa, setEmpresa } = useContext(EmpresaContext);\r\n  const [isLoadding, setIsloadding] = useState(false);\r\n  const [isBackendError, setIsBackendError] = useState(false);\r\n  const [isCheckValidation, setCheckValidation] = useState(false);\r\n  const {\r\n    control,\r\n    handleSubmit,\r\n    setValue,\r\n    formState: { errors },\r\n    watch,\r\n  } = useForm({ resolver: yupResolver(schema), defaultValues: state });\r\n  const watcher = watch();\r\n  const [data, setData] = useState();\r\n  useEffect(() => {\r\n    (async () => {\r\n      if (!!state) {\r\n        let data = await empresaSevice.find(state.id);\r\n        return setData(data);\r\n      } else {\r\n        return false;\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  const handleUnlockCertificado = async (e) => {\r\n    e.preventDefault();\r\n    setCheckValidation(true);\r\n    const pass = watcher.certificado_clave;\r\n    const body = await empresaSevice.unlockCertificado(\r\n      empresa.empresa.id,\r\n      pass\r\n    );\r\n    setValue(\"certificado_validate\", body.status);\r\n    setCheckValidation(false);\r\n  };\r\n  const close = () => {\r\n    navigate(location.state.backgroundLocation.pathname, {\r\n      state: { reload: { empresa: true } },\r\n    });\r\n  };\r\n\r\n  const onSubmit = async (data) => {\r\n    setIsloadding(true);\r\n    if (!!data && data.id) {\r\n      // update\r\n      const update = await empresaSevice.update(data, data.id);\r\n      if (empresa.empresa.id === update.id) {\r\n        empresa.empresa = update;\r\n        window.localStorage.removeItem(\"empresa\");\r\n        window.localStorage.setItem(\"empresa\", JSON.stringify(empresa));\r\n        setEmpresa(empresa);\r\n        setIsloadding(false);\r\n        close();\r\n      } else {\r\n        close();\r\n      }\r\n      // verificar si es la empresa actual en el contexto del la instancia de local/empresa\r\n    } else {\r\n      //create\r\n      const create = await empresaSevice.create(data);\r\n      setIsloadding(false);\r\n      if (create?.errors) {\r\n        setIsBackendError(handleBackendErrors(create));\r\n      } else {\r\n        setIsBackendError(null);\r\n        close();\r\n      }\r\n      return create;\r\n    }\r\n  };\r\n  return (\r\n    <Form onSubmit={handleSubmit(onSubmit)} noValidate>\r\n      <Form.Group>\r\n        <FormFielDropdownSarch\r\n          model={settingDropdowns.paises}\r\n          empresaContexto={empresa}\r\n          control={control}\r\n          venta={watcher}\r\n          setValue={setValue}\r\n          width={8}\r\n        />\r\n      </Form.Group>\r\n      {/* <pre>{JSON.stringify(watcher, null, 2)}</pre> */}\r\n      {watcher.country_id && (\r\n        <>\r\n          <Form.Group widths={1}>\r\n            <FormFielController\r\n              name={\"ruc\"}\r\n              title={\r\n                watcher.country_id === 3\r\n                  ? \"RUS\"\r\n                  : watcher.country_id === 2\r\n                  ? \"RIF\"\r\n                  : watcher.country_id === 1\r\n                  ? \"RUC\"\r\n                  : \"\"\r\n              }\r\n              control={control}\r\n              errors={errors}\r\n              width={8}\r\n            />\r\n            {watcher.id && (\r\n              <Form.Field>\r\n                <FormFielFileController\r\n                  type={\"imagen\"}\r\n                  name={\"logo\"}\r\n                  title={\"Logo de la Empresa\"}\r\n                  value={watcher.logo}\r\n                  service={empresaSevice.updateLogo}\r\n                  setValue={setValue}\r\n                  isContextEmpresa={true}\r\n                />\r\n              </Form.Field>\r\n            )}\r\n          </Form.Group>\r\n          <Form.Group widths={2}>\r\n            <FormFielController\r\n              name={\"nombre\"}\r\n              title={\"Nombre\"}\r\n              control={control}\r\n              errors={errors}\r\n              width={8}\r\n            />\r\n            <FormFielController\r\n              name={\"nombre_comercial\"}\r\n              title={\"Nombre Comercial\"}\r\n              control={control}\r\n              errors={errors}\r\n              width={8}\r\n            />\r\n          </Form.Group>\r\n          <Form.Group widths={4}>\r\n            <FormFielController\r\n              name={\"direccion\"}\r\n              title={\"Direccion\"}\r\n              control={control}\r\n              errors={errors}\r\n              width={8}\r\n            />\r\n\r\n            <FormFielDropdownSarch\r\n              model={settingDropdowns.ubigeo}\r\n              empresaContexto={empresa}\r\n              control={control}\r\n              venta={watcher}\r\n              setValue={setValue}\r\n              width={8}\r\n            />\r\n          </Form.Group>\r\n          <Form.Group widths={4}>\r\n            <FormFielController\r\n              name={\"telefono\"}\r\n              title={\"Telefono Fijo\"}\r\n              control={control}\r\n              errors={errors}\r\n              width={4}\r\n            />\r\n            <FormFielController\r\n              name={\"celular\"}\r\n              title={\"Telefono Celular\"}\r\n              control={control}\r\n              errors={errors}\r\n              width={4}\r\n            />\r\n            <FormFielController\r\n              name={\"email\"}\r\n              title={\"Email\"}\r\n              control={control}\r\n              errors={errors}\r\n              width={4}\r\n            />\r\n            <FormFielController\r\n              name={\"decimales\"}\r\n              title={\"Decimales\"}\r\n              control={control}\r\n              errors={errors}\r\n              width={4}\r\n            />\r\n          </Form.Group>\r\n          <Divider />\r\n          {watcher.country_id === 1 && (\r\n            <>\r\n              <Form.Group widths={5}>\r\n                <Form.Field width={6}>\r\n                  <FormFielFileController\r\n                    type={\"file\"}\r\n                    icon={\"expeditedssl\"}\r\n                    name={\"certificado\"}\r\n                    title={\"Certificado Digital\"}\r\n                    value={watcher.certificado}\r\n                    color={\r\n                      watcher.certificado_validate === 0\r\n                        ? \"secundary\"\r\n                        : watcher.certificado_validate === 1\r\n                        ? \"red\"\r\n                        : watcher.certificado_validate === 2\r\n                        ? \"green\"\r\n                        : \"secundary\"\r\n                    }\r\n                    service={empresaSevice.updateCertificado}\r\n                    empresaContexto={empresa}\r\n                    setValue={setValue}\r\n                    isContextEmpresa={true}\r\n                  />\r\n                </Form.Field>\r\n\r\n                <FormFielController\r\n                  name={\"certificado_clave\"}\r\n                  title={\"Contraseña del Certificado Digital\"}\r\n                  control={control}\r\n                  errors={errors}\r\n                  width={6}\r\n                  type={\"password\"}\r\n                />\r\n                <Form.Field>\r\n                  <label>&nbsp;</label>\r\n                  <Button\r\n                    fluid\r\n                    content=\"Validar Certificado\"\r\n                    onClick={handleUnlockCertificado}\r\n                    loading={isCheckValidation}\r\n                  />\r\n                </Form.Field>\r\n              </Form.Group>\r\n              <Form.Group widths={5}>\r\n                <FormFielController\r\n                  name={\"usuario_sunat\"}\r\n                  title={\"Usuario Sunat\"}\r\n                  control={control}\r\n                  errors={errors}\r\n                  width={6}\r\n                />\r\n                <FormFielController\r\n                  name={\"usuario_sunat_clave\"}\r\n                  title={\"Clave de Usuario Sunat\"}\r\n                  control={control}\r\n                  errors={errors}\r\n                  width={6}\r\n                  type={\"password\"}\r\n                />\r\n\r\n                {/* <FormFielController\r\n          name={\"country_id\"}\r\n          title={\"Pais\"}\r\n          control={control}\r\n          errors={errors}\r\n          width={4}\r\n        /> */}\r\n              </Form.Group>\r\n              <Divider />\r\n            </>\r\n          )}\r\n          <Form.Group widths={5}>\r\n            <FormFielController\r\n              name={\"igv\"}\r\n              title={\r\n                watcher.country_id === 3\r\n                  ? \"IVA\"\r\n                  : watcher.country_id === 2\r\n                  ? \"IVA\"\r\n                  : watcher.country_id === 1\r\n                  ? \"IGV\"\r\n                  : \"\"\r\n              }\r\n              control={control}\r\n              errors={errors}\r\n              width={3}\r\n            />\r\n            <FormFielController\r\n              name={\"agente\"}\r\n              title={\"Agente\"}\r\n              control={control}\r\n              errors={errors}\r\n              width={3}\r\n            />\r\n            <FormFielController\r\n              name={\"por_percepcion\"}\r\n              title={\"% Percepción\"}\r\n              control={control}\r\n              errors={errors}\r\n              width={3}\r\n            />\r\n            <FormFielController\r\n              name={\"por_retencion\"}\r\n              title={\"% Retencion\"}\r\n              control={control}\r\n              errors={errors}\r\n              width={3}\r\n            />\r\n          </Form.Group>\r\n          <Divider />\r\n          <Form.Group widths={16}>\r\n            <FormFielController\r\n              name={\"por_detraccion\"}\r\n              title={\"% Detracción\"}\r\n              control={control}\r\n              errors={errors}\r\n              width={3}\r\n            />\r\n            <FormFielController\r\n              name={\"limite_detraccion\"}\r\n              title={\"Limite Detracción\"}\r\n              control={control}\r\n              errors={errors}\r\n              width={3}\r\n            />\r\n            <FormFielController\r\n              name={\"cuenta_detraccion\"}\r\n              title={\"Cuenta Detracción\"}\r\n              control={control}\r\n              errors={errors}\r\n              width={5}\r\n            />\r\n          </Form.Group>\r\n          <Form.Group widths={16}>\r\n            <Form.Field width={16}>\r\n              <Controller\r\n                name={\"detalle\"}\r\n                control={control}\r\n                render={({ field: { onChange, onBlur, value } }) => (\r\n                  <>\r\n                    <label>Comentario de Pie de Página</label>\r\n                    <TextArea\r\n                      rows={12}\r\n                      value={value}\r\n                      onBlur={onBlur}\r\n                      onChange={onChange}\r\n                      placeholder=\"Comentarios de pie de pagina de las impresiones del modulo de ventas\"\r\n                    />\r\n                  </>\r\n                )}\r\n              />\r\n            </Form.Field>\r\n          </Form.Group>\r\n          <Divider />\r\n          <Form.Group roup widths={16}>\r\n            <FormFielController\r\n              name={\"smtp_mail_host\"}\r\n              title={\"Host\"}\r\n              control={control}\r\n              errors={errors}\r\n              width={3}\r\n            />\r\n            <FormFielController\r\n              name={\"smtp_mail_port\"}\r\n              title={\"Puerto\"}\r\n              control={control}\r\n              errors={errors}\r\n              width={3}\r\n            />\r\n            <FormFielController\r\n              name={\"smtp_mail_service\"}\r\n              title={\"Servicio\"}\r\n              control={control}\r\n              errors={errors}\r\n              width={3}\r\n            />\r\n            <FormFielController\r\n              name={\"smtp_mail_auth_user\"}\r\n              title={\"Usuario\"}\r\n              control={control}\r\n              errors={errors}\r\n              width={3}\r\n            />\r\n            <FormFielController\r\n              name={\"smtp_mail_auth_password\"}\r\n              title={\"Contraseña\"}\r\n              type={\"password\"}\r\n              control={control}\r\n              errors={errors}\r\n              width={3}\r\n            />\r\n          </Form.Group>\r\n          {Object.keys(errors)?.length ? (\r\n            <Message\r\n              color=\"orange\"\r\n              header=\"Advertencia\"\r\n              list={[\r\n                \"Verifique que todos los campos requeridos esten completos.\",\r\n              ]}\r\n            />\r\n          ) : (\r\n            <></>\r\n          )}\r\n          {isBackendError?.length && (\r\n            <Message\r\n              color=\"red\"\r\n              header=\"Verifique los siguientes campos\"\r\n              list={isBackendError}\r\n            />\r\n          )}\r\n          <Button loading={isLoadding} secondary>\r\n            Guardar\r\n          </Button>\r\n        </>\r\n      )}\r\n    </Form>\r\n  );\r\n};\r\nexport default FormularioEmpresa;\r\n","\r\nimport * as yup from \"yup\";\r\n\r\nconst schema = yup\r\n.object({\r\n  nombre: yup.string().required(\"Complete\"),\r\n  direccion: yup.string().required(\"Complete\"),\r\n  ubigeo_id: yup.string().required(\"Complete\"),\r\n  empresa_id: yup.string().required(\"Complete\")\r\n})\r\n.required();\r\n\r\nexport default schema","import React, { useEffect, useState, useContext } from \"react\";\r\nimport { useNavigate, useLocation } from \"react-router-dom\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { Form, Button, Message } from \"semantic-ui-react\";\r\nimport { yupResolver } from \"@hookform/resolvers/yup\";\r\nimport localSevice from \"../../services/local\";\r\nimport FormFielController from \"../FormFieldController\";\r\nimport schema from \"./schema\";\r\nimport handleBackendErrors from \"../../libs/handleBackendErrors\";\r\nimport EmpresaContext from \"../../context/EmpresaContext\";\r\n\r\nconst FormularioLocal = ({ state }) => {\r\n  console.log(state);\r\n\r\n  let navigate = useNavigate();\r\n  let location = useLocation();\r\n  const { empresa, setEmpresa } = useContext(EmpresaContext);\r\n  const [isLoadding, setIsloadding] = useState(false);\r\n  const [isBackendError, setIsBackendError] = useState(false);\r\n  const {\r\n    control,\r\n    handleSubmit,\r\n    formState: { errors },\r\n  } = useForm({ resolver: yupResolver(schema), defaultValues: state });\r\n\r\n  const [data, setData] = useState();\r\n  useEffect(\r\n    async () => {\r\n      if (!!state && state.id) {\r\n        let data = await localSevice.find(state.id);\r\n        return setData(data);\r\n      } else {\r\n        return false;\r\n      }\r\n    },\r\n    { data }\r\n  );\r\n\r\n  const close = () => {\r\n    navigate(location.state.backgroundLocation.pathname, {\r\n      state: { reload: { empresa: true } },\r\n    });\r\n  };\r\n\r\n  const onSubmit = async (data) => {\r\n    setIsloadding(true);\r\n    if (!!data && data.id) {\r\n      // update\r\n      const update = await localSevice.update(data, data.id);\r\n      localStorage.removeItem(\"empresa\");\r\n      setEmpresa(null);\r\n      close();\r\n      // verificar si es la empresa actual en el contexto del la instancia de local/empresa\r\n    } else {\r\n      //create\r\n      const create = await localSevice.create(data);\r\n      setIsloadding(false);\r\n      if (create?.errors) {\r\n        setIsBackendError(handleBackendErrors(create));\r\n      } else {\r\n        setIsBackendError(null);\r\n        close();\r\n      }\r\n      return create;\r\n    }\r\n  };\r\n  return (\r\n    <Form onSubmit={handleSubmit(onSubmit)} noValidate>\r\n      <FormFielController\r\n        name={\"nombre\"}\r\n        title={\"Nombre\"}\r\n        control={control}\r\n        errors={errors}\r\n        width={16}\r\n      />\r\n      <Form.Group>\r\n        <FormFielController\r\n          name={\"direccion\"}\r\n          title={\"Direccion\"}\r\n          control={control}\r\n          errors={errors}\r\n          width={16}\r\n        />\r\n        <FormFielController\r\n          name={\"ubigeo_id\"}\r\n          title={\"Ubigeo\"}\r\n          control={control}\r\n          errors={errors}\r\n          width={16}\r\n        />\r\n      </Form.Group>\r\n      {Object.keys(errors)?.length ? (\r\n        <Message\r\n          color=\"orange\"\r\n          header=\"Advertencia\"\r\n          list={[\"Verifique que todos los campos requeridos esten completos.\"]}\r\n        />\r\n      ) : (\r\n        <></>\r\n      )}\r\n\r\n      {isBackendError?.length && (\r\n        <Message\r\n          color=\"red\"\r\n          header=\"Verifique los siguientes campos\"\r\n          list={isBackendError}\r\n        />\r\n      )}\r\n\r\n      <Button loading={isLoadding} secondary>\r\n        Guardar\r\n      </Button>\r\n    </Form>\r\n  );\r\n};\r\nexport default FormularioLocal;\r\n","import instance from \"./_instance\";\r\nimport qs from \"qs\";\r\nimport axios from \"axios\";\r\n\r\nimport Localbase from \"localbase\";\r\n// Create instance called instance\r\n\r\nconst db = new Localbase(\"db\");\r\ndb.config.debug = false;\r\n\r\nfunction show(empresa_id, query = { order: { id: \"DESC\" } }) {\r\n  const str = qs.stringify(query);\r\n  return new Promise((ok, reject) => {\r\n    instance.get(`/cliente/${empresa_id}?${str}`).then(\r\n      async (res) => {\r\n        // console.log(\">>RESPUESTA DEL SHOW \", res.data.data);\r\n        db.collection(\"contactos\")\r\n          .set(res.data.data)\r\n          .then((contactos) => {\r\n            ok(contactos.data);\r\n          });\r\n      },\r\n      (bad) => {\r\n        reject(false);\r\n      }\r\n    );\r\n  });\r\n}\r\n\r\nfunction find(empresa_id, id) {\r\n  return new Promise((resolve, reject) => {\r\n    instance.get(\"cliente/\" + empresa_id + \"/\" + id).then((res) => {\r\n      resolve(res.data);\r\n    });\r\n  });\r\n}\r\n\r\nfunction create(data) {\r\n  return new Promise((resolve, reject) => {\r\n    instance\r\n      .post(\"cliente\", data)\r\n      .then(async (res) => {\r\n        db.collection(\"contactos\")\r\n          .set(res.data)\r\n          .then((_contacto) => {\r\n            console.log(_contacto);\r\n            return resolve(res.data);\r\n          });\r\n        resolve(res.data);\r\n      })\r\n      .catch(async (error) => {\r\n        debugger;\r\n        //catch error de validacion de backend online\r\n        if (error.response) {\r\n          console.log(error.response);\r\n          resolve(error.response.data);\r\n        } else {\r\n          alert(\"error desconexion\");\r\n        }\r\n      });\r\n  });\r\n}\r\n\r\nfunction update(data, id) {\r\n  return new Promise((resolve, reject) => {\r\n    instance\r\n      .put(\"cliente/\" + id, data)\r\n      .then(async (res) => {\r\n        await db\r\n          .collection(\"contactos\")\r\n          .doc({ id: res.data.id })\r\n          .update(res.data);\r\n\r\n        resolve(res.data);\r\n      })\r\n      .catch((error) => {\r\n        resolve(data);\r\n      });\r\n  });\r\n}\r\n\r\nfunction getDni(data) {\r\n  return new Promise((resolve, reject) => {\r\n    axios.post(\"https://api.nubefa.com/api/dni\", data).then(\r\n      (res) => {\r\n        resolve(res);\r\n      },\r\n      (err) => {\r\n        reject(false);\r\n      }\r\n    );\r\n  });\r\n}\r\n\r\nfunction getRuc(data) {\r\n  return new Promise((resolve, reject) => {\r\n    axios.post(\"https://api.nubefa.com/api/ruc\", data).then(\r\n      (res) => {\r\n        resolve(res);\r\n      },\r\n      (err) => {\r\n        reject(false);\r\n      }\r\n    );\r\n  });\r\n}\r\n\r\nexport default { show, find, create, update, getDni, getRuc };\r\n","import * as yup from \"yup\";\r\n\r\nconst schema = yup\r\n  .object({\r\n    tipo_documento_identy_id: yup.string().required(\"Complete\"),\r\n    numero_documento: yup.string().required(\"Complete\"),\r\n    nombre: yup.string().required(\"Complete\"),\r\n    nombre_comercial: yup\r\n      .string()\r\n      .required(\"Complete\")\r\n      .min(2, \"Minimo 2 letras\")\r\n      .max(50, \"Max 50 Letras\"),\r\n    direccion: yup.string().required(\"Complete\"),\r\n    ubigeo_id: yup.string().required(\"Complete\"),\r\n    empresa_id: yup.string().required(\"Complete\")\r\n  })\r\n  .required();\r\n\r\nexport default schema;\r\n","import React, { useEffect, useState, useContext } from \"react\";\r\nimport { useNavigate, useLocation } from \"react-router-dom\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { Form, Button, Message, Input } from \"semantic-ui-react\";\r\nimport { yupResolver } from \"@hookform/resolvers/yup\";\r\nimport clienteSevice from \"../../services/cliente\";\r\nimport FormFielController from \"../FormFieldController\";\r\nimport FormFielDropdownSarch from \"../DropdownSearch2\";\r\nimport EmpresaContext from \"../../context/EmpresaContext\";\r\nimport setting from \"../../libs/settingDropdowns\";\r\n\r\nimport schema from \"./schema\";\r\n\r\nimport handleBackendErrors from \"../../libs/handleBackendErrors\";\r\n\r\nconst FormularioCliente = ({ state }) => {\r\n  let navigate = useNavigate();\r\n  let location = useLocation();\r\n  const { empresa } = useContext(EmpresaContext);\r\n  const [isLoadding, setIsloadding] = useState(false);\r\n  const [isSearchSunat, setIsSearchSunat] = useState(false);\r\n  const [isUbigeoSearch, setIsUbigeoSearch] = useState(false);\r\n  const [isBackendError, setIsBackendError] = useState(false);\r\n\r\n  const close = (cliente) => {\r\n    navigate(location.state.backgroundLocation.pathname, {\r\n      state: { reload: { cliente_id: cliente } },\r\n    });\r\n  };\r\n\r\n  const onSubmit = async (data) => {\r\n    setIsloadding(true);\r\n    // para update\r\n    if (!!data && data.id) {\r\n      const update = await clienteSevice.update(data, data.id);\r\n      if (update?.errors) {\r\n        setIsBackendError(handleBackendErrors(update));\r\n      } else {\r\n        // db.collection(\"contactos\").add(data);\r\n        // console.log(\"debugger\");\r\n        setIsBackendError(null);\r\n        close(update);\r\n      }\r\n    } else {\r\n      //para create\r\n      clienteSevice.create(data).then(\r\n        (create) => {\r\n          setIsloadding(false);\r\n          if (create?.errors) {\r\n            setIsBackendError(handleBackendErrors(create));\r\n          } else {\r\n            setIsBackendError(null);\r\n            close(create);\r\n            return create;\r\n          }\r\n        },\r\n        (errors) => {\r\n          close(data);\r\n        }\r\n      );\r\n    }\r\n  };\r\n\r\n  const {\r\n    control,\r\n    handleSubmit,\r\n    formState: { errors },\r\n    setValue,\r\n    watch,\r\n    reset,\r\n  } = useForm({ resolver: yupResolver(schema), defaultValues: state });\r\n\r\n  const watcher = watch();\r\n\r\n  const getDataSunat = async () => {\r\n    setIsSearchSunat(true);\r\n\r\n    if (watcher?.tipo_documento_identy_id === 3) {\r\n      /***cuando es dni */\r\n      clienteSevice\r\n        .getDni({\r\n          data: watcher.numero_documento,\r\n        })\r\n        .then(\r\n          (res) => {\r\n            setValue(\"nombre\", res.data.ane_alias);\r\n            setValue(\"nombre_comercial\", res.data.ane_alias);\r\n\r\n            setIsUbigeoSearch(true);\r\n            setIsSearchSunat(false);\r\n            return true;\r\n          },\r\n          (error) => {\r\n            setIsSearchSunat(false);\r\n            return true;\r\n          }\r\n        );\r\n    }\r\n\r\n    if (watcher?.tipo_documento_identy_id === 4) {\r\n      /***cuando es ruc */\r\n\r\n      clienteSevice.getRuc({ data: watcher.numero_documento }).then(\r\n        (res) => {\r\n          setValue(\"nombre\", res.data.razonSocial);\r\n          setValue(\"nombre_comercial\", res.data.razonSocial);\r\n          setValue(\"direccion\", res.data.direccion);\r\n          setValue(\"ubigeo_id\", parseInt(res.data.ubi_id));\r\n          setValue(\"ubigeo\", {\r\n            id: res.data.ubi_id,\r\n            provincia: res.data.provincia,\r\n            distrito: res.data.distrito,\r\n            departamento: res.data.departamento,\r\n          });\r\n\r\n          setIsUbigeoSearch(true);\r\n          setIsSearchSunat(false);\r\n          return true;\r\n        },\r\n        (error) => {\r\n          setIsSearchSunat(false);\r\n          return true;\r\n        }\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Form onSubmit={handleSubmit(onSubmit)} noValidate>\r\n      <Form.Group>\r\n        <FormFielDropdownSarch\r\n          model={setting.tipo_documento_identy}\r\n          empresaContexto={empresa}\r\n          control={control}\r\n          setValue={setValue}\r\n          width={7}\r\n        />\r\n      </Form.Group>\r\n\r\n      <Form.Group>\r\n        <FormFielController\r\n          name={\"numero_documento\"}\r\n          title={\"Numero de Documento\"}\r\n          control={control}\r\n          errors={errors}\r\n          width={7}\r\n        />\r\n        {watcher.tipo_documento_identy_id === 4 ||\r\n        watcher.tipo_documento_identy_id === 3 ? (\r\n          <Form.Field>\r\n            <Button\r\n              primary\r\n              style={{ marginTop: \"22px\" }}\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                getDataSunat();\r\n              }}\r\n              loading={isSearchSunat}\r\n            >\r\n              Buscar en Sunat\r\n            </Button>\r\n          </Form.Field>\r\n        ) : (\r\n          <></>\r\n        )}\r\n      </Form.Group>\r\n      <Form.Group widths={2}>\r\n        <FormFielController\r\n          name={\"nombre\"}\r\n          title={\"Nombre\"}\r\n          control={control}\r\n          errors={errors}\r\n          width={7}\r\n        />\r\n        <FormFielController\r\n          name={\"nombre_comercial\"}\r\n          title={\"Nombre Comercial\"}\r\n          control={control}\r\n          errors={errors}\r\n          width={8}\r\n        />\r\n      </Form.Group>\r\n\r\n      <Form.Group widths={2}>\r\n        <FormFielController\r\n          name={\"direccion\"}\r\n          title={\"Direccion\"}\r\n          control={control}\r\n          errors={errors}\r\n          width={15}\r\n        />\r\n      </Form.Group>\r\n\r\n      <Form.Group>\r\n        {!isUbigeoSearch ? (\r\n          <FormFielDropdownSarch\r\n            model={setting.ubigeo}\r\n            empresaContexto={empresa}\r\n            control={control}\r\n            setValue={setValue}\r\n            venta={watcher}\r\n          />\r\n        ) : (\r\n          <Form.Field\r\n            width={5}\r\n            control={Input}\r\n            label={\"Ubigeo\"}\r\n            value={`${watcher.ubigeo.provincia} ${watcher.ubigeo.distrito} ${watcher.ubigeo.departamento}`}\r\n            placeholder=\"Ubigeo\"\r\n            type={\"text\"}\r\n            readOnly\r\n          />\r\n        )}\r\n      </Form.Group>\r\n\r\n      <Form.Group widths={3}>\r\n        <FormFielController\r\n          type={\"number\"}\r\n          name={\"telefono\"}\r\n          title={\"Telefono Celular | WhatApp\"}\r\n          control={control}\r\n          errors={errors}\r\n          width={5}\r\n        />\r\n        <FormFielController\r\n          type={\"number\"}\r\n          name={\"celular\"}\r\n          title={\"Telefono Segundario\"}\r\n          control={control}\r\n          errors={errors}\r\n          width={5}\r\n        />\r\n        <FormFielController\r\n          name={\"email\"}\r\n          title={\"Email\"}\r\n          control={control}\r\n          errors={errors}\r\n          width={5}\r\n        />\r\n      </Form.Group>\r\n\r\n      {Object.keys(errors)?.length ? (\r\n        <Message\r\n          color=\"orange\"\r\n          header=\"Advertencia\"\r\n          list={[\"Verifique que todos los campos requeridos esten completos.\"]}\r\n        />\r\n      ) : (\r\n        <></>\r\n      )}\r\n\r\n      {isBackendError?.length && (\r\n        <Message\r\n          color=\"red\"\r\n          header=\"Verifique los siguientes campos\"\r\n          list={isBackendError}\r\n        />\r\n      )}\r\n\r\n      <br />\r\n      <br />\r\n      <br />\r\n      <br />\r\n      <Button primary disabled={!!isLoadding}>\r\n        Guardar\r\n      </Button>\r\n      <Button\r\n        style={{ marginTop: \"1vh\" }}\r\n        as=\"a\"\r\n        content=\"Deshacer Cambios\"\r\n        onClick={() => {\r\n          reset(state);\r\n        }}\r\n      />\r\n    </Form>\r\n  );\r\n};\r\nexport default FormularioCliente;\r\n","import instance from \"./_instance\";\r\n// Create instance called instance\r\n\r\nfunction show(empresa_id) {\r\n  return new Promise((ok, reject) => {\r\n    instance.get(\"/moneda/\" + empresa_id).then(\r\n      (res) => {\r\n        ok(res.data);\r\n      },\r\n      (bad) => {\r\n        reject(new Error(\"bad request\"));\r\n      }\r\n    );\r\n  });\r\n}\r\n\r\nfunction find(id) {\r\n  return new Promise((resolve, reject) => {\r\n    instance.get(\"moneda/\" + id).then((res) => {\r\n      resolve(res.data);\r\n    });\r\n  });\r\n}\r\n\r\nfunction create(data) {\r\n  return new Promise((resolve, reject) => {\r\n    instance\r\n      .post(\"moneda\", data)\r\n      .then((res) => {\r\n        resolve(res.data);\r\n      })\r\n      .catch((error) => {\r\n        if (error.response) {\r\n          resolve(error.response.data);\r\n        }\r\n      });\r\n  });\r\n}\r\n\r\nfunction update(data, id) {\r\n  const empresa_id = data.empresa_id;\r\n  return new Promise((resolve, reject) => {\r\n    instance.put(\"moneda/\" + empresa_id + \"/\" + id, data).then((res) => {\r\n      resolve(res.data);\r\n    });\r\n  });\r\n}\r\n\r\nexport default { show, find, create, update };\r\n","import * as yup from \"yup\";\r\n\r\nconst schema = yup\r\n  .object({\r\n    nombre: yup.string().required(\"Complete\"),\r\n    iso: yup.string().required(\"Complete\"),\r\n    simbolo: yup.string().required(\"Complete\"),\r\n    sunat_codigo: yup.string().required(\"Complete\"),\r\n    dolar: yup.string().required(\"Complete\"),\r\n    empresa_id: yup.string().required(\"Complete\"),\r\n  })\r\n  .required();\r\n\r\nexport default schema;\r\n","import React, { useEffect, useState, useContext } from \"react\";\r\nimport { useNavigate, useLocation } from \"react-router-dom\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { Form, Button, Message, Segment ,Table ,Checkbox ,Icon} from \"semantic-ui-react\";\r\nimport { yupResolver } from \"@hookform/resolvers/yup\";\r\nimport monedaService from \"../../services/moneda\";\r\nimport FormFielController from \"../FormFieldController\";\r\nimport schema from \"./schema\";\r\nimport handleBackendErrors from \"../../libs/handleBackendErrors\";\r\nimport EmpresaContext from \"../../context/EmpresaContext\";\r\n\r\nconst FormularioMoneda = ({ state }) => {\r\n  let navigate = useNavigate();\r\n  let location = useLocation();\r\n  const { empresa, setEmpresa } = useContext(EmpresaContext);\r\n  const [isLoadding, setIsloadding] = useState(false);\r\n  const [isBackendError, setIsBackendError] = useState(false);\r\n  const {\r\n    control,\r\n    handleSubmit,\r\n    formState: { errors },\r\n    reset,\r\n  } = useForm({ resolver: yupResolver(schema), defaultValues: state });\r\n\r\n  const [data, setData] = useState();\r\n  useEffect(\r\n    async () => {\r\n      if (!!state && state.id) {\r\n        let data = await monedaService.find(state.id);\r\n        return setData(data);\r\n      } else {\r\n        return false;\r\n      }\r\n    },\r\n    { data }\r\n  );\r\n\r\n  const close = (moneda) => {\r\n    navigate(location.state.backgroundLocation.pathname, {\r\n      state: { reload: { moneda_id: moneda } },\r\n    });\r\n  };\r\n\r\n  const onSubmit = async (data) => {\r\n    console.log(data);\r\n    setIsloadding(true);\r\n    if (!!data && data.id) {\r\n      // update\r\n      const update = await monedaService.update(data, data.id);\r\n      close(update);\r\n      // verificar si es la empresa actual en el contexto del la instancia de local/empresa\r\n    } else {\r\n      //create\r\n      const create = await monedaService.create(data);\r\n      setIsloadding(false);\r\n      if (create?.errors) {\r\n        setIsBackendError(handleBackendErrors(create));\r\n      } else {\r\n        setIsBackendError(null);\r\n        close(create);\r\n      }\r\n      return create;\r\n    }\r\n  };\r\n  return (\r\n    <Form onSubmit={handleSubmit(onSubmit)} noValidate>\r\n      <Form.Group>\r\n        <FormFielController\r\n          name={\"nombre\"}\r\n          title={\"Nombre\"}\r\n          control={control}\r\n          errors={errors}\r\n          width={4}\r\n        />\r\n        <FormFielController\r\n          name={\"iso\"}\r\n          title={\"ISO\"}\r\n          control={control}\r\n          errors={errors}\r\n          width={3}\r\n        />\r\n        <FormFielController\r\n          name={\"simbolo\"}\r\n          title={\"Simbolo\"}\r\n          control={control}\r\n          errors={errors}\r\n          width={3}\r\n        />\r\n        <FormFielController\r\n          name={\"sunat_codigo\"}\r\n          title={\"Codigo Sunat\"}\r\n          control={control}\r\n          errors={errors}\r\n          width={3}\r\n        />\r\n        <FormFielController\r\n          name={\"dolar\"}\r\n          title={\"Dolar\"}\r\n          control={control}\r\n          errors={errors}\r\n          width={3}\r\n        />\r\n      </Form.Group>\r\n\r\n\r\n\r\n\r\n      {Object.keys(errors)?.length ? (\r\n          <>\r\n        <Message\r\n          color=\"orange\"\r\n          header=\"Advertencia\"\r\n          list={[\"Verifique que todos los campos requeridos esten completos.\"]}\r\n        />\r\n        <Segment>\r\n            {JSON.stringify(errors,null,2)}\r\n        </Segment>\r\n        </>\r\n      ) : (\r\n        <></>\r\n      )}\r\n\r\n      {isBackendError?.length && (\r\n        <Message\r\n          color=\"red\"\r\n          header=\"Verifique los siguientes campos\"\r\n          list={isBackendError}\r\n        />\r\n      )}\r\n\r\n      <Button\r\n        loading={isLoadding}\r\n        disabled={isLoadding}\r\n        content=\"Guardar\"\r\n        primary\r\n      />\r\n      <Button\r\n        as=\"a\"\r\n        content=\"Deshacer Cambios\"\r\n        secondary\r\n        onClick={() => {\r\n          reset(state);\r\n        }}\r\n      />\r\n    </Form>\r\n  );\r\n};\r\n\r\nexport default FormularioMoneda;\r\n","import instance from \"./_instance\";\r\n// Create instance called instance\r\n\r\nfunction show() {\r\n  return new Promise((ok, reject) => {\r\n    instance.get(\"/vehiculo\").then(\r\n      (res) => {\r\n        ok(res.data);\r\n      },\r\n      (bad) => {\r\n        reject(new Error(\"bad request\"));\r\n      }\r\n    );\r\n  });\r\n}\r\n\r\nfunction find(id) {\r\n  return new Promise((resolve, reject) => {\r\n    instance.get(\"vehiculo/\" + id).then((res) => {\r\n      resolve(res.data);\r\n    });\r\n  });\r\n}\r\n\r\nfunction create(data) {\r\n  return new Promise((resolve, reject) => {\r\n    instance\r\n      .post(\"vehiculo\", data)\r\n      .then((res) => {\r\n        resolve(res.data);\r\n      })\r\n      .catch((error) => {\r\n        if (error.response) {\r\n          resolve(error.response.data);\r\n        }\r\n      });\r\n  });\r\n}\r\n\r\nfunction update(data, id) {\r\n  const empresa_id = data.empresa_id;\r\n  return new Promise((resolve, reject) => {\r\n    instance.put(\"vehiculo/\" + empresa_id + \"/\" + id, data).then((res) => {\r\n      resolve(res.data);\r\n    });\r\n  });\r\n}\r\n\r\nexport default { show, find, create, update };\r\n","import * as yup from \"yup\";\r\n\r\nconst schema = yup\r\n  .object({\r\n    descripcion: yup.string().required(\"Complete\"),\r\n    placa: yup.string().required(\"Complete\"),\r\n    marca: yup.string().required(\"Complete\"),\r\n    empresa_id: yup.string().required(\"Complete\"),\r\n  })\r\n  .required();\r\n\r\nexport default schema;\r\n","import React, { useEffect, useState, useContext } from \"react\";\r\nimport { useNavigate, useLocation } from \"react-router-dom\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { Form, Button, Message, Segment } from \"semantic-ui-react\";\r\nimport { yupResolver } from \"@hookform/resolvers/yup\";\r\nimport vehiculoService from \"../../services/vehiculos\";\r\nimport FormFielController from \"../FormFieldController\";\r\nimport schema from \"./schema\";\r\nimport handleBackendErrors from \"../../libs/handleBackendErrors\";\r\nimport EmpresaContext from \"../../context/EmpresaContext\";\r\n\r\nconst FormularioMoneda = ({ state }) => {\r\n  let navigate = useNavigate();\r\n  let location = useLocation();\r\n  const { empresa, setEmpresa } = useContext(EmpresaContext);\r\n  const [isLoadding, setIsloadding] = useState(false);\r\n  const [isBackendError, setIsBackendError] = useState(false);\r\n  const {\r\n    control,\r\n    handleSubmit,\r\n    formState: { errors },\r\n    reset,\r\n  } = useForm({ resolver: yupResolver(schema), defaultValues: state });\r\n\r\n  const [data, setData] = useState();\r\n  useEffect(\r\n    async () => {\r\n      if (!!state && state.id) {\r\n        let data = await vehiculoService.find(state.id);\r\n        return setData(data);\r\n      } else {\r\n        return false;\r\n      }\r\n    },\r\n    { data }\r\n  );\r\n\r\n  const close = (moneda) => {\r\n    navigate(location.state.backgroundLocation.pathname, {\r\n      state: { reload: { moneda_id: moneda } },\r\n    });\r\n  };\r\n\r\n  const onSubmit = async (data) => {\r\n    console.log(data);\r\n    setIsloadding(true);\r\n    if (!!data && data.id) {\r\n      // update\r\n      const update = await vehiculoService.update(data, data.id);\r\n      close(update);\r\n      // verificar si es la empresa actual en el contexto del la instancia de local/empresa\r\n    } else {\r\n      //create\r\n      const create = await vehiculoService.create(data);\r\n      setIsloadding(false);\r\n      if (create?.errors) {\r\n        setIsBackendError(handleBackendErrors(create));\r\n      } else {\r\n        setIsBackendError(null);\r\n        close(create);\r\n      }\r\n      return create;\r\n    }\r\n  };\r\n  return (\r\n    <Form onSubmit={handleSubmit(onSubmit)} noValidate>\r\n      <Form.Group>\r\n        <FormFielController\r\n          name={\"descripcion\"}\r\n          title={\"Descripción\"}\r\n          control={control}\r\n          errors={errors}\r\n          width={4}\r\n        />\r\n        <FormFielController\r\n          name={\"placa\"}\r\n          title={\"Placa\"}\r\n          control={control}\r\n          errors={errors}\r\n          width={3}\r\n        />\r\n        <FormFielController\r\n          name={\"marca\"}\r\n          title={\"Marca\"}\r\n          control={control}\r\n          errors={errors}\r\n          width={3}\r\n        />\r\n      </Form.Group>\r\n\r\n      {Object.keys(errors)?.length ? (\r\n        <>\r\n          <Message\r\n            color=\"orange\"\r\n            header=\"Advertencia\"\r\n            list={[\r\n              \"Verifique que todos los campos requeridos esten completos.\",\r\n            ]}\r\n          />\r\n          <Segment>{JSON.stringify(errors, null, 2)}</Segment>\r\n        </>\r\n      ) : (\r\n        <></>\r\n      )}\r\n\r\n      {isBackendError?.length && (\r\n        <Message\r\n          color=\"red\"\r\n          header=\"Verifique los siguientes campos\"\r\n          list={isBackendError}\r\n        />\r\n      )}\r\n\r\n      <Button\r\n        loading={isLoadding}\r\n        disabled={isLoadding}\r\n        content=\"Guardar\"\r\n        primary\r\n      />\r\n      <Button\r\n        as=\"a\"\r\n        content=\"Deshacer Cambios\"\r\n        secondary\r\n        onClick={() => {\r\n          reset(state);\r\n        }}\r\n      />\r\n    </Form>\r\n  );\r\n};\r\n\r\nexport default FormularioMoneda;\r\n","\r\nimport * as yup from \"yup\";\r\n\r\nconst schema = yup\r\n.object({\r\n  //id: yup.string().required(\"Complete\")\r\n  nombre: yup.string().required(\"Complete\"),\r\n})\r\n.required();\r\n\r\nexport default schema","import React, { useEffect, useState, useContext } from \"react\";\r\nimport { useNavigate, useLocation } from \"react-router-dom\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { Form, Button, Message, Checkbox, Segment } from \"semantic-ui-react\";\r\nimport { yupResolver } from \"@hookform/resolvers/yup\";\r\nimport productoServicio from \"../../services/productos\";\r\nimport FormFielController from \"../FormFieldController\";\r\nimport schema from \"./schema\";\r\nimport handleBackendErrors from \"../../libs/handleBackendErrors\";\r\nimport EmpresaContext from \"../../context/EmpresaContext\";\r\nimport FormFielDropdownSarch from \"../DropdownSearch2\";\r\nimport settingDropdowns from \"../../libs/settingDropdowns\";\r\n\r\nconst FormularioProducto = ({ state }) => {\r\n  let navigate = useNavigate();\r\n  let location = useLocation();\r\n  const { empresa, setEmpresa } = useContext(EmpresaContext);\r\n  const [isLoadding, setIsloadding] = useState(false);\r\n  const [isBackendError, setIsBackendError] = useState(false);\r\n  const {\r\n    control,\r\n    handleSubmit,\r\n    watch,\r\n    setValue,\r\n    formState: { errors },\r\n  } = useForm({ resolver: yupResolver(schema), defaultValues: state });\r\n\r\n  const [data, setData] = useState();\r\n  const watcher = watch();\r\n\r\n  useEffect(\r\n    () => {\r\n      (async function () {\r\n        if (!!state && state.id) {\r\n          let data = await productoServicio.find(state.id);\r\n          return setData(data);\r\n        } else {\r\n          return false;\r\n        }\r\n      })();\r\n    },\r\n    { data }\r\n  );\r\n\r\n  const close = (producto) => {\r\n    navigate(location.state.backgroundLocation.pathname, {\r\n      state: { reload: { producto_id: producto } },\r\n    });\r\n  };\r\n\r\n  const onSubmit = async (data) => {\r\n    setIsloadding(true);\r\n    if (!!data && data.id) {\r\n      const update = await productoServicio.update(data, data.id);\r\n      if (update?.errors) {\r\n        setIsBackendError(handleBackendErrors(update));\r\n      } else {\r\n        // db.collection(\"contactos\").add(data);\r\n        // console.log(\"debugger\");\r\n        setIsBackendError(null);\r\n        close(update);\r\n      }\r\n    } else {\r\n      productoServicio.create(data).then(\r\n        (create) => {\r\n          setIsloadding(false);\r\n          if (create?.errors) {\r\n            setIsBackendError(handleBackendErrors(create));\r\n          } else {\r\n            setIsBackendError(null);\r\n            close(create);\r\n            return create;\r\n          }\r\n        },\r\n        (errors) => {\r\n          close(data);\r\n        }\r\n      );\r\n    }\r\n  };\r\n  return (\r\n    <Form onSubmit={handleSubmit(onSubmit)} noValidate>\r\n      {/* <Segment>{JSON.stringify(watcher)}</Segment> */}\r\n      <FormFielDropdownSarch\r\n        model={settingDropdowns.tipo_producto}\r\n        empresaContexto={empresa}\r\n        control={control}\r\n        venta={watcher}\r\n        setValue={setValue}\r\n        width={16}\r\n      />\r\n\r\n      <Form.Group>\r\n        <FormFielController\r\n          name={\"nombre\"}\r\n          title={\"Descripción\"}\r\n          control={control}\r\n          errors={errors}\r\n          width={8}\r\n        />\r\n        <FormFielController\r\n          name={\"codigo\"}\r\n          title={\"Código\"}\r\n          control={control}\r\n          errors={errors}\r\n          width={4}\r\n        />\r\n        <FormFielController\r\n          name={\"codigo_barras\"}\r\n          title={\"Código de Barras\"}\r\n          control={control}\r\n          errors={errors}\r\n          width={4}\r\n        />\r\n      </Form.Group>\r\n      <Form.Group>\r\n        <FormFielDropdownSarch\r\n          model={settingDropdowns.presentacion}\r\n          empresaContexto={empresa}\r\n          control={control}\r\n          venta={watcher}\r\n          setValue={setValue}\r\n          width={8}\r\n        />\r\n        <FormFielController\r\n          name={\"peso\"}\r\n          title={\"Peso KG\"}\r\n          control={control}\r\n          errors={errors}\r\n          width={4}\r\n          type={\"number\"}\r\n        />\r\n      </Form.Group>\r\n      <Form.Group>\r\n        <FormFielController\r\n          name={\"precio_compra\"}\r\n          title={\"Costo de Compra (SIN IGV)\"}\r\n          control={control}\r\n          errors={errors}\r\n          width={4}\r\n          type={\"number\"}\r\n        />\r\n\r\n        <FormFielController\r\n          name={\"por_detraccion\"}\r\n          title={\"% Detracción\"}\r\n          control={control}\r\n          errors={errors}\r\n          width={4}\r\n          type={\"number\"}\r\n        />\r\n\r\n        <FormFielController\r\n          name={\"por_isc\"}\r\n          title={\"% ISC\"}\r\n          control={control}\r\n          errors={errors}\r\n          width={4}\r\n          type={\"number\"}\r\n        />\r\n\r\n        <Form.Field>\r\n          <label> &nbsp;</label>\r\n          <Checkbox\r\n            label=\"Afecto\"\r\n            checked={watcher.afecto}\r\n            onChange={() => {\r\n              setValue(\"afecto\", !watcher.afecto);\r\n            }}\r\n          />\r\n        </Form.Field>\r\n      </Form.Group>\r\n\r\n      <Form.Group>\r\n        <FormFielDropdownSarch\r\n          model={settingDropdowns.categoria}\r\n          empresaContexto={empresa}\r\n          control={control}\r\n          venta={watcher}\r\n          setValue={setValue}\r\n          width={8}\r\n        />\r\n\r\n        <FormFielDropdownSarch\r\n          model={settingDropdowns.subcategoria}\r\n          empresaContexto={empresa}\r\n          control={control}\r\n          venta={watcher}\r\n          setValue={setValue}\r\n          width={8}\r\n        />\r\n      </Form.Group>\r\n\r\n      <Form.Group>\r\n        <FormFielDropdownSarch\r\n          model={settingDropdowns.marca}\r\n          empresaContexto={empresa}\r\n          control={control}\r\n          venta={watcher}\r\n          setValue={setValue}\r\n          width={8}\r\n        />\r\n\r\n        <FormFielDropdownSarch\r\n          model={settingDropdowns.linea}\r\n          empresaContexto={empresa}\r\n          control={control}\r\n          venta={watcher}\r\n          setValue={setValue}\r\n          width={8}\r\n        />\r\n      </Form.Group>\r\n\r\n      {Object.keys(errors)?.length ? (\r\n        <Message\r\n          color=\"orange\"\r\n          header=\"Advertencia\"\r\n          list={[\"Verifique que todos los campos requeridos esten completos.\"]}\r\n        />\r\n      ) : (\r\n        <></>\r\n      )}\r\n\r\n      {isBackendError?.length && (\r\n        <Message\r\n          color=\"red\"\r\n          header=\"Verifique los siguientes campos\"\r\n          list={isBackendError}\r\n        />\r\n      )}\r\n      <br />\r\n      <br />\r\n      <br />\r\n      <Button loading={isLoadding} primary id={\"formulario_guardar\"}>\r\n        Guardar\r\n      </Button>\r\n    </Form>\r\n  );\r\n};\r\nexport default FormularioProducto;\r\n","import React, { useContext } from \"react\";\r\nimport { Grid, Segment } from \"semantic-ui-react\";\r\nimport { Link, Outlet, Navigate } from \"react-router-dom\";\r\n\r\nimport EmpresaContext from \"../../context/EmpresaContext\";\r\nimport Navbar from \"../../components/Navbar\";\r\nimport SideNavbar from \"./_SideNavbar\";\r\n\r\nconst LayoutFullScreen = () => {\r\n  const { empresa } = useContext(EmpresaContext);\r\n  return (\r\n    <>\r\n      {!!!empresa ? (\r\n        <Navigate to=\"/welcome/empresas\" />\r\n      ) : (\r\n        <>\r\n          <Navbar />\r\n          <Grid>\r\n            <Grid.Row>\r\n              <Grid.Column\r\n                width={16}\r\n                style={{\r\n                  marginTop: \"1rem\",\r\n                  overflowY: \"scroll\",\r\n                  height: \"93vh\",\r\n                }}\r\n              >\r\n                <span></span>\r\n                <Outlet />\r\n              </Grid.Column>\r\n            </Grid.Row>\r\n          </Grid>\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n};\r\nexport default LayoutFullScreen;\r\n","import { useEffect, useContext, useState, useCallback } from \"react\";\r\nimport {\r\n  Button,\r\n  Grid,\r\n  Image,\r\n  Card,\r\n  Icon,\r\n  List,\r\n  Table,\r\n  Feed,\r\n  Label,\r\n  Menu,\r\n} from \"semantic-ui-react\";\r\nimport { Link, useLocation, useNavigate } from \"react-router-dom\";\r\nimport Moment from \"react-moment\";\r\nimport EmpresaContext from \"../../context/EmpresaContext\";\r\nimport clienteService from \"../../services/cliente\";\r\nimport ventaService from \"../../services/ventas\";\r\nimport { updated } from \"../../libs/updated\";\r\nimport { LabelUpdate } from \"../../components/LabelUpdate\";\r\n\r\nimport useWindowSize from \"../../hooks/useWindowSize\";\r\n\r\nimport Localbase from \"localbase\";\r\nimport InputSearch from \"../../components/InputSearch\";\r\n\r\nconst Stadicticas = ({ state, resolve }) => {\r\n  const [estadisticas, setEstadisticas] = useState({});\r\n  useEffect(() => {\r\n    console.log(\"component did amount\");\r\n    setEstadisticas(resolve(state));\r\n\r\n    return () => setEstadisticas({});\r\n  }, [state]);\r\n\r\n  return (\r\n    <Card>\r\n      <Card.Content>\r\n        <Card.Header content={estadisticas?.title} />\r\n        <Card.Meta content={estadisticas?.mensaje} />\r\n\r\n        {estadisticas.detalles &&\r\n          Object.keys(estadisticas.detalles).map((v, index) => {\r\n            return (\r\n              <Card.Description\r\n                content={`Total: ${\r\n                  estadisticas.detalles[v].simbolo\r\n                } ${estadisticas.detalles[v].total?.toFixed(2)}\r\n                  (${estadisticas.detalles[v].iso})\r\n                `}\r\n              />\r\n            );\r\n          })}\r\n      </Card.Content>\r\n    </Card>\r\n  );\r\n};\r\n\r\nconst Contactos = () => {\r\n  let navigate = useNavigate();\r\n  const location = useLocation();\r\n  const { empresa } = useContext(EmpresaContext);\r\n  const { windowSize: size } = useWindowSize();\r\n\r\n  // const [actualData, setActualData] = useState([]);\r\n  const [selected, setSelected] = useState(false);\r\n  const [contactos, setContactos] = useState([]);\r\n  const [ventas, setVentas] = useState([]);\r\n\r\n  const [searchInput, setSearchInput] = useState(false);\r\n\r\n  const db = new Localbase(\"db\");\r\n\r\n  const [query, setQuery] = useState({\r\n    page: 0,\r\n    limit: 5000,\r\n    order: { id: \"ASC\" },\r\n  });\r\n\r\n  const get = useCallback(async (reload = false, qm = false) => {\r\n    const empresa_id = empresa.empresa.id;\r\n    // const local_id = empresa.id;\r\n    const fetch = await clienteService.show(empresa_id, qm);\r\n    setContactos(fetch.reverse());\r\n  }, []);\r\n\r\n  const handleSetContacto = (contacto) => {\r\n    setSelected(contacto);\r\n    getVentas(contacto);\r\n  };\r\n\r\n  const getVentas = async (contacto) => {\r\n    console.log(\"contacto\", contacto.id);\r\n    const query = {};\r\n    query.filter = [[\"cliente_id\", \"=\", contacto.id]];\r\n    query.limit = 50;\r\n    query.order = { id: \"DESC\" };\r\n    const ventas = await ventaService.show(\r\n      empresa.empresa.id,\r\n      empresa.id,\r\n      1,\r\n      query,\r\n      false\r\n    );\r\n\r\n    setVentas(ventas || []);\r\n  };\r\n\r\n  const handleNewContact = () => {\r\n    navigate(\"/welcome/clientes/create\", {\r\n      state: {\r\n        backgroundLocation: location,\r\n        model: { empresa_id: empresa.empresa.id },\r\n        empresa,\r\n      },\r\n    });\r\n  };\r\n\r\n  const handleEditContact = () => {\r\n    navigate(\"/welcome/clientes/\" + selected.id, {\r\n      state: {\r\n        backgroundLocation: location,\r\n        model: selected,\r\n        empresa,\r\n      },\r\n    });\r\n  };\r\n\r\n  /**\r\n   *\r\n   * @param {*} ventas\r\n   *\r\n   * @returns {title : string ,mensaje: string ,descripcion: array}\r\n   */\r\n  const resolverStadistica = (ventas) => {\r\n    const res = {};\r\n    res.title = \"Ventas\";\r\n    res.mensaje = \"Ultimos 50 Documento\";\r\n    res.detalles = {};\r\n\r\n    for (let i = 0; i < ventas.length; i++) {\r\n      const el = ventas[i];\r\n      if (!res.detalles.hasOwnProperty(el.moneda.nombre)) {\r\n        res.detalles[el.moneda.nombre] = {\r\n          simbolo: el.moneda.simbolo,\r\n          total: el.total_documento_fin,\r\n          iso: el.moneda.iso,\r\n        };\r\n      } else {\r\n        res.detalles[el.moneda.nombre].total += el.total_documento_fin;\r\n      }\r\n    }\r\n    return res;\r\n  };\r\n\r\n  const resolverStadisticaPorCobrar = (ventas) => {\r\n    const res = {};\r\n    res.title = \"Por Cobros\";\r\n    res.mensaje = \"Ultimos 50 Documento, \";\r\n    res.detalles = {};\r\n\r\n    let nroCobrosPendientes = 0;\r\n\r\n    for (let i = 0; i < ventas.length; i++) {\r\n      const el = ventas[i];\r\n\r\n      if (\r\n        el.tipo_operacion_id === 1 &&\r\n        el.forma_pago_id === 2 &&\r\n        el.total_documento_fin - el.pago_status > 0.001\r\n      ) {\r\n        if (!res.detalles.hasOwnProperty(el.moneda.nombre)) {\r\n          res.detalles[el.moneda.nombre] = {\r\n            iso: el.moneda.iso,\r\n            simbolo: el.moneda.simbolo,\r\n            total: el.total_documento_fin - el.pago_status,\r\n          };\r\n          nroCobrosPendientes++;\r\n        } else {\r\n          res.detalles[el.moneda.nombre].total +=\r\n            el.total_documento_fin - el.pago_status;\r\n          nroCobrosPendientes++;\r\n        }\r\n      }\r\n    }\r\n    res.mensaje += nroCobrosPendientes + \" Pendiente(s)\";\r\n    return res;\r\n  };\r\n\r\n  useEffect(() => {\r\n    db.collection(\"contactos\")\r\n      .get()\r\n      .then((contactos) => {\r\n        setContactos(contactos.reverse());\r\n        get(false, \"\");\r\n      });\r\n    return () => false;\r\n  }, []);\r\n\r\n  // useEffect(() => {\r\n  //   console.log(\"those\");\r\n  //   console.log(qs);\r\n  // }, []);\r\n\r\n  useEffect(() => {\r\n    if (location?.state?.reload) {\r\n      db.collection(\"contactos\")\r\n        .get()\r\n        .then((contactos) => {\r\n          setContactos(contactos.reverse());\r\n          get(false, \"\");\r\n          setSelected({ ...location.state.reload.cliente_id });\r\n          location.state = null;\r\n        });\r\n\r\n      return () => false;\r\n    }\r\n  }, [location?.state]);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      const contactos = await db.collection(\"contactos\").get();\r\n\r\n      if (!!searchInput) {\r\n        const result = contactos.filter((list) => {\r\n          console.log(list);\r\n          if (\r\n            list.nombre.indexOf(searchInput) >= 0 ||\r\n            String(list.numero_documento).indexOf(searchInput) >= 0 ||\r\n            list.direccion.indexOf(searchInput) >= 0\r\n          ) {\r\n            return list;\r\n          }\r\n        });\r\n\r\n        setContactos(result);\r\n      } else {\r\n        setContactos(contactos);\r\n      }\r\n    })();\r\n  }, [searchInput]);\r\n\r\n  return (\r\n    <>\r\n      {size.width > 700 && (\r\n        <>\r\n          <Grid.Column width={8}>\r\n            <Grid.Row>\r\n              <List relaxed=\"very\" style={{ marginTop: \"1rem\" }}>\r\n                <List.Item>\r\n                  <List.Content floated=\"left\">\r\n                    <List.Content floated=\"right\">\r\n                      <InputSearch\r\n                        searchInput={searchInput}\r\n                        setSearchInput={setSearchInput}\r\n                        placeholder=\"Buscar Contacto\"\r\n                      />\r\n                    </List.Content>\r\n                  </List.Content>\r\n                  <List.Content floated=\"right\">\r\n                    {/* <Filter\r\n                  child={<FilterCliente query={query} setQuery={setQuery} />}\r\n                /> */}\r\n                    <Button\r\n                      size={\"mini\"}\r\n                      color={\"teal\"}\r\n                      onClick={handleNewContact}\r\n                    >\r\n                      Nuevo\r\n                    </Button>\r\n                  </List.Content>\r\n                </List.Item>\r\n              </List>\r\n            </Grid.Row>\r\n\r\n            <Grid.Row>\r\n              <Grid.Column\r\n                style={{\r\n                  overflowY: \"scroll\",\r\n                  height: \"83vh\",\r\n                  marginTop: \"1rem\",\r\n                }}\r\n              >\r\n                <Table celled selectable>\r\n                  <Table.Header>\r\n                    <Table.Row>\r\n                      <Table.HeaderCell>Nombre</Table.HeaderCell>\r\n                      <Table.HeaderCell>Documento</Table.HeaderCell>\r\n                      <Table.HeaderCell>Direccion</Table.HeaderCell>\r\n                    </Table.Row>\r\n                  </Table.Header>\r\n                  <Table.Body>\r\n                    {contactos.map((v, index) => {\r\n                      return (\r\n                        <Table.Row\r\n                          onClick={() => {\r\n                            handleSetContacto(v);\r\n                          }}\r\n                        >\r\n                          <Table.Cell width={3}>\r\n                            {v.await && \"🌨\"}\r\n                            {v.nombre}\r\n                            &nbsp;\r\n                            {updated(v.updated_at) && (\r\n                              <LabelUpdate index={index} />\r\n                            )}\r\n                          </Table.Cell>\r\n                          <Table.Cell width={3}>\r\n                            {v?.tipo_documento?.nombre} {v.numero_documento}\r\n                          </Table.Cell>\r\n                          <Table.Cell width={10}>{v?.direccion}</Table.Cell>\r\n                        </Table.Row>\r\n                      );\r\n                    })}\r\n                  </Table.Body>\r\n                </Table>\r\n              </Grid.Column>\r\n            </Grid.Row>\r\n          </Grid.Column>\r\n          <Grid.Column width={5}>\r\n            {selected && (\r\n              <>\r\n                <Card.Group\r\n                  doubling\r\n                  itemsPerRow={1}\r\n                  stackable\r\n                  style={{ marginTop: \"5vh\" }}\r\n                >\r\n                  <Card>\r\n                    <Card.Content>\r\n                      <>\r\n                        <Card.Header>\r\n                          <Image\r\n                            srcSet={selected?.photo}\r\n                            alt={selected.nombre_comercial}\r\n                            as=\"div\"\r\n                            size=\"tiny\"\r\n                            circular\r\n                          />\r\n                          &nbsp; {selected?.nombre}{\" \"}\r\n                          {updated(selected?.updated_at) && (\r\n                            <LabelUpdate index={selected?.id} />\r\n                          )}\r\n                        </Card.Header>\r\n                        <Card.Description>\r\n                          <b>Nombre Comercial</b> : {selected?.nombre_comercial}{\" \"}\r\n                        </Card.Description>\r\n                        <Card.Description>\r\n                          <b>Documento </b>: {selected?.tipo_documento?.nombre}{\" \"}\r\n                          {selected?.numero_documento}\r\n                        </Card.Description>\r\n                        <Card.Description>\r\n                          <b>Dirección </b>: {selected?.direccion}\r\n                        </Card.Description>\r\n                        <Card.Description>\r\n                          <b>Email </b>: {selected?.email}\r\n                        </Card.Description>\r\n                        <Card.Description>\r\n                          <b>Teléfono | WhatApp</b>: {selected?.telefono}\r\n                        </Card.Description>\r\n                        <Card.Description>\r\n                          <b>Teléfono Segundario </b>: {selected?.celular}\r\n                        </Card.Description>\r\n                      </>\r\n                    </Card.Content>\r\n\r\n                    <Card.Content extra>\r\n                      <Button primary onClick={handleEditContact}>\r\n                        Editar\r\n                      </Button>\r\n                      <a\r\n                        href={`https://wa.me/${selected.telefono}?text=Hola`}\r\n                        className=\"button ui green\"\r\n                      >\r\n                        Enviar Whatapp\r\n                      </a>\r\n                    </Card.Content>\r\n                  </Card>\r\n                </Card.Group>\r\n\r\n                {!!selected && !!ventas.length && (\r\n                  <>\r\n                    {!!selected && (\r\n                      <Card.Group itemsPerRow={1} stackable>\r\n                        <Stadicticas\r\n                          className=\"mt-1\"\r\n                          state={ventas}\r\n                          resolve={resolverStadistica}\r\n                        />\r\n\r\n                        <Stadicticas\r\n                          className=\"mt-1\"\r\n                          state={ventas}\r\n                          resolve={resolverStadisticaPorCobrar}\r\n                        />\r\n                      </Card.Group>\r\n                    )}\r\n                    <Card.Group itemsPerRow={1} stackable>\r\n                      <Card style={{ overflowY: \"scroll\", height: \"25vh\" }}>\r\n                        <Card.Content>\r\n                          <Table unstackable>\r\n                            <Table.Body>\r\n                              {ventas.map((v, index) => (\r\n                                <Table.Row>\r\n                                  <Table.Cell>\r\n                                    <Label\r\n                                      ribbon\r\n                                      color={\r\n                                        v.tipo_operacion_id === 1\r\n                                          ? v.forma_pago_id === 1\r\n                                            ? \"\"\r\n                                            : v.pago_status <\r\n                                              v.total_documento_fin\r\n                                            ? \"orange\"\r\n                                            : v.pago_status ===\r\n                                              v.total_documento_fin\r\n                                            ? \"\"\r\n                                            : \"blue\"\r\n                                          : \"\"\r\n                                      }\r\n                                    >\r\n                                      {v.tipo_operacion_id === 1\r\n                                        ? v.forma_pago_id === 1\r\n                                          ? \"Pagado\"\r\n                                          : v.pago_status <\r\n                                            v.total_documento_fin\r\n                                          ? \"X Pago\"\r\n                                          : v.pago_status ===\r\n                                            v.total_documento_fin\r\n                                          ? \"Pagado\"\r\n                                          : \"Pagado\"\r\n                                        : \"Pagado\"}\r\n                                    </Label>\r\n                                    <Link\r\n                                      to={`/space/ventas/${v.id}`}\r\n                                      state={{\r\n                                        model: v,\r\n                                      }}\r\n                                    >\r\n                                      {v?.serie?.serie}-{v?.correlativo}{\" \"}\r\n                                      &nbsp;&nbsp;&nbsp;\r\n                                    </Link>\r\n                                  </Table.Cell>\r\n                                  <Table.Cell textAlign=\"right\">\r\n                                    {`${\r\n                                      v?.moneda?.simbolo\r\n                                    } ${v.total_documento_fin?.toFixed(2)} (${\r\n                                      v?.moneda.iso\r\n                                    }) `}\r\n                                  </Table.Cell>\r\n                                  <Table.Cell textAlign=\"right\">\r\n                                    {v?.moneda?.simbolo}{\" \"}\r\n                                    {v.tipo_operacion_id === 1\r\n                                      ? v.forma_pago_id === 1\r\n                                        ? 0\r\n                                        : v.pago_status < v.total_documento_fin\r\n                                        ? v.total_documento_fin - v.pago_status\r\n                                        : v.pago_status ===\r\n                                          v.total_documento_fin\r\n                                        ? 0\r\n                                        : 0\r\n                                      : 0}{\" \"}\r\n                                    {v?.moneda.iso}\r\n                                  </Table.Cell>\r\n                                </Table.Row>\r\n                              ))}\r\n                            </Table.Body>\r\n                          </Table>\r\n                        </Card.Content>\r\n                      </Card>\r\n                    </Card.Group>\r\n                  </>\r\n                )}\r\n              </>\r\n            )}\r\n          </Grid.Column>{\" \"}\r\n        </>\r\n      )}\r\n\r\n      {size.width < 699 && (\r\n        <>\r\n          {!!!selected && (\r\n            <Grid.Column width={16}>\r\n              <Grid.Row>\r\n                <List relaxed=\"very\" style={{ marginTop: \"1rem\" }}>\r\n                  <List.Item>\r\n                    <List.Content floated=\"left\">\r\n                      <Button\r\n                        size={\"small\"}\r\n                        onClick={handleNewContact}\r\n                        style={{ marginRight: \"2px\", marginLeft: \"2px\" }}\r\n                      >\r\n                        Nuevo\r\n                      </Button>\r\n                    </List.Content>\r\n                    <List.Content floated=\"right\">\r\n                      <InputSearch\r\n                        searchInput={searchInput}\r\n                        setSearchInput={setSearchInput}\r\n                        placeholder=\"Buscar Contacto\"\r\n                      />\r\n                    </List.Content>\r\n                  </List.Item>\r\n                </List>\r\n              </Grid.Row>\r\n\r\n              <Grid.Row>\r\n                <Grid.Column\r\n                  style={{\r\n                    overflowY: \"scroll\",\r\n                    height: \"83vh\",\r\n                    marginTop: \"1rem\",\r\n                  }}\r\n                >\r\n                  <Table celled selectable>\r\n                    <Table.Body>\r\n                      {contactos.map((v, index) => {\r\n                        return (\r\n                          <Table.Row\r\n                            onClick={() => {\r\n                              handleSetContacto(v);\r\n                            }}\r\n                          >\r\n                            <Table.Cell width={3}>\r\n                              {v.await && \"🌨\"}\r\n                              {v.nombre}\r\n                              &nbsp;\r\n                              {updated(v.updated_at) && (\r\n                                <LabelUpdate index={index} />\r\n                              )}\r\n                            </Table.Cell>\r\n                            <Table.Cell width={3}>\r\n                              {v?.tipo_documento?.nombre} {v.numero_documento}\r\n                            </Table.Cell>\r\n                            <Table.Cell width={10}>{v?.direccion}</Table.Cell>\r\n                          </Table.Row>\r\n                        );\r\n                      })}\r\n                    </Table.Body>\r\n                  </Table>\r\n                </Grid.Column>\r\n              </Grid.Row>\r\n            </Grid.Column>\r\n          )}\r\n          {!!selected && (\r\n            <Grid.Column width={16}>\r\n              <>\r\n                <Grid.Row style={{ marginTop: 10, marginLeft: 12 }}>\r\n                  <span className=\"float left\">\r\n                    <Button\r\n                      size=\"mini\"\r\n                      icon=\"arrow circle left\"\r\n                      content=\"Regresar\"\r\n                      onClick={async () => {\r\n                        await setSelected(undefined);\r\n                      }}\r\n                    />\r\n                  </span>\r\n                </Grid.Row>\r\n                <Grid.Row>\r\n                  <Card.Group\r\n                    doubling\r\n                    itemsPerRow={1}\r\n                    stackable\r\n                    style={{ marginTop: \"1vh\" }}\r\n                  >\r\n                    <Card>\r\n                      <Card.Content>\r\n                        <>\r\n                          <Card.Header>\r\n                            <Image\r\n                              srcSet={selected?.photo}\r\n                              alt={selected.nombre_comercial}\r\n                              as=\"div\"\r\n                              size=\"tiny\"\r\n                              circular\r\n                            />\r\n                            &nbsp; {selected?.nombre}{\" \"}\r\n                            {updated(selected?.updated_at) && (\r\n                              <LabelUpdate index={selected?.id} />\r\n                            )}\r\n                          </Card.Header>\r\n                          <Card.Description>\r\n                            <b>Nombre Comercial</b> :{\" \"}\r\n                            {selected?.nombre_comercial}{\" \"}\r\n                          </Card.Description>\r\n                          <Card.Description>\r\n                            <b>Documento </b>:{\" \"}\r\n                            {selected?.tipo_documento?.nombre}{\" \"}\r\n                            {selected?.numero_documento}{\" \"}\r\n                          </Card.Description>\r\n                          <Card.Description>\r\n                            <b>Dirección </b>: {selected?.direccion}\r\n                          </Card.Description>\r\n                          <Card.Description>\r\n                            <b>Email </b>: {selected?.email}\r\n                          </Card.Description>\r\n                          <Card.Description>\r\n                            <b>Teléfono </b>: {selected?.telefono}\r\n                          </Card.Description>\r\n                          <Card.Description>\r\n                            <b>Celular </b>: {selected?.celular}\r\n                          </Card.Description>\r\n                        </>\r\n                      </Card.Content>\r\n\r\n                      <Card.Content extra>\r\n                        <Button primary onClick={handleEditContact}>\r\n                          Editar\r\n                        </Button>\r\n                        <a\r\n                          href={`https://wa.me/${selected.telefono}?text=Hola`}\r\n                          className=\"button ui green\"\r\n                        >\r\n                          Enviar Whatapp\r\n                        </a>\r\n                      </Card.Content>\r\n                    </Card>\r\n                  </Card.Group>\r\n                </Grid.Row>\r\n\r\n                {!!selected && !!ventas.length && (\r\n                  <>\r\n                    <Card.Group\r\n                      itemsPerRow={1}\r\n                      stackable\r\n                      style={{ marginTop: 10 }}\r\n                    >\r\n                      <Stadicticas\r\n                        className=\"mt-1\"\r\n                        state={ventas}\r\n                        resolve={resolverStadistica}\r\n                      />\r\n                      <Stadicticas\r\n                        className=\"mt-1\"\r\n                        state={ventas}\r\n                        resolve={resolverStadisticaPorCobrar}\r\n                      />\r\n                    </Card.Group>\r\n                    <Card.Group itemsPerRow={1} stackable>\r\n                      <Card style={{ overflowY: \"scroll\", height: \"25vh\" }}>\r\n                        <Card.Content>\r\n                          <Table unstackable>\r\n                            <Table.Body>\r\n                              {ventas.map((v, index) => (\r\n                                <Table.Row>\r\n                                  <Table.Cell>\r\n                                    <Label\r\n                                      ribbon\r\n                                      color={\r\n                                        v.tipo_operacion_id === 1\r\n                                          ? v.forma_pago_id === 1\r\n                                            ? \"\"\r\n                                            : v.pago_status <\r\n                                              v.total_documento_fin\r\n                                            ? \"orange\"\r\n                                            : v.pago_status ===\r\n                                              v.total_documento_fin\r\n                                            ? \"\"\r\n                                            : \"blue\"\r\n                                          : \"\"\r\n                                      }\r\n                                    >\r\n                                      {v.tipo_operacion_id === 1\r\n                                        ? v.forma_pago_id === 1\r\n                                          ? \"Pagado\"\r\n                                          : v.pago_status <\r\n                                            v.total_documento_fin\r\n                                          ? \"X Pagar\"\r\n                                          : v.pago_status ===\r\n                                            v.total_documento_fin\r\n                                          ? \"Pagado\"\r\n                                          : \"Pagado\"\r\n                                        : \"Pagado\"}\r\n                                    </Label>\r\n                                    <Link\r\n                                      to={`/space/ventas/${v.id}`}\r\n                                      state={{\r\n                                        model: v,\r\n                                      }}\r\n                                    >\r\n                                      {v?.serie?.serie}-{v?.correlativo}{\" \"}\r\n                                      &nbsp;&nbsp;&nbsp;\r\n                                    </Link>\r\n                                  </Table.Cell>\r\n                                  <Table.Cell textAlign=\"right\">\r\n                                    {`${\r\n                                      v?.moneda?.simbolo\r\n                                    } ${v.total_documento_fin?.toFixed(2)} (${\r\n                                      v?.moneda.iso\r\n                                    }) `}\r\n                                  </Table.Cell>\r\n                                  <Table.Cell textAlign=\"right\">\r\n                                    {v?.moneda?.simbolo}{\" \"}\r\n                                    {v.tipo_operacion_id === 1\r\n                                      ? v.forma_pago_id === 1\r\n                                        ? (0).toFixed(2)\r\n                                        : v.pago_status < v.total_documento_fin\r\n                                        ? (\r\n                                            v.total_documento_fin -\r\n                                            v.pago_status\r\n                                          ).toFixed(2)\r\n                                        : v.pago_status ===\r\n                                          v.total_documento_fin\r\n                                        ? (0).toFixed(2)\r\n                                        : (0).toFixed(2)\r\n                                      : (0).toFixed(2)}\r\n                                    {\" (\"}\r\n                                    {v?.moneda.iso}\r\n                                    {\") \"}\r\n                                  </Table.Cell>\r\n                                </Table.Row>\r\n                              ))}\r\n                            </Table.Body>\r\n                          </Table>\r\n                        </Card.Content>\r\n                      </Card>\r\n                    </Card.Group>\r\n                  </>\r\n                )}\r\n              </>\r\n            </Grid.Column>\r\n          )}\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Contactos;\r\n","import React, { useState } from \"react\";\r\nimport { Input, Dropdown, Label, Icon, Segment } from \"semantic-ui-react\";\r\n\r\nconst Filter = ({ query, setQuery, child }) => {\r\n  const [opened, setOpened] = useState(false);\r\n  const handleClick = () => {\r\n    setOpened(!opened);\r\n  };\r\n  return (\r\n    <>\r\n      <Dropdown\r\n        onClick={() => {\r\n          handleClick();\r\n        }}\r\n        text=\"Filtrar\"\r\n        button\r\n        labeled\r\n        icon=\"filter\"\r\n        open={opened}\r\n        className=\"icon mini\"\r\n      >\r\n        <Dropdown.Menu\r\n          onClick={(e) => {\r\n            e.stopPropagation();\r\n          }}\r\n          style={{ width: \"45vh\" }}\r\n        >\r\n          <div style={{ padding: \"15px\" }}>{child}</div>\r\n        </Dropdown.Menu>\r\n      </Dropdown>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Filter;\r\n","import { useContext } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nimport { Card, Button } from \"semantic-ui-react\";\r\nimport EmpresaContext from \"../../context/EmpresaContext\";\r\nimport productosService from \"../../services/productos\";\r\nconst Importador = ({ close }) => {\r\n  const { empresa } = useContext(EmpresaContext);\r\n\r\n  const importar = async (type) => {\r\n    close(false);\r\n    const res = await toast.promise(\r\n      productosService.importadorFivip(empresa, type),\r\n      {\r\n        pending: \"Importando...\",\r\n        success: \"Productos Instalados 👌\",\r\n        error: \"Error de Importación 🤯\",\r\n      }\r\n    );\r\n    console.log(res);\r\n  };\r\n\r\n  return (\r\n    <Card.Group>\r\n      <Card>\r\n        <Card.Content>\r\n          <Card.Header>Ferreteria</Card.Header>\r\n          <Card.Meta>Cantidad +3000 Productos</Card.Meta>\r\n          <Card.Description>\r\n            Contiene: Productos de Tuberias, Drywall, Contrucción de Marcas como\r\n          </Card.Description>\r\n        </Card.Content>\r\n        <Card.Content extra>\r\n          <Button\r\n            basic\r\n            color=\"blue\"\r\n            onClick={() => {\r\n              importar(\"ferreteria\");\r\n            }}\r\n          >\r\n            Importar\r\n          </Button>\r\n        </Card.Content>\r\n      </Card>\r\n      <Card>\r\n        <Card.Content>\r\n          <Card.Header>Market</Card.Header>\r\n          <Card.Meta>Cantidad +1000 Productos</Card.Meta>\r\n          <Card.Description>\r\n            Contiene: Productos Comestibles, Primera Necesidad, Productos de\r\n            Limpieza\r\n          </Card.Description>\r\n        </Card.Content>\r\n        <Card.Content extra>\r\n          <Button\r\n            basic\r\n            color=\"blue\"\r\n            onClick={() => {\r\n              importar(\"markert\");\r\n            }}\r\n          >\r\n            Importar\r\n          </Button>\r\n        </Card.Content>\r\n      </Card>\r\n      <Card>\r\n        <Card.Content>\r\n          <Card.Header>Botica</Card.Header>\r\n          <Card.Meta>Cantidad +1500 Productos</Card.Meta>\r\n          <Card.Description>\r\n            Contiene: Productos Farmaceuticos, Boticas, Articulos de Primera\r\n            Necesidad, Marcas, Componentes\r\n          </Card.Description>\r\n        </Card.Content>\r\n        <Card.Content extra>\r\n          <Button\r\n            basic\r\n            color=\"blue\"\r\n            onClick={() => {\r\n              importar(\"markert\");\r\n            }}\r\n          >\r\n            Importar\r\n          </Button>\r\n        </Card.Content>\r\n      </Card>\r\n      {/* <Card>\r\n        <Card.Content>\r\n          <Card.Header>Jenny Lawrence</Card.Header>\r\n          <Card.Meta>New User</Card.Meta>\r\n          <Card.Description>\r\n            Jenny requested permission to view your contact details\r\n          </Card.Description>\r\n        </Card.Content>\r\n        <Card.Content extra>\r\n          <div className=\"ui two buttons\">\r\n            <Button basic color=\"blue\">\r\n              Approve\r\n            </Button>\r\n          </div>\r\n        </Card.Content>\r\n      </Card> */}\r\n    </Card.Group>\r\n  );\r\n};\r\n\r\nexport default Importador;\r\n","import { useEffect, useContext, useState } from \"react\";\r\nimport {\r\n  Label,\r\n  Button,\r\n  Grid,\r\n  Menu,\r\n  Card,\r\n  Icon,\r\n  List,\r\n  Table,\r\n  Feed,\r\n  Confirm,\r\n  Dropdown,\r\n  Modal,\r\n} from \"semantic-ui-react\";\r\nimport { Link, useLocation, useNavigate } from \"react-router-dom\";\r\nimport Moment from \"react-moment\";\r\nimport Filter from \"../../components/Filter\";\r\nimport EmpresaContext from \"../../context/EmpresaContext\";\r\nimport qm from \"../../libs/filterQueryMaker\";\r\nimport ventaService from \"../../services/ventas\";\r\nimport productoService from \"../../services/productos\";\r\nimport precioService from \"../../services/precio\";\r\nimport FilterCliente from \"../../components/cliente/filter\";\r\nimport { updated } from \"../../libs/updated\";\r\nimport { LabelUpdate } from \"../../components/LabelUpdate\";\r\nimport Importador from \"../../components/producto/Importador\";\r\nimport useWindowSize from \"../../hooks/useWindowSize\";\r\n\r\nimport InputSearch from \"../../components/InputSearch\";\r\n\r\n// import Spreadsheet from \"react-spreadsheet\";\r\n\r\nimport Localbase from \"localbase\";\r\n\r\nconst Productos = () => {\r\n  let navigate = useNavigate();\r\n  const db = new Localbase(\"db\");\r\n  const { windowSize: size } = useWindowSize();\r\n\r\n  const location = useLocation();\r\n  const { empresa } = useContext(EmpresaContext);\r\n  const [actualData, setActualData] = useState([]);\r\n  const [selected, setSelected] = useState(null);\r\n  const [ventas, setVentas] = useState([]);\r\n\r\n  const [searchInput, setSearchInput] = useState(false);\r\n\r\n  const [openModalImportadorFivip, setOpenModalImportadorFivip] =\r\n    useState(false);\r\n  const [isConfirm, setIsConfirm] = useState({\r\n    show: false,\r\n    message: \"Eliminar Precio\",\r\n  });\r\n\r\n  const [query, setQuery] = useState({\r\n    page: 0,\r\n    limit: 14,\r\n    order: { id: \"ASC\" },\r\n  });\r\n\r\n  const getVentaDetalles = async (producto) => {\r\n    const query = {};\r\n    query.filter = [[\"producto_id\", \"=\", producto.id]];\r\n    query.limit = 25;\r\n    query.order = { id: \"ASC\" };\r\n    const ventas = await ventaService.showDetalles(\r\n      empresa.empresa.id,\r\n      empresa.id,\r\n      1,\r\n      query\r\n    );\r\n    setVentas(ventas.data);\r\n  };\r\n\r\n  const get = async (reload = false, qm = false) => {\r\n    const empresa_id = empresa.empresa.id;\r\n    // const local_id = empresa.id;\r\n    const fetch = await productoService.show(\"producto/\" + empresa_id, qm);\r\n    console.log({ fetch });\r\n\r\n    setActualData(fetch);\r\n  };\r\n\r\n  const handleDeleteFilter = (index) => {\r\n    let q = query;\r\n    q.filter.splice(index, 1);\r\n    setQuery({ ...q });\r\n  };\r\n\r\n  const handleSetContacto = (producto) => {\r\n    setSelected(producto);\r\n    getVentaDetalles(producto);\r\n  };\r\n\r\n  const handleNewProducto = () => {\r\n    navigate(\"/welcome/productos/create\", {\r\n      state: {\r\n        backgroundLocation: location,\r\n        model: {\r\n          empresa_id: empresa.empresa.id,\r\n          local_id: empresa.id,\r\n          afecto: 1,\r\n        },\r\n        empresa,\r\n      },\r\n    });\r\n  };\r\n\r\n  const handleEditProducto = () => {\r\n    navigate(\"/welcome/productos/\" + selected.id, {\r\n      state: {\r\n        backgroundLocation: location,\r\n        model: selected,\r\n        empresa,\r\n      },\r\n    });\r\n  };\r\n\r\n  const handleNewPrecio = () => {\r\n    navigate(\"/welcome/precios/create\", {\r\n      state: {\r\n        backgroundLocation: location,\r\n        model: {\r\n          local_id: empresa.id,\r\n          empresa_id: empresa.empresa.id,\r\n          producto_id: selected.id,\r\n          costo_compra: selected.precio_compra,\r\n          presentacion_id: 49,\r\n        },\r\n        empresa,\r\n      },\r\n    });\r\n  };\r\n\r\n  const handleEditPrecio = (precio) => {\r\n    navigate(\"/welcome/precios/\" + precio.id, {\r\n      state: {\r\n        backgroundLocation: location,\r\n        model: precio,\r\n        empresa,\r\n      },\r\n    });\r\n  };\r\n\r\n  // const handleDeletePrecio = (precio) => {\r\n  //   setIsConfirm({\r\n  //     show: !isConfirm.show,\r\n  //     message: \"Eliminar Precio\",\r\n  //     precio_id: precio.id,\r\n  //   });\r\n  // };\r\n\r\n  const confimAccepted = async () => {\r\n    const body = await precioService.destroy(isConfirm.precio.id);\r\n    console.log(body);\r\n  };\r\n\r\n  // useEffect(() => {\r\n  //   const qs = qm.do(query);\r\n  //   console.log(qs);\r\n  //   get(false, qs);\r\n  // }, [query]);\r\n\r\n  useEffect(() => {\r\n    db.collection(\"productos\")\r\n      .get()\r\n      .then((productos) => {\r\n        const items = productos.sort(function (a, b) {\r\n          return b.id - a.id;\r\n        });\r\n        setActualData(items);\r\n        get(1);\r\n      });\r\n\r\n    return () => {\r\n      setActualData([]);\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (location?.state?.reload && location?.state?.reload?.producto_id) {\r\n      db.collection(\"productos\")\r\n        .get()\r\n        .then((productos) => {\r\n          setActualData(productos.reverse());\r\n          get(1);\r\n\r\n          let productoSelected = productos.find(\r\n            (v) => v.id === location.state.reload.producto_id.data.id\r\n          );\r\n\r\n          setSelected(productoSelected);\r\n          location.state = null;\r\n        });\r\n\r\n      // const qs = qm.do(query);\r\n      // get(false, qs);\r\n      // setSelected({ ...location.state.reload.producto_id });\r\n      // location.state = null;\r\n    }\r\n\r\n    if (location?.state?.reload && location?.state?.reload?.precio_id) {\r\n      // const qs = qm.do(query);\r\n      // get(false, qs);\r\n\r\n      if (location?.state?.reload?.push) {\r\n        const selectedMutation = selected;\r\n        const selectedPrecioMutation = selected.precios || [];\r\n        selectedPrecioMutation.push(location.state.reload.precio_id);\r\n        selectedMutation.precios = selectedPrecioMutation;\r\n        setSelected({ ...selectedMutation });\r\n      } else {\r\n        const selectedPrecioMutation = selected?.precios.map((v, k) => {\r\n          if (v.id === location.state.reload.precio_id.id) {\r\n            return location.state.reload.precio_id;\r\n          } else {\r\n            return v;\r\n          }\r\n        });\r\n\r\n        if (selectedPrecioMutation) {\r\n          const selectedMutation = selected;\r\n          selectedMutation.precios = selectedPrecioMutation;\r\n\r\n          setSelected({ ...selectedMutation });\r\n        }\r\n      }\r\n\r\n      location.state = null;\r\n    }\r\n  }, [location?.state]);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      const productos = await db.collection(\"productos\").get();\r\n\r\n      if (!!searchInput) {\r\n        const result = productos.filter((list) => {\r\n          if (list.nombre.indexOf(searchInput) >= 0) {\r\n            return list;\r\n          }\r\n        });\r\n\r\n        setActualData(result);\r\n      } else {\r\n        setActualData(productos);\r\n      }\r\n    })();\r\n  }, [searchInput]);\r\n\r\n  return (\r\n    <>\r\n      {size.width > 700 && (\r\n        <>\r\n          <Grid.Column width={8}>\r\n            <Grid.Row>\r\n              <List relaxed=\"very\" style={{ marginTop: \"1rem\" }}>\r\n                <List.Item>\r\n                  <List.Content floated=\"left\">\r\n                    <InputSearch\r\n                      searchInput={searchInput}\r\n                      setSearchInput={setSearchInput}\r\n                      placeholder=\"Buscar Producto\"\r\n                    />\r\n                  </List.Content>\r\n                  <List.Content floated=\"right\">\r\n                    {/* <Dropdown\r\n                      text=\"Importar\"\r\n                      icon=\"upload\"\r\n                      floating\r\n                      labeled\r\n                      button\r\n                      className=\"button ui mini icon\"\r\n                    >\r\n                      <Dropdown.Menu>\r\n                        <Dropdown.Item>\r\n                          Descargar Plantilla de Productos Excel\r\n                        </Dropdown.Item>\r\n                        <Dropdown.Item>\r\n                          Importar desde Plantilla de Productos Excel\r\n                        </Dropdown.Item>\r\n                        <Dropdown.Item\r\n                          onClick={() =>\r\n                            setOpenModalImportadorFivip(\r\n                              !openModalImportadorFivip\r\n                            )\r\n                          }\r\n                        >\r\n                          Importador Fivip\r\n                        </Dropdown.Item>\r\n                      </Dropdown.Menu>\r\n                    </Dropdown> */}\r\n                    <Button\r\n                      size={\"mini\"}\r\n                      color={\"teal\"}\r\n                      onClick={handleNewProducto}\r\n                    >\r\n                      Nuevo Producto\r\n                    </Button>\r\n                  </List.Content>\r\n                </List.Item>\r\n              </List>\r\n            </Grid.Row>\r\n\r\n            <Grid.Row>\r\n              <List relaxed=\"very\" style={{ marginTop: \"1rem\" }}>\r\n                <List.Item>\r\n                  <List.Content floated=\"left\">\r\n                    {query?.filter?.map((el, index) => (\r\n                      <Label\r\n                        as=\"a\"\r\n                        key={index}\r\n                        onClick={() => {\r\n                          handleDeleteFilter(index);\r\n                        }}\r\n                      >\r\n                        {el[0]}\r\n                        <Icon name=\"delete\" key={index} />\r\n                      </Label>\r\n                    ))}\r\n                  </List.Content>\r\n                </List.Item>\r\n              </List>\r\n            </Grid.Row>\r\n\r\n            <Grid.Row>\r\n              <Grid.Column\r\n                style={{\r\n                  overflowY: \"scroll\",\r\n                  height: \"83vh\",\r\n                  marginTop: \"1rem\",\r\n                }}\r\n              >\r\n                <Table celled selectable>\r\n                  <Table.Header>\r\n                    <Table.Row>\r\n                      <Table.HeaderCell>Codigo</Table.HeaderCell>\r\n                      <Table.HeaderCell>Descripción</Table.HeaderCell>\r\n                      <Table.HeaderCell>Codigo de Barras</Table.HeaderCell>\r\n                      <Table.HeaderCell>Marca</Table.HeaderCell>\r\n                      <Table.HeaderCell>Presentación</Table.HeaderCell>\r\n                      <Table.HeaderCell>Categoría</Table.HeaderCell>\r\n                      <Table.HeaderCell>Sub Categoria</Table.HeaderCell>\r\n                    </Table.Row>\r\n                  </Table.Header>\r\n\r\n                  <Table.Body>\r\n                    {actualData?.map((v, index) => {\r\n                      return (\r\n                        <Table.Row\r\n                          onClick={() => {\r\n                            handleSetContacto(v);\r\n                          }}\r\n                        >\r\n                          <Table.Cell width={1}>{v.codigo}</Table.Cell>\r\n                          <Table.Cell width={6}>\r\n                            {v.nombre}\r\n                            &nbsp;\r\n                            {updated(v.updated_at) && (\r\n                              <LabelUpdate index={index} />\r\n                            )}\r\n                          </Table.Cell>\r\n                          <Table.Cell width={2}>{v?.codigo_barras}</Table.Cell>\r\n                          <Table.Cell width={2}>{v?.marca?.nombre}</Table.Cell>\r\n                          <Table.Cell width={1}>\r\n                            {v?.presentacion?.nombre}\r\n                          </Table.Cell>\r\n                          <Table.Cell width={2}>\r\n                            {v?.categoria?.nombre}\r\n                          </Table.Cell>\r\n                          <Table.Cell width={2}>\r\n                            {v?.subcategoria?.nombre}\r\n                          </Table.Cell>\r\n                        </Table.Row>\r\n                      );\r\n                    })}\r\n                  </Table.Body>\r\n                </Table>\r\n              </Grid.Column>\r\n            </Grid.Row>\r\n          </Grid.Column>\r\n\r\n          <Grid.Column width={8}>\r\n            {selected && selected.id && (\r\n              <>\r\n                <Card.Group\r\n                  doubling\r\n                  itemsPerRow={1}\r\n                  stackable\r\n                  style={{ marginTop: \"5vh\" }}\r\n                >\r\n                  <Card>\r\n                    <Card.Content>\r\n                      <>\r\n                        <Card.Header>\r\n                          {selected?.nombre}{\" \"}\r\n                          {updated(selected?.updated_at) && (\r\n                            <LabelUpdate index={selected?.id} />\r\n                          )}\r\n                        </Card.Header>\r\n                        <Card.Description>\r\n                          <Table basic=\"very\">\r\n                            <Table.Body>\r\n                              <Table.Row>\r\n                                <Table.Cell>\r\n                                  <b>Código:</b>\r\n                                  <br />\r\n                                  {selected?.codigo}\r\n                                </Table.Cell>\r\n                                <Table.Cell>\r\n                                  <b>Código de Barras:</b>\r\n                                  <br />\r\n                                  {selected?.codigo_barras}\r\n                                </Table.Cell>\r\n                                <Table.Cell>\r\n                                  <b>Marca:</b>\r\n                                  <br />\r\n                                  {selected?.marca?.nombre}\r\n                                </Table.Cell>\r\n                                <Table.Cell>\r\n                                  <b>Linea:</b>\r\n                                  <br />\r\n                                  {selected?.linea?.nombre}\r\n                                </Table.Cell>\r\n                              </Table.Row>\r\n                              <Table.Row>\r\n                                <Table.Cell>\r\n                                  <b>Afecto:</b>\r\n                                  <br />\r\n                                  {selected?.afecto ? \"Si\" : \"No\"}\r\n                                </Table.Cell>\r\n                                <Table.Cell>\r\n                                  <b>Precio de Compra:</b>\r\n                                  <br />\r\n                                  {selected?.moneda?.simbolo}{\" \"}\r\n                                  {selected?.precio_compra}\r\n                                </Table.Cell>\r\n                                <Table.Cell>\r\n                                  <b>Peso:</b>\r\n                                  <br />\r\n                                  {selected?.peso} KG\r\n                                </Table.Cell>\r\n                                <Table.Cell>&nbsp;</Table.Cell>\r\n                              </Table.Row>\r\n                              <Table.Row>\r\n                                <Table.Cell>\r\n                                  <b>% IGV:</b>\r\n                                  <br />\r\n                                  {selected?.igv}\r\n                                </Table.Cell>\r\n                                <Table.Cell>\r\n                                  <b>% Detracción:</b>\r\n                                  <br />\r\n                                  {selected?.por_detraccion}\r\n                                </Table.Cell>\r\n                                <Table.Cell>\r\n                                  <b>% ISC:</b>\r\n                                  <br />\r\n                                  {selected?.por_isc}\r\n                                </Table.Cell>\r\n                                <Table.Cell> &nbsp;</Table.Cell>\r\n                              </Table.Row>\r\n                            </Table.Body>\r\n                          </Table>\r\n                        </Card.Description>\r\n                      </>\r\n                    </Card.Content>\r\n\r\n                    <Card.Content extra>\r\n                      <Button primary onClick={handleEditProducto}>\r\n                        Editar\r\n                      </Button>\r\n                    </Card.Content>\r\n                  </Card>\r\n\r\n                  <Card>\r\n                    <Card.Content\r\n                      style={{ overflowY: \"scroll\", height: \"24vh\" }}\r\n                    >\r\n                      <Card.Header>\r\n                        Precios de Venta\r\n                        <Button\r\n                          floated=\"right\"\r\n                          icon\r\n                          labelPosition=\"left\"\r\n                          primary\r\n                          size=\"small\"\r\n                          onClick={handleNewPrecio}\r\n                          style={{ marginBottom: \"1vh\" }}\r\n                        >\r\n                          <Icon name=\"currency\" />\r\n                          Nuevo Precio\r\n                        </Button>\r\n                      </Card.Header>\r\n                      <Card.Description>\r\n                        <Table basic=\"very\">\r\n                          <Table.Header>\r\n                            <Table.Row>\r\n                              <Table.HeaderCell>\r\n                                <abbr title=\"Presentacion Unitaria\">PST.</abbr>\r\n                              </Table.HeaderCell>\r\n                              <Table.HeaderCell>\r\n                                <abbr title=\"Utlidad\">UTL.</abbr>\r\n                              </Table.HeaderCell>\r\n                              <Table.HeaderCell>\r\n                                <abbr title=\"Precio de Compra sin IGV\">\r\n                                  COSTO\r\n                                </abbr>\r\n                              </Table.HeaderCell>\r\n                              <Table.HeaderCell>\r\n                                <abbr title=\"Precio de Venta sin IGV\">\r\n                                  GRAV.\r\n                                </abbr>\r\n                              </Table.HeaderCell>\r\n                              <Table.HeaderCell>\r\n                                <abbr title=\"Valor del IGV\">IGV</abbr>\r\n                              </Table.HeaderCell>\r\n                              <Table.HeaderCell>\r\n                                <abbr title=\"Precio de Venta\">PV.</abbr>\r\n                              </Table.HeaderCell>\r\n\r\n                              <Table.HeaderCell></Table.HeaderCell>\r\n                            </Table.Row>\r\n                          </Table.Header>\r\n\r\n                          <Table.Body>\r\n                            {selected?.precios?.map((p, index) => (\r\n                              <Table.Row>\r\n                                <Table.Cell>\r\n                                  {p.presentacion.nombre} &nbsp;\r\n                                  {updated(p.updated_at) && (\r\n                                    <LabelUpdate index={index} />\r\n                                  )}{\" \"}\r\n                                </Table.Cell>\r\n                                <Table.Cell>% {p?.por_utilidad}</Table.Cell>\r\n                                <Table.Cell>\r\n                                  {selected.moneda?.simbolo} {p?.costo_compra}\r\n                                </Table.Cell>\r\n                                <Table.Cell>\r\n                                  {p?.moneda?.simbolo} {p.costo_venta}\r\n                                </Table.Cell>\r\n                                <Table.Cell>\r\n                                  {p?.moneda?.simbolo} {p.igv}\r\n                                </Table.Cell>\r\n                                <Table.Cell>\r\n                                  <b>\r\n                                    {p?.moneda?.simbolo} {p.precio_venta}\r\n                                  </b>\r\n                                </Table.Cell>\r\n\r\n                                <Table.Cell>\r\n                                  <Button.Group size=\"mini\">\r\n                                    <Button\r\n                                      icon={\"pencil\"}\r\n                                      onClick={() => {\r\n                                        handleEditPrecio(p);\r\n                                      }}\r\n                                    />\r\n                                    {/* <Button\r\n                                  color=\"red\"\r\n                                  icon={\"times\"}\r\n                                  onClick={() => {\r\n                                    handleDeletePrecio(p);\r\n                                  }}\r\n                                /> */}\r\n                                  </Button.Group>\r\n                                </Table.Cell>\r\n                              </Table.Row>\r\n                            ))}\r\n                          </Table.Body>\r\n\r\n                          <Table.Footer fullWidth>\r\n                            <Table.Row>\r\n                              <Table.HeaderCell />\r\n                              <Table.HeaderCell colSpan=\"6\"></Table.HeaderCell>\r\n                            </Table.Row>\r\n                          </Table.Footer>\r\n                        </Table>\r\n                      </Card.Description>\r\n                    </Card.Content>\r\n                  </Card>\r\n                </Card.Group>\r\n\r\n                <Card.Group></Card.Group>\r\n              </>\r\n            )}\r\n\r\n            <Confirm\r\n              open={isConfirm.show}\r\n              content={isConfirm.message}\r\n              onCancel={() => {\r\n                setIsConfirm({ show: !isConfirm.show });\r\n              }}\r\n              onConfirm={() => {\r\n                confimAccepted();\r\n              }}\r\n            />\r\n          </Grid.Column>\r\n        </>\r\n      )}\r\n\r\n      {size.width < 699 && (\r\n        <>\r\n          {!selected && (\r\n            <Grid.Column width={16}>\r\n              <Grid.Row>\r\n                <List relaxed=\"very\" style={{ marginTop: \"1rem\" }}>\r\n                  <List.Item>\r\n                    <List.Content floated=\"left\">\r\n                      <Button\r\n                        style={{ marginLeft: 2 }}\r\n                        size={\"small\"}\r\n                        onClick={handleNewProducto}\r\n                      >\r\n                        Nuevo\r\n                      </Button>\r\n                      {/* <Dropdown\r\n                        icon=\"upload\"\r\n                        button\r\n                        className=\"button ui small icon\"\r\n                      >\r\n                        <Dropdown.Menu>\r\n                          <Dropdown.Item>\r\n                            Descargar Plantilla de Productos Excel\r\n                          </Dropdown.Item>\r\n                          <Dropdown.Item>\r\n                            Importar desde Plantilla de Productos Excel\r\n                          </Dropdown.Item>\r\n                          <Dropdown.Item\r\n                            onClick={() =>\r\n                              setOpenModalImportadorFivip(\r\n                                !openModalImportadorFivip\r\n                              )\r\n                            }\r\n                          >\r\n                            Importador Fivip\r\n                          </Dropdown.Item>\r\n                        </Dropdown.Menu>\r\n                      </Dropdown> */}\r\n                    </List.Content>\r\n\r\n                    <List.Content floated=\"right\">\r\n                      <InputSearch\r\n                        searchInput={searchInput}\r\n                        setSearchInput={setSearchInput}\r\n                        placeholder={\"Buscar Producto\"}\r\n                      />\r\n                    </List.Content>\r\n                  </List.Item>\r\n                </List>\r\n              </Grid.Row>\r\n\r\n              <Grid.Row>\r\n                <List relaxed=\"very\" style={{ marginTop: \"1rem\" }}>\r\n                  <List.Item>\r\n                    <List.Content floated=\"left\">\r\n                      {query?.filter?.map((el, index) => (\r\n                        <Label\r\n                          as=\"a\"\r\n                          key={index}\r\n                          onClick={() => {\r\n                            handleDeleteFilter(index);\r\n                          }}\r\n                        >\r\n                          {el[0]}\r\n                          <Icon name=\"delete\" key={index} />\r\n                        </Label>\r\n                      ))}\r\n                    </List.Content>\r\n                  </List.Item>\r\n                </List>\r\n              </Grid.Row>\r\n\r\n              <Grid.Row>\r\n                <Grid.Column\r\n                  style={{\r\n                    overflowY: \"scroll\",\r\n                    height: \"83vh\",\r\n                    marginTop: \"1rem\",\r\n                  }}\r\n                >\r\n                  <Table celled selectable>\r\n                    <Table.Body>\r\n                      {actualData?.map((v, index) => {\r\n                        return (\r\n                          <Table.Row\r\n                            onClick={() => {\r\n                              handleSetContacto(v);\r\n                            }}\r\n                          >\r\n                            <Table.Cell width={1}>{v.codigo}</Table.Cell>\r\n                            <Table.Cell width={6}>\r\n                              {v.nombre}\r\n                              &nbsp;\r\n                              {updated(v.updated_at) && (\r\n                                <LabelUpdate index={index} />\r\n                              )}\r\n                            </Table.Cell>\r\n                            <Table.Cell width={2}>\r\n                              {v?.codigo_barras}\r\n                            </Table.Cell>\r\n                            <Table.Cell width={2}>\r\n                              {v?.marca?.nombre}\r\n                            </Table.Cell>\r\n                            <Table.Cell width={1}>\r\n                              {v?.presentacion?.nombre}\r\n                            </Table.Cell>\r\n                            <Table.Cell width={2}>\r\n                              {v?.categoria?.nombre}\r\n                            </Table.Cell>\r\n                            <Table.Cell width={2}>\r\n                              {v?.subcategoria?.nombre}\r\n                            </Table.Cell>\r\n                          </Table.Row>\r\n                        );\r\n                      })}\r\n                    </Table.Body>\r\n                  </Table>\r\n                </Grid.Column>\r\n              </Grid.Row>\r\n            </Grid.Column>\r\n          )}\r\n\r\n          <Grid.Column width={16}>\r\n            {selected && selected.id && (\r\n              <>\r\n                <Grid.Row style={{ marginTop: 10, marginLeft: 12 }}>\r\n                  <span className=\"float left\">\r\n                    <Button\r\n                      size=\"mini\"\r\n                      icon=\"arrow circle left\"\r\n                      content=\"Regresar\"\r\n                      onClick={async () => {\r\n                        await setSelected(undefined);\r\n                      }}\r\n                    />\r\n                  </span>\r\n                </Grid.Row>\r\n                <Grid.Row>\r\n                  <Card.Group\r\n                    doubling\r\n                    itemsPerRow={1}\r\n                    stackable\r\n                    style={{ marginTop: \"5vh\" }}\r\n                  >\r\n                    <Card>\r\n                      <Card.Content>\r\n                        <>\r\n                          <Card.Header>\r\n                            {selected?.nombre}\r\n                            {updated(selected?.updated_at) && (\r\n                              <LabelUpdate index={selected?.id} />\r\n                            )}\r\n                          </Card.Header>\r\n                          <Card.Description>\r\n                            <Table basic=\"very\" unstackable>\r\n                              <Table.Body>\r\n                                <Table.Row>\r\n                                  <Table.Cell>\r\n                                    <b>Código:</b>\r\n                                    <br />\r\n                                    {selected?.codigo}\r\n                                  </Table.Cell>\r\n                                  <Table.Cell>\r\n                                    <b>Código de Barras:</b>\r\n                                    <br />\r\n                                    {selected?.codigo_barras}\r\n                                  </Table.Cell>\r\n                                  <Table.Cell>\r\n                                    <b>Marca:</b>\r\n                                    <br />\r\n                                    {selected?.marca?.nombre}\r\n                                  </Table.Cell>\r\n                                  <Table.Cell>\r\n                                    <b>Linea:</b>\r\n                                    <br />\r\n                                    {selected?.linea?.nombre}\r\n                                  </Table.Cell>\r\n                                </Table.Row>\r\n                                <Table.Row>\r\n                                  <Table.Cell>\r\n                                    <b>Afecto:</b>\r\n                                    <br />\r\n                                    {selected?.afecto ? \"Si\" : \"No\"}\r\n                                  </Table.Cell>\r\n                                  <Table.Cell>\r\n                                    <b>Precio de Compra:</b>\r\n                                    <br />\r\n                                    {selected?.moneda?.simbolo}{\" \"}\r\n                                    {selected?.precio_compra}\r\n                                  </Table.Cell>\r\n                                  <Table.Cell>\r\n                                    <b>Peso:</b>\r\n                                    <br />\r\n                                    {selected?.peso} KG\r\n                                  </Table.Cell>\r\n                                  <Table.Cell>&nbsp;</Table.Cell>\r\n                                </Table.Row>\r\n                                <Table.Row>\r\n                                  <Table.Cell>\r\n                                    <b>% IGV:</b>\r\n                                    <br />\r\n                                    {selected?.igv}\r\n                                  </Table.Cell>\r\n                                  <Table.Cell>\r\n                                    <b>% Detracción:</b>\r\n                                    <br />\r\n                                    {selected?.por_detraccion}\r\n                                  </Table.Cell>\r\n                                  <Table.Cell>\r\n                                    <b>% ISC:</b>\r\n                                    <br />\r\n                                    {selected?.por_isc}\r\n                                  </Table.Cell>\r\n                                  <Table.Cell> &nbsp;</Table.Cell>\r\n                                </Table.Row>\r\n                              </Table.Body>\r\n                            </Table>\r\n                          </Card.Description>\r\n                        </>\r\n                      </Card.Content>\r\n                      <Card.Content extra>\r\n                        <Button primary onClick={handleEditProducto}>\r\n                          Editar\r\n                        </Button>\r\n                      </Card.Content>\r\n                    </Card>\r\n\r\n                    <Card>\r\n                      <Card.Content\r\n                        style={{ overflowY: \"scroll\", height: \"24vh\" }}\r\n                      >\r\n                        <Card.Header>\r\n                          Precios de Venta\r\n                          <Button\r\n                            floated=\"right\"\r\n                            icon\r\n                            labelPosition=\"left\"\r\n                            primary\r\n                            size=\"small\"\r\n                            onClick={handleNewPrecio}\r\n                            style={{ marginBottom: \"1vh\" }}\r\n                          >\r\n                            <Icon name=\"currency\" />\r\n                            Nuevo Precio\r\n                          </Button>\r\n                        </Card.Header>\r\n                        <Card.Description>\r\n                          <Table basic=\"very\" unstackable>\r\n                            <Table.Header>\r\n                              <Table.Row>\r\n                                <Table.HeaderCell>\r\n                                  <abbr title=\"Presentacion Unitaria\">\r\n                                    PST.\r\n                                  </abbr>\r\n                                </Table.HeaderCell>\r\n                                <Table.HeaderCell>\r\n                                  <abbr title=\"Utlidad\">UTL.</abbr>\r\n                                </Table.HeaderCell>\r\n                                <Table.HeaderCell>\r\n                                  <abbr title=\"Precio de Compra sin IGV\">\r\n                                    COSTO\r\n                                  </abbr>\r\n                                </Table.HeaderCell>\r\n                                <Table.HeaderCell>\r\n                                  <abbr title=\"Precio de Venta sin IGV\">\r\n                                    GRAV.\r\n                                  </abbr>\r\n                                </Table.HeaderCell>\r\n                                <Table.HeaderCell>\r\n                                  <abbr title=\"Valor del IGV\">IGV</abbr>\r\n                                </Table.HeaderCell>\r\n                                <Table.HeaderCell>\r\n                                  <abbr title=\"Precio de Venta\">PV.</abbr>\r\n                                </Table.HeaderCell>\r\n\r\n                                <Table.HeaderCell></Table.HeaderCell>\r\n                              </Table.Row>\r\n                            </Table.Header>\r\n\r\n                            <Table.Body>\r\n                              {selected?.precios?.map((p, index) => (\r\n                                <Table.Row>\r\n                                  <Table.Cell>\r\n                                    {p.presentacion.nombre} &nbsp;\r\n                                    {updated(p.updated_at) && (\r\n                                      <LabelUpdate index={index} />\r\n                                    )}{\" \"}\r\n                                  </Table.Cell>\r\n                                  <Table.Cell>% {p?.por_utilidad}</Table.Cell>\r\n                                  <Table.Cell>\r\n                                    {selected.moneda?.simbolo} {p?.costo_compra}\r\n                                  </Table.Cell>\r\n                                  <Table.Cell>\r\n                                    {p?.moneda?.simbolo} {p.costo_venta}\r\n                                  </Table.Cell>\r\n                                  <Table.Cell>\r\n                                    {p?.moneda?.simbolo} {p.igv}\r\n                                  </Table.Cell>\r\n                                  <Table.Cell>\r\n                                    <b>\r\n                                      {p?.moneda?.simbolo} {p.precio_venta}\r\n                                    </b>\r\n                                  </Table.Cell>\r\n\r\n                                  <Table.Cell>\r\n                                    <Button.Group size=\"mini\">\r\n                                      <Button\r\n                                        icon={\"pencil\"}\r\n                                        onClick={() => {\r\n                                          handleEditPrecio(p);\r\n                                        }}\r\n                                      />\r\n                                      {/* <Button\r\n                                  color=\"red\"\r\n                                  icon={\"times\"}\r\n                                  onClick={() => {\r\n                                    handleDeletePrecio(p);\r\n                                  }}\r\n                                /> */}\r\n                                    </Button.Group>\r\n                                  </Table.Cell>\r\n                                </Table.Row>\r\n                              ))}\r\n                            </Table.Body>\r\n\r\n                            <Table.Footer fullWidth>\r\n                              <Table.Row>\r\n                                <Table.HeaderCell />\r\n                                <Table.HeaderCell colSpan=\"6\"></Table.HeaderCell>\r\n                              </Table.Row>\r\n                            </Table.Footer>\r\n                          </Table>\r\n                        </Card.Description>\r\n                      </Card.Content>\r\n                    </Card>\r\n                  </Card.Group>\r\n\r\n                  <Card.Group></Card.Group>\r\n                </Grid.Row>\r\n              </>\r\n            )}\r\n\r\n            <Confirm\r\n              open={isConfirm.show}\r\n              content={isConfirm.message}\r\n              onCancel={() => {\r\n                setIsConfirm({ show: !isConfirm.show });\r\n              }}\r\n              onConfirm={() => {\r\n                confimAccepted();\r\n              }}\r\n            />\r\n          </Grid.Column>\r\n        </>\r\n      )}\r\n\r\n      <Modal\r\n        dimmer={\"blurring\"}\r\n        open={openModalImportadorFivip}\r\n        onClose={() => setOpenModalImportadorFivip(!openModalImportadorFivip)}\r\n      >\r\n        <Modal.Header>\r\n          Selecciona uno ó varios paquetes de Productos\r\n        </Modal.Header>\r\n        <Modal.Content>\r\n          <Importador close={setOpenModalImportadorFivip} />\r\n        </Modal.Content>\r\n        <Modal.Actions>\r\n          <Button\r\n            onClick={() =>\r\n              setOpenModalImportadorFivip(!openModalImportadorFivip)\r\n            }\r\n          >\r\n            Cerrar\r\n          </Button>\r\n        </Modal.Actions>\r\n      </Modal>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Productos;\r\n","\r\nimport * as yup from \"yup\";\r\n\r\nconst schema = yup\r\n.object({\r\n  //id: yup.string().required(\"Complete\")\r\n  presentacion_id: yup.string().required(\"Complete\"),\r\n  moneda_id: yup.string().required(\"Complete\"),\r\n  producto_id: yup.string().required(\"Complete\")\r\n})\r\n.required();\r\n\r\nexport default schema","import React, { useEffect, useState, useContext } from \"react\";\r\nimport { useNavigate, useLocation } from \"react-router-dom\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { Form, Button, Message, Segment } from \"semantic-ui-react\";\r\nimport { yupResolver } from \"@hookform/resolvers/yup\";\r\nimport precioService from \"../../services/precio\";\r\nimport FormFielController from \"../FormFieldController\";\r\nimport schema from \"./schema\";\r\nimport handleBackendErrors from \"../../libs/handleBackendErrors\";\r\nimport EmpresaContext from \"../../context/EmpresaContext\";\r\nimport FormFielDropdownSarch from \"../DropdownSearch2\";\r\nimport settingDropdowns from \"../../libs/settingDropdowns\";\r\nimport Precio from \"../../libs/calcularListaPrecio\";\r\n\r\nconst FormularioPrecio = ({ state }) => {\r\n  let navigate = useNavigate();\r\n  let location = useLocation();\r\n  const { empresa, setEmpresa } = useContext(EmpresaContext);\r\n  const [isLoadding, setIsloadding] = useState(false);\r\n  const [isBackendError, setIsBackendError] = useState(false);\r\n  const {\r\n    control,\r\n    handleSubmit,\r\n    setValue,\r\n    watch,\r\n    formState: { errors },\r\n  } = useForm({ resolver: yupResolver(schema), defaultValues: state });\r\n  // const watcher = watch();\r\n  const watcher = watch();\r\n  const precio = new Precio();\r\n  React.useEffect(() => {\r\n    const subscription = watch((value, { name, type }) => {\r\n      let item = [];\r\n\r\n      if (name === \"precio_venta\" && type === \"change\") {\r\n        item = precio.precioVenta(value);\r\n      }\r\n\r\n      if (name === \"costo_venta\" && type === \"change\") {\r\n        item = precio.costoVenta(value);\r\n      }\r\n\r\n      const itemKeys = Object.keys(item);\r\n      for (let i = 0; i < itemKeys.length; i++) {\r\n        const value = itemKeys[i];\r\n        setValue(value, item[value]);\r\n      }\r\n    });\r\n    return () => subscription.unsubscribe();\r\n  }, [watch]);\r\n\r\n  const [data, setData] = useState();\r\n  useEffect(\r\n    () => {\r\n      (async function () {\r\n        if (!!state && state.id) {\r\n          let data = await precioService.find(state.id);\r\n          return setData(data);\r\n        } else {\r\n          return false;\r\n        }\r\n      })();\r\n    },\r\n    { data }\r\n  );\r\n\r\n  const close = (precio,push) => {\r\n    navigate(location.state.backgroundLocation.pathname, {\r\n      state: { reload: { precio_id: precio, push} },\r\n    });\r\n  };\r\n\r\n  const onSubmit = async (data) => {\r\n    setIsloadding(true);\r\n    if (!!data && data.id) {\r\n      // update\r\n      const update = await precioService.update(\r\n        data,\r\n        empresa.empresa.id,\r\n        data.id\r\n      );\r\n      close(update,false);\r\n    } else {\r\n      //create\r\n      const create = await precioService.create(data);\r\n      setIsloadding(false);\r\n      if (create?.errors) {\r\n        setIsBackendError(handleBackendErrors(create));\r\n      } else {\r\n        setIsBackendError(null);\r\n        close(create,true);\r\n      }\r\n      return create;\r\n    }\r\n  };\r\n  return (\r\n    <Form onSubmit={handleSubmit(onSubmit)} noValidate>\r\n      <Form.Group>\r\n        <FormFielDropdownSarch\r\n          model={settingDropdowns.presentacion}\r\n          empresaContexto={empresa}\r\n          control={control}\r\n          venta={state}\r\n          setValue={setValue}\r\n          width={6}\r\n        />\r\n        <FormFielDropdownSarch\r\n          model={settingDropdowns.moneda}\r\n          empresaContexto={empresa}\r\n          control={control}\r\n          venta={state}\r\n          setValue={setValue}\r\n          width={3}\r\n        />\r\n      </Form.Group>\r\n      <Form.Group>\r\n        <FormFielController\r\n          name={\"costo_compra\"}\r\n          title={\"Costo de Compra\"}\r\n          control={control}\r\n          errors={errors}\r\n          width={3}\r\n          readOnly={true}\r\n        />\r\n        <FormFielController\r\n          name={\"igv\"}\r\n          title={\"% de IGV\"}\r\n          control={control}\r\n          errors={errors}\r\n          width={3}\r\n          readOnly={true}\r\n        />\r\n        <FormFielController\r\n          name={\"por_utilidad\"}\r\n          title={\"% de Utilidad\"}\r\n          type={\"number\"}\r\n          control={control}\r\n          errors={errors}\r\n          width={3}\r\n          readOnly={true}\r\n        />\r\n        <FormFielController\r\n          name={\"utilidad\"}\r\n          title={\r\n            !!watcher?.moneda?.simbolo\r\n              ? \"Utilidad \" + watcher?.moneda?.simbolo\r\n              : \"Utilidad\"\r\n          }\r\n          control={control}\r\n          errors={errors}\r\n          width={3}\r\n          readOnly={true}\r\n          type={\"number\"}\r\n        />\r\n        <FormFielController\r\n          name={\"costo_venta\"}\r\n          title={\"Costo de Venta\"}\r\n          control={control}\r\n          errors={errors}\r\n          width={3}\r\n          type={\"number\"}\r\n        />\r\n        <FormFielController\r\n          name={\"precio_venta\"}\r\n          title={\"Precio Venta\"}\r\n          control={control}\r\n          errors={errors}\r\n          width={3}\r\n          type={\"number\"}\r\n        />\r\n      </Form.Group>\r\n\r\n      {Object.keys(errors)?.length ? (\r\n        <Message\r\n          color=\"orange\"\r\n          header=\"Advertencia\"\r\n          list={[\"Verifique que todos los campos requeridos esten completos.\"]}\r\n        />\r\n      ) : (\r\n        <></>\r\n      )}\r\n      {isBackendError?.length && (\r\n        <Message\r\n          color=\"red\"\r\n          header=\"Verifique los siguientes campos\"\r\n          list={isBackendError}\r\n        />\r\n      )}\r\n\r\n      <Button loading={isLoadding} secondary>\r\n        Guardar\r\n      </Button>\r\n    </Form>\r\n  );\r\n};\r\nexport default FormularioPrecio;\r\n","import * as yup from \"yup\";\r\n\r\nconst schema = yup\r\n  .object({\r\n    cliente: yup.string().required(\"Complete\"),\r\n    message: yup.string().required(\"Complete\"),\r\n  })\r\n  .required();\r\n\r\nexport default schema;\r\n","import axios from \"axios\";\r\nfunction send(data) {\r\n  const path = process.env.NODE_ENV === \"development \" ? process.env.REACT_APP_DEVELOPER_SERVICE_MAIL : process.env.REACT_APP_PRODUCTION_SERVICE_MAIL\r\n\r\n  console.log(process.env.REACT_APP_DEVELOPER_SERVICE_MAIL,process.env.REACT_APP_PRODUCTION_SERVICE_MAIL)\r\n\r\n\r\n  const formData = new FormData();\r\n  const keys = Object.keys(data);\r\n  for (let i = 0; i < keys.length; i++) {\r\n    const e = keys[i];\r\n    if (\r\n      [\r\n        \"id\",\r\n        \"message\",\r\n        \"sunat_documento\",\r\n        \"cliente\",\r\n        \"empresa_id\",\r\n        \"file\",\r\n        \"files\",\r\n        \"empresa\",\r\n        \"serie\",\r\n        \"correlativo\",\r\n      ].indexOf(e) >= 0\r\n    ) {\r\n      if (typeof data[e] === \"object\" && e !== \"file\") {\r\n        formData.append(e, JSON.stringify(data[e]));\r\n      } else {\r\n        formData.append(e, data[e]);\r\n      }\r\n    }\r\n  }\r\n  console.log(formData);\r\n  return new Promise((resolve, reject) => {\r\n    axios\r\n      .post(path+\"/send\", formData)\r\n      .then((res) => {\r\n        resolve(res.data);\r\n      })\r\n      .catch((error) => {\r\n        if (error.response) {\r\n          resolve(error.response.data);\r\n        }\r\n      });\r\n  });\r\n}\r\n\r\nexport default { send };\r\n","import React, { useContext, useState } from \"react\";\r\n\r\nimport { Form, TextArea, Button, Table, Icon } from \"semantic-ui-react\";\r\nimport { yupResolver } from \"@hookform/resolvers/yup\";\r\nimport { useForm, Controller } from \"react-hook-form\";\r\nimport schema from \"./schema\";\r\nimport FormFielDropdownSarch from \"../DropdownSearch2\";\r\nimport settingDropdowns from \"../../libs/settingDropdowns\";\r\nimport EmpresaContext from \"../../context/EmpresaContext\";\r\nimport MailService from \"../../services/email\";\r\nimport { useNavigate, useLocation } from \"react-router-dom\";\r\nimport { toast } from \"react-toastify\";\r\nconst FormularioEmail = ({ state, handleChangeVenta }) => {\r\n  let navigate = useNavigate();\r\n  let location = useLocation();\r\n  const { control, handleSubmit, setValue, watch } = useForm({\r\n    resolver: yupResolver(schema),\r\n    defaultValues: state,\r\n  });\r\n\r\n  const watcher = watch();\r\n  const close = () => {\r\n    navigate(-1);\r\n  };\r\n\r\n  const onSubmit = async (data) => {\r\n    return data;\r\n  };\r\n\r\n  const handleSendMail = async (e) => {\r\n    e.preventDefault();\r\n    close();\r\n\r\n    toast.promise(MailService.send({ ...watcher, ...{ files } }), {\r\n      pending: \"Enviando Correo\",\r\n      success: \"Correo Enviado 👌\",\r\n      error: \"Correo no enviado 🤯\",\r\n    });\r\n  };\r\n\r\n  const { empresa } = useContext(EmpresaContext);\r\n  const [files, setFiles] = useState([]);\r\n\r\n  useState(() => {\r\n    if (!!state?.sunat_documento) {\r\n      let f = [\r\n        {\r\n          icon: \"file code outline\",\r\n          name: `${state.sunat_documento}.xml`,\r\n          path: `${empresa.empresa.id}/xml/R-${state.sunat_documento}.xml`,\r\n          enviable: true,\r\n        },\r\n        {\r\n          icon: \"file archive outline\",\r\n          name: `${state.sunat_documento}.zip`,\r\n          path: `${empresa.empresa.id}/resp/R-${state.sunat_documento}.zip`,\r\n          enviable: true,\r\n        },\r\n      ];\r\n\r\n      if (!f.length) {\r\n        f = [];\r\n      }\r\n\r\n      const fileName = `${empresa.empresa.ruc}-${state.serie.sunat_codigo}-${state.serie.serie}-${state.correlativo}.pdf`;\r\n\r\n      if (state.file) {\r\n        f.push({\r\n          icon: \"file pdf outline\",\r\n          name: fileName,\r\n          enviable: false,\r\n        });\r\n      }\r\n\r\n      setFiles(f);\r\n    } else {\r\n      let f = [];\r\n\r\n      const fileName = `${empresa.empresa.ruc}-${state.serie.sunat_codigo}-${state.serie.serie}-${state.correlativo}.pdf`;\r\n\r\n      if (state.file) {\r\n        f.push({\r\n          icon: \"file pdf outline\",\r\n          name: fileName,\r\n          enviable: false,\r\n        });\r\n      }\r\n\r\n      setFiles(f);\r\n    }\r\n    return () => {\r\n      console.log(\"unmounted send mailer\");\r\n    };\r\n  }, state);\r\n\r\n  return (\r\n    <>\r\n      <Form onSubmit={handleSubmit(onSubmit)} noValidate>\r\n        <Form.Group widths={16}>\r\n          <FormFielDropdownSarch\r\n            model={settingDropdowns.clientes}\r\n            empresaContexto={empresa}\r\n            control={control}\r\n            venta={state}\r\n            handleChangeVenta={handleChangeVenta}\r\n            setValue={setValue}\r\n            width={16}\r\n          />\r\n          {/* <FormFielController\r\n            name={\"to\"}\r\n            title={\"Para\"}\r\n            control={control}\r\n            errors={errors}\r\n            width={16}\r\n          /> */}\r\n          {/* <FormFielController\r\n            name={\"cuenta_detraccion\"}\r\n            title={\"Cuenta Detracción\"}\r\n            control={control}\r\n            errors={errors}\r\n            width={5}\r\n          /> */}\r\n        </Form.Group>\r\n        <Form.Group widths={16}>\r\n          <Form.Field width={16}>\r\n            <Controller\r\n              name={\"message\"}\r\n              control={control}\r\n              render={({ field: { onChange, onBlur, value } }) => (\r\n                <>\r\n                  <label>Mensaje</label>\r\n                  <TextArea\r\n                    rows={12}\r\n                    value={value}\r\n                    onBlur={onBlur}\r\n                    onChange={onChange}\r\n                    placeholder=\"Escribe tu mensaje\"\r\n                  />\r\n                </>\r\n              )}\r\n            />\r\n          </Form.Field>\r\n        </Form.Group>\r\n\r\n        <Table unstackable>\r\n          <Table.Header>\r\n            <Table.Row>\r\n              <Table.HeaderCell>Archivo</Table.HeaderCell>\r\n              <Table.HeaderCell>Nombre</Table.HeaderCell>\r\n            </Table.Row>\r\n          </Table.Header>\r\n\r\n          <Table.Body>\r\n            {files.map((v, index) => (\r\n              <Table.Row>\r\n                <Table.Cell>\r\n                  <Icon name={v.icon} />\r\n                </Table.Cell>\r\n                <Table.Cell>{v.name}</Table.Cell>\r\n              </Table.Row>\r\n            ))}\r\n          </Table.Body>\r\n        </Table>\r\n        <Button\r\n          content=\"Enviar Correo\"\r\n          color=\"primary\"\r\n          fluid\r\n          onClick={handleSendMail}\r\n        />\r\n      </Form>\r\n      {/* <pre>{JSON.stringify(watcher, null, 2)}</pre> */}\r\n    </>\r\n  );\r\n};\r\nexport default FormularioEmail;\r\n","import { Card, Container, Grid, Header } from \"semantic-ui-react\";\r\n\r\nimport { Link, useLocation, useNavigate } from \"react-router-dom\";\r\nconst Reports = () => {\r\n  const location = useLocation();\r\n  const navigate = useNavigate();\r\n\r\n  const openModal = (url) => {\r\n    navigate(\"/reportes/\" + url, {\r\n      state: {\r\n        backgroundLocation: location,\r\n      },\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <Grid.Column width={16} style={{ marginTop: \"10px\", padding: 10 }}>\r\n        <Grid.Row>\r\n          <Header as=\"h1\">Reportes</Header>\r\n        </Grid.Row>\r\n        <Grid.Row style={{ marginTop: \"10px\" }}>\r\n          <Card.Group>\r\n            <Card\r\n              onClick={() => {\r\n                openModal(\"ventas\");\r\n              }}\r\n              header=\"Ventas\"\r\n              description=\"Genera el Reporte de Venta por Periodos de Fechas, Operacion, Clientes en formato Excel\"\r\n            />\r\n            {/* <Card\r\n              // onClick={() => {\r\n              //   openModal(\"contactos\");\r\n              // }}\r\n              header=\"Contactos\"\r\n              description=\"Descarga el Listado de Contactos en formato Excel\"\r\n            />\r\n            <Card\r\n              // onClick={() => {\r\n              //   openModal(\"productos\");\r\n              // }}\r\n              header=\"Productos\"\r\n              description=\"Descarga el listado de Productos en formato Excel\"\r\n            /> */}\r\n          </Card.Group>\r\n        </Grid.Row>\r\n      </Grid.Column>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Reports;\r\n","\r\nimport * as yup from \"yup\";\r\n\r\nconst schema = yup\r\n.object({\r\n  //id: yup.string().required(\"Complete\")\r\n})\r\n.required();\r\n\r\nexport default schema","import { useContext } from \"react\";\r\nimport { Form, Header, Segment, Button } from \"semantic-ui-react\";\r\nimport FormFielController from \"../FormFieldController\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { yupResolver } from \"@hookform/resolvers/yup\";\r\nimport EmpresaContext from \"../../context/EmpresaContext\";\r\nimport schema from \"./schema_report\";\r\n\r\nimport formatFecha from \"../../libs/formatFecha\";\r\nimport ventas from \"../../services/ventas\";\r\n\r\nconst FormularioReportVenta = () => {\r\n  const empresa = useContext(EmpresaContext);\r\n  const {\r\n    control,\r\n    handleSubmit,\r\n    formState: { errors },\r\n    setValue,\r\n    reset,\r\n    watch,\r\n  } = useForm({\r\n    resolver: yupResolver(schema),\r\n    defaultValues: {\r\n      _desde: formatFecha.formatToInputSemantic(new Date()),\r\n      _hasta: formatFecha.formatToInputSemantic(new Date()),\r\n      _anulado: true,\r\n      _ventas: true,\r\n      _cotizacion: false,\r\n      _guia_remision: false,\r\n      _nota_credito: false,\r\n    },\r\n  });\r\n\r\n  const watcher = watch();\r\n\r\n  const param = {\r\n    _ventas: 1,\r\n    _cotizacion: 2,\r\n    _guia_remision: 3,\r\n    _nota_credito: 4,\r\n    _anulado: 5,\r\n  };\r\n\r\n  const getReport = async () => {\r\n    const query = {};\r\n    let keys = Object.keys(watcher);\r\n\r\n    query.filter = [[\"tipo_operacion_id\", \"in\", []]];\r\n\r\n    for (let i = 0; i < keys.length; i++) {\r\n      const e = watcher[keys[i]];\r\n      if (keys[i] === \"_desde\") {\r\n        query.filter.push([\"fecha_emision\", \">=\", watcher[keys[i]]]);\r\n      } else if (keys[i] === \"_hasta\") {\r\n        query.filter.push([\"fecha_emision\", \"<=\", watcher[keys[i]]]);\r\n      } else {\r\n        console.log(e, keys[i]);\r\n        if (e) {\r\n          query.filter[0][2].push(param[keys[i]]);\r\n        }\r\n      }\r\n    }\r\n\r\n    await ventas.reporte(empresa.empresa, query);\r\n  };\r\n\r\n  return (\r\n    <Form>\r\n      <Form.Group>\r\n        <FormFielController\r\n          name={\"_desde\"}\r\n          title={\"Desde\"}\r\n          control={control}\r\n          errors={errors}\r\n          type=\"date\"\r\n          width={5}\r\n        />\r\n        <FormFielController\r\n          name={\"_hasta\"}\r\n          title={\"Hasta\"}\r\n          control={control}\r\n          errors={errors}\r\n          type=\"date\"\r\n          width={5}\r\n        />\r\n      </Form.Group>\r\n\r\n      <Header as={\"h3\"}>Tipo de Documento</Header>\r\n\r\n      <Form.Group>\r\n        <Form.Checkbox\r\n          label=\"Documentos de Ventas\"\r\n          name=\"_ventas\"\r\n          checked={watcher._ventas}\r\n          onChange={() => {\r\n            setValue(\"_ventas\", !watcher._ventas);\r\n          }}\r\n        />\r\n        <Form.Checkbox\r\n          label=\"Cotizaciones\"\r\n          name=\"_cotizacion\"\r\n          checked={watcher._cotizacion}\r\n          onChange={() => {\r\n            setValue(\"_cotizacion\", !watcher._cotizacion);\r\n          }}\r\n        />\r\n        <Form.Checkbox\r\n          label=\"Guia de Remisión\"\r\n          name=\"_guia_remision\"\r\n          checked={watcher._guia_remision}\r\n          onChange={() => {\r\n            setValue(\"_guia_remision\", !watcher._guia_remision);\r\n          }}\r\n        />\r\n\r\n        <Form.Checkbox\r\n          label=\"Nota de Crédito\"\r\n          name=\"_nota_credito\"\r\n          checked={watcher._nota_credito}\r\n          onChange={() => {\r\n            setValue(\"_nota_credito\", !watcher._nota_credito);\r\n          }}\r\n        />\r\n\r\n        <Form.Checkbox\r\n          label=\"Anulados\"\r\n          name=\"_anulado\"\r\n          checked={watcher._anulado}\r\n          onChange={() => {\r\n            setValue(\"_anulado\", !watcher._anulado);\r\n          }}\r\n        />\r\n      </Form.Group>\r\n      {/* \r\n      <Segment>\r\n        <pre>{JSON.stringify(watcher, null, 2)}</pre>\r\n      </Segment> */}\r\n\r\n      <div style={{ marginTop: \"5vh\" }}>\r\n        <Button\r\n          content=\"Generar Reporte\"\r\n          fluid\r\n          primary\r\n          onClick={() => getReport()}\r\n        />\r\n      </div>\r\n    </Form>\r\n  );\r\n};\r\nexport default FormularioReportVenta;\r\n","\r\nimport * as yup from \"yup\";\r\n\r\nconst schema = yup\r\n.object({\r\n  //id: yup.string().required(\"Complete\")\r\n})\r\n.required();\r\n\r\nexport default schema","import React, {\r\n  useEffect,\r\n  useState,\r\n  useContext,\r\n  useRef,\r\n  createRef,\r\n} from \"react\";\r\nimport { useNavigate, useLocation } from \"react-router-dom\";\r\nimport { Controller, useForm } from \"react-hook-form\";\r\nimport QRCode from \"qrcode.react\";\r\n\r\nimport {\r\n  Confirm,\r\n  Form,\r\n  Button,\r\n  Message,\r\n  Grid,\r\n  Table,\r\n  Input,\r\n  Segment,\r\n  Icon,\r\n  Checkbox,\r\n  Dropdown,\r\n  Accordion,\r\n  TextArea,\r\n  Menu,\r\n  Popup,\r\n  Header,\r\n  Ref,\r\n} from \"semantic-ui-react\";\r\n\r\nimport { yupResolver } from \"@hookform/resolvers/yup\";\r\nimport ventaSevice from \"../../services/ventas\";\r\nimport FormFielController from \"../FormFieldController\";\r\nimport EmpresaContext from \"../../context/EmpresaContext\";\r\nimport schema from \"./schema\";\r\nimport handleBackendErrors from \"../../libs/handleBackendErrors\";\r\n\r\nimport settingDropdowns from \"../../libs/settingDropdowns\";\r\n\r\nimport FormFielDropdownSarch from \"../DropdownSearch2\";\r\nimport SearchProductos from \"../../components/SearchProducto\";\r\n\r\nimport Calcular from \"../../libs/calcularPrecios\";\r\nimport { toast } from \"react-toastify\";\r\nimport ViewFormatA4 from \"../ViewFormatA4\";\r\nimport { PDFViewer, PDFDownloadLink, pdf } from \"@react-pdf/renderer\";\r\n\r\nimport ventaContext from \"../../context/VentaContext\";\r\nimport formatFecha from \"../../libs/formatFecha\";\r\nimport Precio from \"../../libs/calcularListaPrecio\";\r\nimport precioService from \"../../services/precio\";\r\n\r\nconst FormularioCompra = ({\r\n  loading,\r\n  selected,\r\n  handleChangeVenta,\r\n  editionMode,\r\n  state,\r\n  formatPrint,\r\n  setFormatPrint,\r\n}) => {\r\n  let dropdownItem = createRef();\r\n  let navigate = useNavigate();\r\n  let location = useLocation();\r\n\r\n  const { empresa, setEmpresa, impresion } = useContext(EmpresaContext);\r\n  const { setDocumento, ventaDefaultContent } = useContext(ventaContext);\r\n  const [isLoadding, setIsloadding] = useState(false);\r\n  const [isBackendError, setIsBackendError] = useState(false);\r\n  const [openConfimation, setOpenConfirmation] = useState(false);\r\n  const [addItemStatus, setAddItemStatus] = useState(false);\r\n  const [qrCodeBase64, setQrCodeBase64] = useState(false);\r\n  const [activeItem, setActiveItem] = useState(2);\r\n  const [activeItemOptions, setActiveItemOptions] = useState(false);\r\n  const [modoDescuento, setModoDescuento] = useState(false);\r\n\r\n  const [openConfimationListPrice, setOpenConfimationListPrice] =\r\n    useState(false);\r\n\r\n  const [data, setData] = useState(null);\r\n\r\n  const [itemSelected, setItemSelected] = useState(false);\r\n  const [precioSelected, setPrecioSelected] = useState([{ key: 0 }]);\r\n  const [productoChoose, setProductoChoose] = useState({\r\n    model: { precio_venta: 0, cantidad: 0, descuento: 0 },\r\n  });\r\n  const [listDetalles, setListDetalles] = useState([]);\r\n  const edition = [];\r\n  const inputRef = useRef(null);\r\n\r\n  const handleCreateNewPrice = async (e, element) => {\r\n    const lastProduct = watcher.detalles[watcher.detalles.length - 1];\r\n    lastProduct.moneda_id = watcher.moneda_id;\r\n    lastProduct.costo_compra = lastProduct.precio_compra;\r\n    const item = _precio.precioVenta(lastProduct);\r\n    const create = await precioService.create(item);\r\n    console.log({ create });\r\n\r\n    setOpenConfimationListPrice(false);\r\n  };\r\n\r\n  const handleClick = (e, titleProps) => {\r\n    const { index } = titleProps;\r\n    const { activeIndex } = activeItem;\r\n    const newIndex = activeIndex === index ? -1 : index;\r\n\r\n    setActiveItem(newIndex);\r\n  };\r\n\r\n  if (!!!selected) {\r\n    selected = !!state\r\n      ? { ...state, ...ventaDefaultContent }\r\n      : {\r\n          serie: { tipo_operacion_id: 1 }, //TODO: tipo de operacion debe venir del parametro de la ruta\r\n          tipo_operacion_id: 1,\r\n          detalles: [],\r\n          documento_relacion_search: undefined,\r\n          documento_relacion_search_id: undefined,\r\n        };\r\n  }\r\n\r\n  const {\r\n    control,\r\n    handleSubmit,\r\n    formState: { errors },\r\n    setValue,\r\n    reset,\r\n    watch,\r\n  } = useForm({\r\n    resolver: yupResolver(schema),\r\n    defaultValues: { ...selected } || state.model,\r\n  });\r\n\r\n  const watcher = watch(); // you can also target specific fields by their names\r\n\r\n  useEffect(() => {\r\n    const subscription = watch((value) => {\r\n      setDocumento(value);\r\n    });\r\n    return () => subscription.unsubscribe();\r\n  }, [watch, setDocumento]);\r\n\r\n  const _precio = new Precio();\r\n\r\n  const calcular = new Calcular(\r\n    \"venta\",\r\n    empresa.empresa.limite_detraccion,\r\n    empresa.empresa.por_detraccion,\r\n    empresa.empresa.por_percepcion,\r\n    null,\r\n    18,\r\n    8,\r\n    watcher.id\r\n  );\r\n\r\n  const openSearchProducto = () => {\r\n    SearchProductosRef.current.open();\r\n    // inputRef.current.open();\r\n  };\r\n\r\n  useEffect(() => {\r\n    const precios = itemSelected?.model?.precios.map((e, index) => {\r\n      const obj = {\r\n        key: index,\r\n        text: e?.presentacion?.abbr,\r\n        value: e?.id,\r\n        model: e,\r\n      };\r\n      return obj;\r\n    });\r\n    setPrecioSelected(precios);\r\n    return () => {\r\n      setPrecioSelected(false);\r\n    };\r\n  }, [itemSelected]);\r\n\r\n  // useEffect(() => {\r\n  //   if (itemSelected) {\r\n  //     handleProductoChoose(null, { name: \"cantidad\", value: 1.0 });\r\n  //     return () => {\r\n  //       handleProductoChoose(false);\r\n  //     };\r\n  //   }\r\n  // }, [itemSelected]);\r\n\r\n  useEffect(() => {\r\n    if (selected) {\r\n      setFormatPrint({ status: false });\r\n      const qrCodeCanvas = document?.querySelector(\"canvas\");\r\n      setQrCodeBase64(qrCodeCanvas?.toDataURL(\"image/jpg\", 0.3));\r\n      setData(selected);\r\n      setDocumento(selected);\r\n    }\r\n\r\n    return () => {\r\n      setData(false);\r\n    };\r\n  }, []);\r\n\r\n  // useEffect(() => {\r\n  //   const subscription = watch((value, { name, type }) => {\r\n  //     if (name === \"serie_id\") {\r\n  //       console.log(value?.serie);\r\n  //       setTimeout(() => {\r\n  //         setValue(\"correlativo\", value?.serie?.correlativo);\r\n  //       }, 500);\r\n  //     }\r\n  //   });\r\n  //   return () => subscription.unsubscribe();\r\n  // }, [watch, setValue]);\r\n\r\n  const watchDetalles = (detalles, descuento = 0) => {\r\n    const totales = calcular.totales(detalles, descuento);\r\n    Object.keys(totales).map((v) => {\r\n      setValue(v, totales[v]);\r\n      return v;\r\n    });\r\n\r\n    // .then((totales) => {\r\n    // Object.keys(totales).map((v, index) => {\r\n    //   setValue(v, totales[v]);\r\n    //   // });\r\n    // });\r\n  };\r\n\r\n  const deleteItem = (key) => {\r\n    const lista = watcher.detalles;\r\n    lista.splice(key, 1);\r\n    setListDetalles(lista);\r\n    setValue(\"detalles\", lista);\r\n    watchDetalles(watcher.detalles, watcher.total_descuento_global);\r\n    // console.log(\"delete firts\", lista);\r\n  };\r\n\r\n  const valid = ({ productoChoose, itemSelected }) => {\r\n    return new Promise((res, reject) => {\r\n      if (\r\n        !!productoChoose &&\r\n        !!itemSelected &&\r\n        !!itemSelected.model &&\r\n        !!productoChoose.model.costo_venta &&\r\n        !!productoChoose.model.cantidad\r\n      ) {\r\n        res({ productoChoose, itemSelected });\r\n      } else {\r\n        reject(false);\r\n      }\r\n    });\r\n  };\r\n\r\n  const clearPresentationItem = () => {\r\n    const element = dropdownItem.current.querySelector(\r\n      '[aria-selected=\"true\"]'\r\n    );\r\n    if (element) {\r\n      dropdownItem.current.querySelector(\".clear\").click();\r\n    }\r\n  };\r\n  const handleKeyPressTab = (e) => {\r\n    if (e.key === \"Tab\" || e.key === \"Enter\") {\r\n      addItem();\r\n      clearPresentationItem();\r\n      openSearchProducto();\r\n    }\r\n  };\r\n  const addItem = async () => {\r\n    setAddItemStatus(true);\r\n    await valid({ productoChoose, itemSelected }).then(\r\n      (res) => {\r\n        const item = productoChoose.model;\r\n        item.codigo = productoChoose.model.codigo;\r\n        item.monto_igv = productoChoose.model.igv;\r\n        item.precio_unitario = productoChoose.model.costo_venta;\r\n        item.monto_precio_unitario = productoChoose.model.costo_venta;\r\n        item.producto = {\r\n          id: itemSelected.model.id,\r\n          nombre: itemSelected.model.nombre,\r\n          peso: itemSelected.model.peso,\r\n          afecto: itemSelected.model.afecto,\r\n        };\r\n\r\n        if (!!!item.precios.length) {\r\n          setOpenConfimationListPrice(true);\r\n        }\r\n\r\n        const lista = watcher.detalles || [];\r\n\r\n        lista.push(item);\r\n        setValue(\"detalles\", lista);\r\n        watchDetalles(watcher.detalles);\r\n        setAddItemStatus(false);\r\n        setProductoChoose({\r\n          model: { precio_venta: 0, cantidad: 0, descuento: 0 },\r\n        });\r\n      },\r\n      (err) => {\r\n        toast.error(\"complete el formulario de ingreso de producto\");\r\n        setAddItemStatus(false);\r\n      }\r\n    );\r\n  };\r\n\r\n  const close = () => {\r\n    if (!!!location.state?.backgroundLocation) {\r\n      setIsloadding(false);\r\n      return false;\r\n    }\r\n\r\n    navigate(location.state.backgroundLocation.pathname, {\r\n      state: { reload: { ventas: true } },\r\n    });\r\n  };\r\n\r\n  const handleProductoChoose = (e, element) => {\r\n    if (!!!element) {\r\n      return false;\r\n    }\r\n\r\n    if (element.name === \"precio_venta\") {\r\n      if (!!!productoChoose && !!!productoChoose.model) {\r\n        productoChoose.model.cantidad = 0;\r\n      }\r\n    }\r\n\r\n    const input = {};\r\n    input[element.name] = element.value;\r\n    const model = { ...productoChoose.model, ...input };\r\n    // console.log(\">>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\");\r\n    // console.log(itemSelected.model);\r\n    // console.log(model);\r\n    // console.log(\">>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\");\r\n    const newModel = calcular.item(itemSelected.model, model);\r\n\r\n    // READY\r\n\r\n    // console.log(\r\n    //   model.costo_venta,\r\n    //   model.por_utilidad,\r\n    //   model.igv,\r\n    //   model.monto_base_igv,\r\n    //   model.monto_igv\r\n    // );\r\n    const item = productoChoose;\r\n    item.model = newModel;\r\n\r\n    setProductoChoose({ ...item });\r\n  };\r\n\r\n  const handleProductoChooseDescuentoEfectivo = (e, { name, value }) => {\r\n    const input = {};\r\n    input[name] = Number(value);\r\n    const model = { ...productoChoose.model, ...input };\r\n    const combineModel = { ...itemSelected.model, ...model };\r\n    let newModel = calcular.descuentoEfectivo(combineModel);\r\n    const item = productoChoose;\r\n    item.model = newModel;\r\n    item.model = { ...item.model, ...input };\r\n    setProductoChoose({ ...item });\r\n    // handleProductoChoose(e, {name,value});\r\n  };\r\n\r\n  const handleProductoChooseDescuentoPorcentaje = (e, { name, value }) => {\r\n    const input = {};\r\n    input[name] = Number(value);\r\n    const model = { ...productoChoose.model, ...input };\r\n    const combineModel = { ...itemSelected.model, ...model };\r\n\r\n    const newModel = calcular.descuentoPorcentaje(combineModel);\r\n    const item = productoChoose;\r\n    item.model = newModel;\r\n    item.model = { ...item.model, ...input };\r\n    setProductoChoose({ ...item });\r\n    // handleProductoChoose(e, { name, value });\r\n  };\r\n\r\n  const handleInsertDocumentRelation = () => {\r\n    if (\r\n      !watcher.documento_relacion_search &&\r\n      !watcher.documento_relacion_search_id\r\n    ) {\r\n      toast.error(\"Seleccione un documento válido\");\r\n      return false;\r\n    }\r\n    const set = watcher.documento_relacion || [];\r\n    const documento_relacion = {\r\n      documento_relacion_id: watcher.documento_relacion_search.id,\r\n      documento_relacion: watcher.documento_relacion_search,\r\n    };\r\n\r\n    set.push(documento_relacion);\r\n\r\n    setValue(\"documento_relacion\", set);\r\n    setValue(\"documento_relacion_search\", 0);\r\n    setValue(\"documento_relacion_search_id\", 0);\r\n  };\r\n  const handleDeleteDocumentRelation = (index) => {\r\n    const lista = watcher.documento_relacion;\r\n    lista.splice(index, 1);\r\n    setValue(\"documento_relacion\", lista);\r\n  };\r\n  const updateCorrelativo = () => {\r\n    setValue(\"correlativo\", parseFloat(watcher?.correlativo) + 1);\r\n  };\r\n  const resetFormAfterSave = () => {\r\n    updateCorrelativo();\r\n    setValue(\"detalles\", []);\r\n    setValue(\"total_afecto\", 0);\r\n    setValue(\"total_descuento_global\", 0);\r\n    setValue(\"total_descuento_lineal\", 0);\r\n    setValue(\"total_detraccion\", 0);\r\n    setValue(\"total_documento\", 0);\r\n    setValue(\"total_documento_fin\", 0);\r\n    setValue(\"total_exonerado\", 0);\r\n    setValue(\"total_igv\", 0);\r\n    setValue(\"total_inafecto\", 0);\r\n    setValue(\"total_isc\", 0);\r\n    setValue(\"total_percepcion\", 0);\r\n    setValue(\"total_peso\", 0);\r\n  };\r\n  const onSubmit = async (data) => {\r\n    if (!!data && data.id) {\r\n      setIsloadding(true);\r\n      // update\r\n      const update = await toast.promise(ventaSevice.update(data, data.id), {\r\n        pending: \"Actualizando...\",\r\n        success: \"Documento Actualizado 👌\",\r\n        error: \"Error de documento 🤯\",\r\n      });\r\n\r\n      if (!!!state) {\r\n        handleChangeVenta(data);\r\n        if (empresa.empresa.id === update.id) {\r\n          empresa.empresa = update;\r\n          await setEmpresa(empresa);\r\n          await setIsloadding(false);\r\n          close();\r\n        } else {\r\n          close();\r\n          setIsloadding(false);\r\n        }\r\n      } else {\r\n        setIsloadding(false);\r\n      }\r\n      if (impresion?.after_save) {\r\n        setFormatPrint({ status: !formatPrint?.status, from: \"update\" });\r\n      }\r\n      // verificar si es la empresa actual en el contexto del la instancia de local/empresa\r\n    } else {\r\n      //create\r\n      // const create = await ventaSevice.create(data);\r\n\r\n      const create = await toast.promise(ventaSevice.create(data), {\r\n        pending: \"Guardando...\",\r\n        success: \"Documento Guardado 👌\",\r\n        error: \"Error de documento 🤯\",\r\n      });\r\n\r\n      setIsloadding(false);\r\n      if (create?.errors) {\r\n        if (state.id) {\r\n          handleChangeVenta(data);\r\n        }\r\n        setIsBackendError(handleBackendErrors(create));\r\n      } else {\r\n        // resetFormAfterSave();\r\n        /**Clear All Form Except (Serie, Cliente ,) */\r\n        /**END Clear */\r\n        if (impresion?.after_save) {\r\n          setFormatPrint({ status: !formatPrint?.status, from: \"create\" });\r\n        } else {\r\n          resetFormAfterSave();\r\n        }\r\n        setIsBackendError(null);\r\n        close();\r\n      }\r\n      return create;\r\n    }\r\n  };\r\n\r\n  const handleChangeVentaItemList = (element, index) => {\r\n    console.log(element, index);\r\n    const items = watcher.detalles;\r\n    const item = watcher.detalles[index];\r\n\r\n    if (element.name === \"cantidad\") {\r\n      item.cantidad = element.value || undefined;\r\n    }\r\n\r\n    if (element.name === \"precio_venta\") {\r\n      items[index].precio_venta = element.value || undefined;\r\n    }\r\n    item.is_detail = true;\r\n    const newItem = calcular.item(items[index], item);\r\n    console.log(newItem);\r\n    items[index] = newItem;\r\n    setValue(\"detalles\", items);\r\n\r\n    watchDetalles(items, 0);\r\n    // calcular.totales(items);\r\n  };\r\n\r\n  const changeSerie = ({ options, value }) => {\r\n    // const selected = options[value - 1];\r\n\r\n    const selected = options.find((v, k) => v.value === value);\r\n\r\n    setValue(\"correlativo\", selected?.model?.correlativo || 1);\r\n  };\r\n\r\n  const settStayle = () => {\r\n    if (!!!location.pathname.search(\"/space/ventas/\")) {\r\n      return { overflowY: \"scroll\", height: \"95vh\", marginTop: \"0vh\" };\r\n    } else {\r\n      return { overflowY: \"scroll\", height: \"85vh\", marginTop: \"1vh\" };\r\n    }\r\n  };\r\n\r\n  const undoChanges = (event) => {\r\n    reset(selected);\r\n  };\r\n\r\n  const SearchProductosRef = useRef();\r\n\r\n  return (\r\n    <div style={settStayle()}>\r\n      {formatPrint && !!!formatPrint?.status ? (\r\n        <Form onSubmit={handleSubmit(onSubmit)} noValidate>\r\n          <Segment loading={loading}>\r\n            <Form.Group>\r\n              {!editionMode ? (\r\n                <Form.Input\r\n                  fluid\r\n                  label=\"Serie\"\r\n                  placeholder=\"Seleccione Serie\"\r\n                  value={\r\n                    watcher?.serie?.descripcion + \"-\" + watcher?.serie?.serie\r\n                  }\r\n                  readOnly\r\n                  width={4}\r\n                />\r\n              ) : (\r\n                <FormFielDropdownSarch\r\n                  model={settingDropdowns.serie}\r\n                  moreRouteParams={{\r\n                    tipo_operacion_id: selected?.serie?.tipo_operacion_id,\r\n                  }}\r\n                  empresaContexto={empresa}\r\n                  control={control}\r\n                  venta={selected}\r\n                  handleChangeVenta={handleChangeVenta}\r\n                  setValue={setValue}\r\n                  width={4}\r\n                  onListenChange={changeSerie}\r\n                />\r\n              )}\r\n              {!editionMode ? (\r\n                <Form.Input\r\n                  fluid\r\n                  label=\"Correlativo\"\r\n                  placeholder=\"Selecione\"\r\n                  value={watcher?.correlativo}\r\n                  readOnly\r\n                  width={2}\r\n                />\r\n              ) : (\r\n                <FormFielController\r\n                  name={\"correlativo\"}\r\n                  title={\"Correlativo\"}\r\n                  control={control}\r\n                  errors={errors}\r\n                  type=\"number\"\r\n                  width={2}\r\n                />\r\n              )}\r\n\r\n              {!editionMode ? (\r\n                <Form.Input\r\n                  fluid\r\n                  label=\"Proveedor\"\r\n                  placeholder=\"Selecione\"\r\n                  value={watcher?.cliente?.nombre}\r\n                  readOnly\r\n                  width={10}\r\n                />\r\n              ) : (\r\n                <FormFielDropdownSarch\r\n                  model={settingDropdowns.proveedores}\r\n                  empresaContexto={empresa}\r\n                  control={control}\r\n                  venta={selected}\r\n                  handleChangeVenta={handleChangeVenta}\r\n                  setValue={setValue}\r\n                  width={10}\r\n                />\r\n              )}\r\n            </Form.Group>\r\n            <Form.Group>\r\n              {!editionMode ? (\r\n                <Form.Input\r\n                  fluid\r\n                  label=\"Almacen\"\r\n                  placeholder=\"Selecione\"\r\n                  value={watcher?.almacen?.nombre}\r\n                  readOnly\r\n                  width={4}\r\n                />\r\n              ) : (\r\n                <FormFielDropdownSarch\r\n                  model={settingDropdowns.almacen}\r\n                  empresaContexto={empresa}\r\n                  control={control}\r\n                  venta={selected}\r\n                  handleChangeVenta={handleChangeVenta}\r\n                  setValue={setValue}\r\n                  width={4}\r\n                />\r\n              )}\r\n              {!editionMode ? (\r\n                <Form.Input\r\n                  fluid\r\n                  label=\"Condición de Pago\"\r\n                  placeholder=\"Selecione\"\r\n                  value={watcher?.forma_pago?.nombre}\r\n                  readOnly\r\n                  width={3}\r\n                />\r\n              ) : (\r\n                <FormFielDropdownSarch\r\n                  model={settingDropdowns.forma_pago}\r\n                  empresaContexto={empresa}\r\n                  control={control}\r\n                  venta={selected}\r\n                  handleChangeVenta={handleChangeVenta}\r\n                  setValue={setValue}\r\n                  width={3}\r\n                />\r\n              )}\r\n              {!editionMode ? (\r\n                <Form.Input\r\n                  fluid\r\n                  label=\"Fecha de Emisión\"\r\n                  placeholder=\"Selecione\"\r\n                  value={formatFecha.format(watcher?.fecha_emision)}\r\n                  readOnly\r\n                  width={3}\r\n                />\r\n              ) : (\r\n                <FormFielController\r\n                  name={\"fecha_emision\"}\r\n                  title={\"Fecha Emisión\"}\r\n                  control={control}\r\n                  errors={errors}\r\n                  type=\"date\"\r\n                  width={3}\r\n                />\r\n              )}\r\n\r\n              {!editionMode ? (\r\n                <Form.Input\r\n                  fluid\r\n                  label=\"Fecha de Registro\"\r\n                  placeholder=\"Selecione\"\r\n                  value={formatFecha.format(watcher?.fecha_registro)}\r\n                  readOnly\r\n                  width={3}\r\n                />\r\n              ) : (\r\n                <FormFielController\r\n                  name={\"fecha_registro\"}\r\n                  title={\"Fecha Registro\"}\r\n                  control={control}\r\n                  errors={errors}\r\n                  type=\"date\"\r\n                  width={3}\r\n                />\r\n              )}\r\n              {!editionMode ? (\r\n                <Form.Input\r\n                  fluid\r\n                  label=\"Moneda\"\r\n                  placeholder=\"Selecione\"\r\n                  value={watcher?.moneda.nombre}\r\n                  readOnly\r\n                  width={3}\r\n                />\r\n              ) : (\r\n                <FormFielDropdownSarch\r\n                  model={settingDropdowns.moneda}\r\n                  empresaContexto={empresa}\r\n                  control={control}\r\n                  venta={selected}\r\n                  handleChangeVenta={handleChangeVenta}\r\n                  setValue={setValue}\r\n                  width={3}\r\n                />\r\n              )}\r\n            </Form.Group>\r\n            {editionMode && (\r\n              <Form.Group>\r\n                <Form.Field width={6}>\r\n                  <SearchProductos\r\n                    empresaContexto={empresa}\r\n                    model={settingDropdowns.producto}\r\n                    setItemSelected={setItemSelected}\r\n                    ref={SearchProductosRef}\r\n                  />\r\n                </Form.Field>\r\n                <Form.Field width={2}>\r\n                  <Ref innerRef={dropdownItem}>\r\n                    <Dropdown\r\n                      fluid\r\n                      clearable\r\n                      options={precioSelected}\r\n                      onChange={(e, element) => {\r\n                        const item = element?.options?.find(\r\n                          (item) => element?.value === item.value\r\n                        );\r\n                        setProductoChoose(item);\r\n                      }}\r\n                      selection\r\n                    />\r\n                  </Ref>\r\n                </Form.Field>\r\n                <Form.Field width={3}>\r\n                  <Popup\r\n                    content=\"Precio de Venta (Con IGV Incluido)\"\r\n                    trigger={\r\n                      <Input\r\n                        label={\r\n                          !productoChoose?.model?.val_descuento\r\n                            ? { icon: \"money\" }\r\n                            : {\r\n                                tag: true,\r\n                                content: (\r\n                                  productoChoose?.model?.precio_venta -\r\n                                  productoChoose?.model?.val_descuento\r\n                                )?.toFixed(2),\r\n                                color: \"teal\",\r\n                              }\r\n                        }\r\n                        labelPosition={\r\n                          !productoChoose?.model?.val_descuento\r\n                            ? \"right corner\"\r\n                            : \"right\"\r\n                        }\r\n                        type=\"number\"\r\n                        name=\"precio_venta\"\r\n                        value={productoChoose?.model?.precio_venta}\r\n                        onChange={handleProductoChoose}\r\n                        placeholder=\"Precio\"\r\n                      />\r\n                    }\r\n                  />\r\n                </Form.Field>\r\n                <Form.Field width={2}>\r\n                  <Popup\r\n                    content=\"Cantidad de Items\"\r\n                    trigger={\r\n                      <Input\r\n                        label={{ icon: \"boxes\" }}\r\n                        labelPosition=\"right corner\"\r\n                        type=\"number\"\r\n                        name=\"cantidad\"\r\n                        value={productoChoose?.model?.cantidad}\r\n                        placeholder=\"Cantidad\"\r\n                        onChange={handleProductoChoose}\r\n                      />\r\n                    }\r\n                  />\r\n                </Form.Field>\r\n                <Form.Field width={2}>\r\n                  <Popup\r\n                    content={`Descuento en ${\r\n                      !modoDescuento ? \"Efectivo\" : \"Porcentaje\"\r\n                    }`}\r\n                    trigger={\r\n                      <div>\r\n                        {modoDescuento ? (\r\n                          <Input\r\n                            type=\"number\"\r\n                            name=\"por_descuento\"\r\n                            value={productoChoose?.model?.por_descuento}\r\n                            placeholder=\"Descuento Porcentaje\"\r\n                            onChange={handleProductoChooseDescuentoPorcentaje}\r\n                            onKeyDown={handleKeyPressTab}\r\n                          >\r\n                            <input />\r\n                            <Button\r\n                              icon={\"percent\"}\r\n                              style={{ marginLeft: \"10px\" }}\r\n                              onClick={(e) => {\r\n                                e.preventDefault();\r\n                                setModoDescuento(!modoDescuento);\r\n                              }}\r\n                            />\r\n                          </Input>\r\n                        ) : (\r\n                          <Input\r\n                            type=\"number\"\r\n                            name=\"val_descuento\"\r\n                            value={productoChoose?.model?.val_descuento}\r\n                            placeholder=\"Descuento Valor\"\r\n                            onChange={handleProductoChooseDescuentoEfectivo}\r\n                            onKeyDown={handleKeyPressTab}\r\n                          >\r\n                            <input />\r\n                            <Button\r\n                              icon={\"money\"}\r\n                              style={{ marginLeft: \"10px\" }}\r\n                              onClick={(e) => {\r\n                                e.preventDefault();\r\n                                setModoDescuento(!modoDescuento);\r\n                              }}\r\n                            />\r\n                          </Input>\r\n                        )}\r\n                      </div>\r\n                    }\r\n                  />\r\n                </Form.Field>\r\n                <Form.Field width={1}>\r\n                  <Button\r\n                    as={\"a\"}\r\n                    fluid\r\n                    color=\"teal\"\r\n                    animated=\"vertical\"\r\n                    onClick={addItem}\r\n                    disabled={addItemStatus}\r\n                  >\r\n                    <Button.Content hidden>Agregar</Button.Content>\r\n                    <Button.Content visible>\r\n                      <Icon name=\"arrow down\" />\r\n                    </Button.Content>\r\n                  </Button>\r\n                  {/* <Button\r\n                    fluid\r\n                    as=\"a\"\r\n                    content=\"Add\"\r\n\r\n                  /> */}\r\n                </Form.Field>\r\n              </Form.Group>\r\n            )}\r\n            {/* <Grid>\r\n              <Grid.Column>\r\n                <Segment>\r\n                  <pre>{JSON.stringify(productoChoose, null, 2)}</pre>\r\n                </Segment>\r\n              </Grid.Column>\r\n            </Grid> */}\r\n            <Grid>\r\n              <Grid.Column\r\n                width={12}\r\n                style={{ overflowY: \"scroll\", height: \"55vh\" }}\r\n              >\r\n                <Table compact definition striped>\r\n                  <Table.Header fullWidth>\r\n                    <Table.Row>\r\n                      <Table.HeaderCell width={1} />\r\n                      <Table.HeaderCell width={8}>\r\n                        Producto ó Servicio\r\n                      </Table.HeaderCell>\r\n                      <Table.HeaderCell textAlign={\"right\"} width={2}>\r\n                        <abbr title=\"Precio de venta con IGV\">\r\n                          {watcher?.moneda?.simbolo}\r\n                        </abbr>\r\n                      </Table.HeaderCell>\r\n                      <Table.HeaderCell textAlign={\"right\"} width={2}>\r\n                        <abbr title=\"Cantidad\">Cant</abbr>\r\n                      </Table.HeaderCell>\r\n                      <Table.HeaderCell textAlign={\"right\"} width={2}>\r\n                        <abbr title=\"Descuento\">Desc</abbr>\r\n                      </Table.HeaderCell>\r\n                      <Table.HeaderCell\r\n                        textAlign={\"right\"}\r\n                        width={1}\r\n                      ></Table.HeaderCell>\r\n                    </Table.Row>\r\n                  </Table.Header>\r\n\r\n                  <Table.Body>\r\n                    {watcher?.detalles?.map((item, index) => {\r\n                      return (\r\n                        <Table.Row key={index}>\r\n                          <Table.Cell collapsing>\r\n                            <Checkbox slider />\r\n                          </Table.Cell>\r\n                          <Table.Cell>{item.producto.nombre}</Table.Cell>\r\n                          <Table.Cell textAlign={\"right\"}>\r\n                            {!item.val_descuento ? (\r\n                              item.precio_venta !== null ? (\r\n                                <Input\r\n                                  value={item.precio_venta}\r\n                                  onChange={(e, element) =>\r\n                                    handleChangeVentaItemList(element, index)\r\n                                  }\r\n                                  name={\"precio_venta\"}\r\n                                  disabled={!editionMode}\r\n                                />\r\n                              ) : (\r\n                                (0).toFixed(3)\r\n                              )\r\n                            ) : (\r\n                              <>\r\n                                <s>\r\n                                  {item.precio_venta\r\n                                    ? Number(item?.precio_venta).toFixed(3)\r\n                                    : (0).toFixed(3)}\r\n                                </s>\r\n                                <span style={{ marginLeft: \"10px\" }}>\r\n                                  {item.precio_venta\r\n                                    ? Number(\r\n                                        item?.precio_venta - item.val_descuento\r\n                                      )?.toFixed(3)\r\n                                    : (0).toFixed(3)}\r\n                                </span>\r\n                              </>\r\n                            )}\r\n                          </Table.Cell>\r\n                          <Table.Cell style={{ align: \"center\" }}>\r\n                            <Input\r\n                              placeholder=\"Cantidad\"\r\n                              value={item?.cantidad}\r\n                              onChange={(e, element) =>\r\n                                handleChangeVentaItemList(element, index)\r\n                              }\r\n                              name={\"cantidad\"}\r\n                              disabled={!editionMode}\r\n                            />\r\n                          </Table.Cell>\r\n                          <Table.Cell textAlign={\"right\"}>\r\n                            {item.val_descuento\r\n                              ? Number(item?.val_descuento)?.toFixed(3)\r\n                              : (0).toFixed(3)}\r\n                          </Table.Cell>\r\n                          <Table.Cell textAlign={\"right\"}>\r\n                            <Button\r\n                              circular\r\n                              as=\"a\"\r\n                              size=\"mini\"\r\n                              onClick={() => {\r\n                                deleteItem(index);\r\n                              }}\r\n                              disabled={!editionMode}\r\n                              icon=\"trash\"\r\n                            />\r\n                          </Table.Cell>\r\n                        </Table.Row>\r\n                      );\r\n                    })}\r\n                  </Table.Body>\r\n                </Table>\r\n\r\n                {watcher.is_nulled ? (\r\n                  <Segment placeholder>\r\n                    <Header icon>\r\n                      <Icon name=\"ban\" />\r\n                      Documento sin detalles.\r\n                    </Header>\r\n                  </Segment>\r\n                ) : (\r\n                  <></>\r\n                )}\r\n              </Grid.Column>\r\n              <Grid.Column floated=\"right\" width={4}>\r\n                <Table compact=\"very\" color=\"black\">\r\n                  <Table.Body>\r\n                    {true && (\r\n                      <Table.Row>\r\n                        <Table.Cell textAlign=\"right\">Peso </Table.Cell>\r\n                        <Table.Cell textAlign=\"right\">\r\n                          Kg {watcher?.total_peso?.toFixed(3)}\r\n                        </Table.Cell>\r\n                      </Table.Row>\r\n                    )}\r\n                    {true && (\r\n                      <Table.Row>\r\n                        <Table.Cell textAlign=\"right\"> Afecto </Table.Cell>\r\n                        <Table.Cell textAlign=\"right\">\r\n                          {watcher?.moneda?.simbolo}{\" \"}\r\n                          {watcher?.total_afecto?.toFixed(3)}\r\n                        </Table.Cell>\r\n                      </Table.Row>\r\n                    )}\r\n\r\n                    {true && (\r\n                      <Table.Row>\r\n                        <Table.Cell textAlign=\"right\"> Inafecto </Table.Cell>\r\n                        <Table.Cell textAlign=\"right\">\r\n                          {watcher?.moneda?.simbolo}{\" \"}\r\n                          {watcher?.total_inafecto?.toFixed(3)}\r\n                        </Table.Cell>\r\n                      </Table.Row>\r\n                    )}\r\n\r\n                    {true && (\r\n                      <Table.Row>\r\n                        <Table.Cell textAlign=\"right\"> ISC </Table.Cell>\r\n                        <Table.Cell textAlign=\"right\">\r\n                          {watcher?.moneda?.simbolo}{\" \"}\r\n                          {watcher.total_isc?.toFixed(3)}\r\n                        </Table.Cell>\r\n                      </Table.Row>\r\n                    )}\r\n\r\n                    {true && (\r\n                      <Table.Row>\r\n                        <Table.Cell textAlign=\"right\"> IGV </Table.Cell>\r\n                        <Table.Cell textAlign=\"right\">\r\n                          {watcher?.moneda?.simbolo}{\" \"}\r\n                          {watcher?.total_igv?.toFixed(3)}\r\n                        </Table.Cell>\r\n                      </Table.Row>\r\n                    )}\r\n\r\n                    {true && (\r\n                      <Table.Row>\r\n                        <Table.Cell textAlign=\"right\">\r\n                          Descuento Items\r\n                        </Table.Cell>\r\n                        <Table.Cell textAlign=\"right\">\r\n                          {watcher?.moneda?.simbolo}\r\n                          {watcher?.total_descuento_lineal?.toFixed(3)}\r\n                        </Table.Cell>\r\n                      </Table.Row>\r\n                    )}\r\n\r\n                    {true && (\r\n                      <Table.Row>\r\n                        <Table.Cell textAlign=\"right\">\r\n                          Descuento Global\r\n                        </Table.Cell>\r\n                        <Table.Cell textAlign=\"right\">\r\n                          {watcher?.moneda?.simbolo}{\" \"}\r\n                          {watcher?.total_descuento_global?.toFixed(3)}\r\n                        </Table.Cell>\r\n                      </Table.Row>\r\n                    )}\r\n\r\n                    {true && (\r\n                      <Table.Row>\r\n                        <Table.Cell textAlign=\"right\">Documento</Table.Cell>\r\n                        <Table.Cell textAlign=\"right\">\r\n                          {watcher?.moneda?.simbolo}{\" \"}\r\n                          {watcher?.total_documento?.toFixed(3)}\r\n                        </Table.Cell>\r\n                      </Table.Row>\r\n                    )}\r\n\r\n                    {true && (\r\n                      <Table.Row>\r\n                        <Table.Cell textAlign=\"right\"> Percepción </Table.Cell>\r\n                        <Table.Cell textAlign=\"right\">\r\n                          {watcher?.moneda?.simbolo}{\" \"}\r\n                          {watcher?.total_percepcion?.toFixed(3)}\r\n                        </Table.Cell>\r\n                      </Table.Row>\r\n                    )}\r\n\r\n                    {true && (\r\n                      <Table.Row>\r\n                        <Table.Cell textAlign=\"right\">Detracción</Table.Cell>\r\n                        <Table.Cell textAlign=\"right\">\r\n                          {watcher?.moneda?.simbolo}{\" \"}\r\n                          {watcher?.total_detraccion?.toFixed(3)}\r\n                        </Table.Cell>\r\n                      </Table.Row>\r\n                    )}\r\n\r\n                    {true && (\r\n                      <Table.Row>\r\n                        <Table.Cell active textAlign=\"right\">\r\n                          Total\r\n                        </Table.Cell>\r\n                        <Table.Cell active textAlign=\"right\">\r\n                          {!watcher.is_free ? (\r\n                            <strong>\r\n                              {watcher?.moneda?.simbolo}{\" \"}\r\n                              {watcher?.total_documento_fin?.toFixed(3)}\r\n                            </strong>\r\n                          ) : (\r\n                            <strong>\r\n                              {watcher?.moneda?.simbolo} {(0).toFixed(3)}\r\n                            </strong>\r\n                          )}\r\n                        </Table.Cell>\r\n                      </Table.Row>\r\n                    )}\r\n                  </Table.Body>\r\n                </Table>\r\n\r\n                {editionMode && (\r\n                  <div>\r\n                    <Button\r\n                      loading={isLoadding}\r\n                      disabled={isLoadding}\r\n                      content=\"Guardar\"\r\n                      primary\r\n                      fluid\r\n                    />\r\n\r\n                    <Button\r\n                      style={{ marginTop: \"1vh\" }}\r\n                      fluid\r\n                      as=\"a\"\r\n                      content=\"Deshacer Cambios\"\r\n                      onClick={() => {\r\n                        reset(selected);\r\n                      }}\r\n                    />\r\n\r\n                    <Accordion as={Menu} vertical fluid>\r\n                      <Menu.Item>\r\n                        <Accordion.Title\r\n                          active={activeItemOptions === true}\r\n                          content=\"Mas Opciones\"\r\n                          index={0}\r\n                          onClick={() => {\r\n                            setActiveItemOptions(!activeItemOptions);\r\n                          }}\r\n                        />\r\n                        <Accordion.Content\r\n                          active={activeItemOptions === true}\r\n                          content={\r\n                            <Form.Group grouped>\r\n                              <Form.Checkbox\r\n                                label=\"Es gratuita\"\r\n                                name=\"is_free\"\r\n                                checked={watcher.is_free}\r\n                                onChange={() => {\r\n                                  setValue(\"is_free\", !watcher.is_free);\r\n                                }}\r\n                                type=\"number\"\r\n                              />\r\n                              {/* <Form.Checkbox\r\n                                label=\"Es exportación\"\r\n                                name=\"is_export\"\r\n                                checked={watcher.is_export}\r\n                                onChange={() => {\r\n                                  if (!!!watcher.moneda.dolar) {\r\n                                    toast.error(\r\n                                      \"La moneda seleccionada no es valida, solo USD es permitido\"\r\n                                    );\r\n                                    return false;\r\n                                  }\r\n                                  setValue(\"is_export\", !watcher.is_export);\r\n                                }}\r\n                              /> */}\r\n                              {/* <Form.Checkbox\r\n                                label=\"Es exonerada\"\r\n                                name=\"is_exonerada\"\r\n                                checked={watcher.is_exonerada}\r\n                                onChange={() => {\r\n                                  setValue(\r\n                                    \"is_exonerada\",\r\n                                    !watcher.is_exonerada\r\n                                  );\r\n                                }}\r\n                              /> */}\r\n                              <Form.Field>\r\n                                <Input\r\n                                  label={{ content: \"Desc\" }}\r\n                                  labelPosition=\"right\"\r\n                                  placeholder=\"Descuento Global\"\r\n                                  type=\"number\"\r\n                                  value={watcher.total_descuento_global}\r\n                                  onChange={(e, element) => {\r\n                                    setValue(\r\n                                      \"total_descuento_global\",\r\n                                      e.target.value\r\n                                    );\r\n\r\n                                    watchDetalles(\r\n                                      watcher.detalles,\r\n                                      e.target.value\r\n                                    );\r\n                                  }}\r\n                                />\r\n                              </Form.Field>\r\n                            </Form.Group>\r\n                          }\r\n                        />\r\n                      </Menu.Item>\r\n                    </Accordion>\r\n                  </div>\r\n                )}\r\n              </Grid.Column>\r\n            </Grid>\r\n\r\n            {Object.keys(errors)?.length ? (\r\n              <Message\r\n                color=\"orange\"\r\n                header=\"Advertencia\"\r\n                list={[\r\n                  \"Verifique que todos los campos requeridos esten completos.\",\r\n                ]}\r\n              />\r\n            ) : (\r\n              <></>\r\n            )}\r\n            {isBackendError?.length && (\r\n              <Message\r\n                color=\"red\"\r\n                header=\"Verifique los siguientes campos\"\r\n                list={isBackendError}\r\n              />\r\n            )}\r\n            {/* <Button\r\n        as=\"a\"\r\n        content=\"GET ELEMENTOS\"\r\n        secondary\r\n        onClick={() => {\r\n          const form = getValues();\r\n          console.log(form);\r\n        }}\r\n      /> */}\r\n            {/* <Segment>\r\n            <pre>{JSON.stringify(dirtyFields, null, 2)}</pre>\r\n          </Segment>{\" \"} */}\r\n            {/* <Segment>\r\n          <pre>{JSON.stringify(productoChoose, null, 2)}</pre>\r\n        </Segment>\r\n        <Segment>\r\n          <pre>{JSON.stringify(itemSelected, null, 2)}</pre>\r\n        </Segment> */}\r\n            {/* <Segment>\r\n            <pre>{JSON.stringify(watcher, null, 2)}</pre>\r\n          </Segment>  */}\r\n          </Segment>\r\n\r\n          <Confirm\r\n            open={openConfimation}\r\n            content=\"Seguro de Deshacer los cambios, perderas los datos modificados\"\r\n            onCancel={() => setOpenConfirmation(false)}\r\n            onConfirm={undoChanges}\r\n          />\r\n\r\n          <Confirm\r\n            open={openConfimationListPrice}\r\n            content=\"¿Deseas guardar este precio para futuro uso?\"\r\n            onCancel={() => {\r\n              setOpenConfimationListPrice(false);\r\n            }}\r\n            onConfirm={handleCreateNewPrice}\r\n          />\r\n          {watcher.tipo_operacion_id === 3 && (\r\n            <Segment\r\n              color={\"teal\"}\r\n              inverted\r\n              style={{ marginTop: \"1vh\" }}\r\n              loading={loading}\r\n            >\r\n              <Form.Group>\r\n                {!editionMode ? (\r\n                  <Form.Input\r\n                    fluid\r\n                    label=\"Motivo de la Guia de Remision\"\r\n                    placeholder=\"Selecione\"\r\n                    value={watcher?.motivos_sunat_guia_remision?.descripcion}\r\n                    readOnly\r\n                    width={4}\r\n                  />\r\n                ) : (\r\n                  <FormFielDropdownSarch\r\n                    model={settingDropdowns?.motivos_sunat_guia_remision}\r\n                    empresaContexto={empresa}\r\n                    control={control}\r\n                    venta={selected}\r\n                    handleChangeVenta={handleChangeVenta}\r\n                    setValue={setValue}\r\n                    width={4}\r\n                  />\r\n                )}\r\n                {!editionMode ? (\r\n                  <Form.Input\r\n                    fluid\r\n                    label=\"Transportista\"\r\n                    placeholder=\"Selecione\"\r\n                    value={watcher?.transportista?.nombre}\r\n                    readOnly\r\n                    width={6}\r\n                  />\r\n                ) : (\r\n                  <FormFielDropdownSarch\r\n                    model={settingDropdowns?.transportista}\r\n                    empresaContexto={empresa}\r\n                    control={control}\r\n                    venta={selected}\r\n                    handleChangeVenta={handleChangeVenta}\r\n                    setValue={setValue}\r\n                    width={6}\r\n                  />\r\n                )}\r\n                {!editionMode ? (\r\n                  <Form.Input\r\n                    fluid\r\n                    label=\"Vehículo\"\r\n                    placeholder=\"Selecione\"\r\n                    value={watcher?.vehiculo?.descripcion}\r\n                    readOnly\r\n                    width={6}\r\n                  />\r\n                ) : (\r\n                  <FormFielDropdownSarch\r\n                    model={settingDropdowns?.vehiculo}\r\n                    empresaContexto={empresa}\r\n                    control={control}\r\n                    venta={selected}\r\n                    handleChangeVenta={handleChangeVenta}\r\n                    setValue={setValue}\r\n                    width={6}\r\n                  />\r\n                )}\r\n              </Form.Group>\r\n              <Form.Group>\r\n                <FormFielController\r\n                  name={\"direccion_partida\"}\r\n                  title={\"Direccion de Partida\"}\r\n                  control={control}\r\n                  errors={errors}\r\n                  type=\"text\"\r\n                  width={8}\r\n                  readOnly={!editionMode}\r\n                />\r\n\r\n                {!editionMode ? (\r\n                  <Form.Input\r\n                    fluid\r\n                    label=\"Ubigeo de Partida\"\r\n                    placeholder=\"Selecione\"\r\n                    value={\r\n                      !!!watcher?.ubigeo_partida\r\n                        ? \"\"\r\n                        : watcher?.ubigeo_partida?.provincia +\r\n                          \"-\" +\r\n                          watcher?.ubigeo_partida?.distrito +\r\n                          \"-\" +\r\n                          watcher?.ubigeo_partida?.departamento\r\n                    }\r\n                    readOnly\r\n                    width={8}\r\n                  />\r\n                ) : (\r\n                  <FormFielDropdownSarch\r\n                    model={settingDropdowns.ubigeo_partida}\r\n                    empresaContexto={empresa}\r\n                    control={control}\r\n                    venta={selected}\r\n                    handleChangeVenta={handleChangeVenta}\r\n                    setValue={setValue}\r\n                    width={8}\r\n                  />\r\n                )}\r\n              </Form.Group>\r\n              <Form.Group>\r\n                <FormFielController\r\n                  name={\"direccion_destino\"}\r\n                  title={\"Direccion de Destino\"}\r\n                  control={control}\r\n                  errors={errors}\r\n                  type=\"text\"\r\n                  width={8}\r\n                  readOnly={!editionMode}\r\n                />\r\n                {!editionMode ? (\r\n                  <Form.Input\r\n                    fluid\r\n                    label=\"Ubigeo de Destino\"\r\n                    placeholder=\"Selecione\"\r\n                    value={\r\n                      !!!watcher?.ubigeo_destino\r\n                        ? \"\"\r\n                        : watcher?.ubigeo_destino?.provincia +\r\n                          \"-\" +\r\n                          watcher?.ubigeo_destino?.distrito +\r\n                          \"-\" +\r\n                          watcher?.ubigeo_destino?.departamento\r\n                    }\r\n                    readOnly\r\n                    width={8}\r\n                  />\r\n                ) : (\r\n                  <FormFielDropdownSarch\r\n                    model={settingDropdowns.ubigeo_destino}\r\n                    empresaContexto={empresa}\r\n                    control={control}\r\n                    venta={selected}\r\n                    handleChangeVenta={handleChangeVenta}\r\n                    setValue={setValue}\r\n                    width={8}\r\n                  />\r\n                )}\r\n              </Form.Group>\r\n            </Segment>\r\n          )}\r\n\r\n          <Segment secondary loading={loading}>\r\n            <Accordion exclusive={false} fluid color={\"teal\"}>\r\n              <Accordion.Title\r\n                active={activeItem === 2}\r\n                index={2}\r\n                onClick={handleClick}\r\n              >\r\n                <Icon name=\"dropdown\" />\r\n                Detalles de la venta\r\n              </Accordion.Title>\r\n              <Accordion.Content active={activeItem === 2}>\r\n                <Controller\r\n                  name={\"detalle\"}\r\n                  control={control}\r\n                  render={({ field: { onChange, onBlur, value } }) => (\r\n                    <TextArea\r\n                      value={value}\r\n                      onBlur={onBlur}\r\n                      onChange={onChange}\r\n                      placeholder=\"Escribe un Comentario (sera agreagado en la impresión del documento)\"\r\n                      readOnly={!editionMode}\r\n                    />\r\n                  )}\r\n                />\r\n              </Accordion.Content>\r\n              <Accordion.Title\r\n                active={activeItem === 0}\r\n                index={0}\r\n                onClick={handleClick}\r\n              >\r\n                <Icon name=\"dropdown\" />\r\n                Documentos asociados\r\n              </Accordion.Title>\r\n              <Accordion.Content active={activeItem === 0}>\r\n                {editionMode && (\r\n                  <Form.Group>\r\n                    <FormFielDropdownSarch\r\n                      model={settingDropdowns?.documento_relacion_search}\r\n                      empresaContexto={empresa}\r\n                      control={control}\r\n                      venta={selected}\r\n                      handleChangeVenta={handleChangeVenta}\r\n                      setValue={setValue}\r\n                      width={10}\r\n                    />\r\n                    <Form.Field style={{ marginTop: \"24px\" }}>\r\n                      <Button\r\n                        primary\r\n                        as=\"a\"\r\n                        onClick={handleInsertDocumentRelation}\r\n                      >\r\n                        Agregar Documento\r\n                      </Button>\r\n                    </Form.Field>\r\n                  </Form.Group>\r\n                )}\r\n\r\n                {!editionMode && (\r\n                  <Button secondary as=\"a\">\r\n                    Ver Historial\r\n                  </Button>\r\n                )}\r\n\r\n                <Table compact collapsing>\r\n                  <Table.Header>\r\n                    <Table.Row>\r\n                      <Table.HeaderCell>Documento</Table.HeaderCell>\r\n                      <Table.HeaderCell>Eliminar</Table.HeaderCell>\r\n                    </Table.Row>\r\n                  </Table.Header>\r\n\r\n                  <Table.Body>\r\n                    {!!watcher.documento_relacion &&\r\n                      watcher?.documento_relacion.map((v, index) => {\r\n                        return (\r\n                          <Table.Row>\r\n                            <Table.Cell>\r\n                              {v?.documento_relacion.uniqueserie\r\n                                .split(\"-\")\r\n                                .splice(2)\r\n                                .join(\"-\")}\r\n                            </Table.Cell>\r\n                            <Table.Cell>\r\n                              <Button\r\n                                circular\r\n                                as=\"a\"\r\n                                size=\"mini\"\r\n                                onClick={() => {\r\n                                  handleDeleteDocumentRelation(index);\r\n                                }}\r\n                                disabled={!editionMode}\r\n                                icon=\"trash\"\r\n                              />\r\n                            </Table.Cell>\r\n                          </Table.Row>\r\n                        );\r\n                      })}\r\n                  </Table.Body>\r\n                </Table>\r\n              </Accordion.Content>\r\n\r\n              <Accordion.Title\r\n                active={activeItem === 1}\r\n                index={1}\r\n                onClick={handleClick}\r\n              >\r\n                <Icon name=\"dropdown\" />\r\n                Vendedor\r\n              </Accordion.Title>\r\n              <Accordion.Content active={activeItem === 1}>\r\n                <Form.Group>\r\n                  {!editionMode ? (\r\n                    <Form.Input\r\n                      fluid\r\n                      label=\"Vendedor\"\r\n                      placeholder=\"Selecione\"\r\n                      value={watcher?.vendedor?.nombre}\r\n                      readOnly\r\n                      width={10}\r\n                    />\r\n                  ) : (\r\n                    <FormFielDropdownSarch\r\n                      model={settingDropdowns?.vendedor}\r\n                      empresaContexto={empresa}\r\n                      control={control}\r\n                      venta={selected}\r\n                      handleChangeVenta={handleChangeVenta}\r\n                      setValue={setValue}\r\n                      width={10}\r\n                    />\r\n                  )}\r\n                </Form.Group>\r\n              </Accordion.Content>\r\n\r\n              <Accordion.Title\r\n                active={activeItem === 3}\r\n                index={3}\r\n                onClick={handleClick}\r\n              >\r\n                <Icon name=\"dropdown\" />\r\n                Informacion Relacionada\r\n              </Accordion.Title>\r\n              <Accordion.Content active={activeItem === 3}>\r\n                <Form.Group>\r\n                  <FormFielController\r\n                    name={\"numero_expediente\"}\r\n                    title={\"Numero de Expediente\"}\r\n                    control={control}\r\n                    errors={errors}\r\n                    type=\"text\"\r\n                    width={10}\r\n                    readOnly={!editionMode}\r\n                  />\r\n                </Form.Group>\r\n                <Form.Group>\r\n                  <FormFielController\r\n                    name={\"orden_compra\"}\r\n                    title={\"Orden de Compra\"}\r\n                    control={control}\r\n                    errors={errors}\r\n                    type=\"text\"\r\n                    width={10}\r\n                    readOnly={!editionMode}\r\n                  />\r\n                </Form.Group>\r\n                <Form.Group>\r\n                  <FormFielController\r\n                    name={\"codigo_unidad_ejecutora\"}\r\n                    title={\"Código Unidad Ejecutora\"}\r\n                    control={control}\r\n                    errors={errors}\r\n                    type=\"text\"\r\n                    width={10}\r\n                    readOnly={!editionMode}\r\n                  />\r\n                </Form.Group>\r\n                <Form.Group>\r\n                  <FormFielController\r\n                    name={\"numero_proceso_seleccion\"}\r\n                    title={\"Número de proceso de selección\"}\r\n                    control={control}\r\n                    errors={errors}\r\n                    type=\"text\"\r\n                    width={10}\r\n                    readOnly={!editionMode}\r\n                  />\r\n                </Form.Group>\r\n                <Form.Group>\r\n                  <FormFielController\r\n                    name={\"numero_contrato\"}\r\n                    title={\"Número de Contrato\"}\r\n                    control={control}\r\n                    errors={errors}\r\n                    type=\"text\"\r\n                    width={10}\r\n                    readOnly={!editionMode}\r\n                  />\r\n                </Form.Group>\r\n              </Accordion.Content>\r\n            </Accordion>\r\n\r\n            {editionMode && (\r\n              <div style={{ marginTop: \"5vh\" }}>\r\n                <Button\r\n                  loading={isLoadding}\r\n                  disabled={isLoadding}\r\n                  content=\"Guardar\"\r\n                  primary\r\n                />\r\n\r\n                <Button\r\n                  style={{ marginTop: \"1vh\" }}\r\n                  as=\"a\"\r\n                  content=\"Deshacer Cambios\"\r\n                  onClick={() => {\r\n                    reset(selected);\r\n                  }}\r\n                />\r\n              </div>\r\n            )}\r\n          </Segment>\r\n          <Segment style={{ marginBottom: \"20vh\" }} loading={loading}>\r\n            <QRCode\r\n              value={`http://fivip.net/comprobante/${empresa.empresa.ruc}/${watcher?.serie?.id}/${watcher?.serie?.serie}/${watcher?.correlativo}`}\r\n            />\r\n          </Segment>\r\n        </Form>\r\n      ) : (\r\n        <>\r\n          <PDFViewer style={{ width: \"100%\", height: \"75vh\" }}>\r\n            <ViewFormatA4\r\n              empresa={empresa}\r\n              status={watcher}\r\n              qrCodeBase64={qrCodeBase64}\r\n              impresion={impresion}\r\n            />\r\n          </PDFViewer>\r\n\r\n          <PDFDownloadLink\r\n            document={\r\n              <ViewFormatA4\r\n                empresa={empresa}\r\n                status={watcher}\r\n                qrCodeBase64={qrCodeBase64}\r\n                impresion={impresion}\r\n              />\r\n            }\r\n            className=\"button ui primary fluid\"\r\n            fileName={`${empresa.empresa.ruc}-${watcher.serie?.sunat_codigo}-${watcher.serie?.serie}-${watcher.correlativo}.pdf`}\r\n          >\r\n            Descargar\r\n          </PDFDownloadLink>\r\n          <Button\r\n            style={{ marginTop: \"5px\" }}\r\n            basic\r\n            fluid\r\n            onClick={() => {\r\n              if (formatPrint.from === \"create\") {\r\n                setFormatPrint({ status: false });\r\n                resetFormAfterSave();\r\n              } else {\r\n                setFormatPrint({ status: false });\r\n              }\r\n            }}\r\n          >\r\n            {\" \"}\r\n            Cerrar\r\n          </Button>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\nexport default FormularioCompra;\r\n","import { useEffect, useContext, useState } from \"react\";\r\nimport {\r\n  Label,\r\n  Button,\r\n  Grid,\r\n  Header,\r\n  Segment,\r\n  Icon,\r\n  List,\r\n  Popup,\r\n  Dropdown,\r\n  Pagination,\r\n} from \"semantic-ui-react\";\r\nimport { Link, useLocation, useNavigate } from \"react-router-dom\";\r\nimport Moment from \"react-moment\";\r\nimport CreateButton from \"../../components/CreateButton\";\r\nimport ConverterButton from \"../../components/ConverterButton\";\r\nimport Filter from \"../../components/Filter\";\r\nimport ventaService from \"../../services/ventas\";\r\nimport FormularioCompra from \"../../components/compras/formulario\";\r\nimport EmpresaContext from \"../../context/EmpresaContext\";\r\nimport { PDFDownloadLink, pdf } from \"@react-pdf/renderer\";\r\nimport { updated } from \"../../libs/updated\";\r\nimport { LabelUpdate } from \"../../components/LabelUpdate\";\r\nimport ViewFormatA4 from \"../../components/ViewFormatA4\";\r\n\r\nconst Compras = () => {\r\n  const location = useLocation();\r\n  const { empresa, impresion } = useContext(EmpresaContext);\r\n  const [actualData, setActualData] = useState({ current_page: 1 });\r\n  const [ventas, setVentas] = useState([]);\r\n  const [selected, setSelected] = useState(null);\r\n  const [editionMode, setEditionMode] = useState(false);\r\n  const [qrCodeBase64, setQrCodeBase64] = useState(false);\r\n\r\n  const [pdfBlob, setPdfBlob] = useState(null);\r\n\r\n  const [formatPrint, setFormatPrint] = useState({\r\n    status: false,\r\n    format: \"A4\",\r\n  });\r\n\r\n  const getBlob = async () => {\r\n    const blob = pdf(\r\n      <ViewFormatA4\r\n        empresa={empresa}\r\n        status={selected}\r\n        qrCodeBase64={qrCodeBase64}\r\n        impresion={impresion}\r\n      />\r\n    ).toBlob();\r\n\r\n    let bl = await blob;\r\n\r\n    const file = new File(\r\n      [bl],\r\n      `${empresa.empresa.ruc}-${selected?.serie?.sunat_codigo}-${selected?.serie?.serie}-${selected?.correlativo}.pdf`,\r\n      {\r\n        type: \"application/pdf\",\r\n        lastModified: Date.now(),\r\n      }\r\n    );\r\n    setPdfBlob(file);\r\n  };\r\n\r\n  const viewPrintFormat = (status, type) => {\r\n    setFormatPrint({ status, format: type });\r\n  };\r\n\r\n  const get = async (page, reload = false) => {\r\n    const empresa_id = empresa.empresa.id;\r\n    const local_id = empresa.id;\r\n    const fetch = await ventaService.show(empresa_id, local_id, page);\r\n    setActualData(fetch);\r\n    setVentas(fetch.data);\r\n  };\r\n\r\n  const handlePaginationChange = (e, element) => {\r\n    get(element.activePage);\r\n  };\r\n\r\n  // const reload = async () => {\r\n  //   await setActualData({ current_page: 0 });\r\n  //   await setVentas([]);\r\n  //   await get();\r\n  //   console.log(\"reload from ventas\");\r\n  // };\r\n\r\n  const handleChangeVenta = (ventaModificada) => {\r\n    console.log(ventaModificada);\r\n    const change = ventas.map((venta) => {\r\n      if (parseInt(venta.id) === parseInt(ventaModificada.id)) {\r\n        return ventaModificada;\r\n      } else {\r\n        return venta;\r\n      }\r\n    });\r\n    setVentas(change);\r\n  };\r\n\r\n  const handleSelectDocument = async (venta) => {\r\n    await setSelected(null);\r\n    await setSelected(venta);\r\n\r\n    console.log(venta);\r\n  };\r\n\r\n  const download = (type) => {\r\n    ventaService.download(selected, type);\r\n  };\r\n\r\n  const sendToSunat = async (id, index) => {\r\n    const ventaChange = ventas.find((v, k) => v.id === id);\r\n    ventaChange.send_status = true;\r\n\r\n    const newVentas = ventas.map((venta, index) => {\r\n      if (venta.id === ventaChange.id) {\r\n        return ventaChange;\r\n      } else {\r\n        return venta;\r\n      }\r\n    });\r\n\r\n    setVentas(newVentas);\r\n\r\n    /**PROMESA */\r\n    const response = await ventaService.sendSunat(ventaChange);\r\n\r\n    const ventaWithResponse = { ...ventaChange, ...response };\r\n\r\n    /**END PROMESA */\r\n    ventaWithResponse.send_status = false;\r\n    const HandleVentas = ventas.map((venta, index) => {\r\n      if (venta.id === ventaWithResponse.id) {\r\n        return ventaWithResponse;\r\n      } else {\r\n        return venta;\r\n      }\r\n    });\r\n    setVentas(HandleVentas);\r\n  };\r\n\r\n  useEffect(() => {\r\n    get(1);\r\n    return () => {\r\n      setVentas([]);\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    setFormatPrint({\r\n      status: false,\r\n      format: \"A4\",\r\n    });\r\n\r\n    location.state = selected;\r\n\r\n    if (!selected) {\r\n      setEditionMode(false);\r\n    }\r\n\r\n    setTimeout(() => {\r\n      const qrCodeCanvas = document?.querySelector(\"canvas\");\r\n      setQrCodeBase64(qrCodeCanvas?.toDataURL(\"image/jpg\", 0.3));\r\n      getBlob();\r\n    }, 500);\r\n    return () => {};\r\n  }, [selected]);\r\n\r\n  // if (!!location?.state && location?.state?.reload) {\r\n  //   reload();\r\n  //   location.state = null;\r\n  // }\r\n\r\n  return (\r\n    <>\r\n      <Grid.Column width={5}>\r\n        <List relaxed=\"very\" style={{ marginTop: \"1rem\" }}>\r\n          <List.Item>\r\n            <List.Content floated=\"right\">\r\n              <Filter />\r\n              <CreateButton empresaContext={empresa} />\r\n            </List.Content>\r\n            <List.Content>\r\n              <List.Header as=\"a\">\r\n                <Link\r\n                  to={`/welcome/empresas/${empresa.empresa.id}`}\r\n                  state={{\r\n                    backgroundLocation: location,\r\n                    model: empresa.empresa,\r\n                  }}\r\n                >\r\n                  {empresa.empresa.nombre}\r\n                </Link>\r\n              </List.Header>\r\n              {empresa.nombre}\r\n            </List.Content>\r\n          </List.Item>\r\n        </List>\r\n        <List celled relaxed=\"very\">\r\n          {ventas?.map((venta, index) => (\r\n            <List.Item\r\n              key={index}\r\n              onClick={() => {\r\n                handleSelectDocument(venta);\r\n              }}\r\n              style={{\r\n                backgroundColor:\r\n                  venta?.id === selected?.id ? \"rgb(0 181 173 / 12%)\" : \"#fff\",\r\n              }}\r\n            >\r\n              <List.Content style={{ width: \"135px\" }} floated=\"right\">\r\n                <Label.Group tag>\r\n                  <Label as=\"a\">\r\n                    {venta?.moneda?.simbolo}{\" \"}\r\n                    {venta.total_documento_fin?.toFixed(3)}\r\n                  </Label>\r\n                </Label.Group>\r\n                {/* <Button\r\n                  size=\"tiny\"\r\n                    onClick={(e) => {\r\n                      e.stopPropagation();\r\n                      sendToSunat(venta.id);\r\n                    }}\r\n                  >\r\n                    <img\r\n                      class=\"ui avatar image\"\r\n                      src={SUNAT}\r\n                      alt=\"\"\r\n                      style={{\r\n                        height: \"25px\",\r\n                        width: \"25px\",\r\n                        backgroundColor: \"#e8e8e8\",\r\n                        padding: \"3px\",\r\n                      }}\r\n                    />\r\n                  </Button> */}\r\n\r\n                <Popup\r\n                  content={\"Click para enviar comprobante a Sunat\"}\r\n                  key={index}\r\n                  header={\"Pendiente por enviar\"}\r\n                  trigger={\r\n                    venta.tipo_operacion_id !== 2 &&\r\n                    venta.serie.abbr !== \"CT\" &&\r\n                    venta.serie.abbr !== \"NV\" ? (\r\n                      <Button\r\n                        icon={\r\n                          venta.sunat_code === \"0\"\r\n                            ? \"check\"\r\n                            : venta.sunat_code >= \"2000\"\r\n                            ? \"times\"\r\n                            : \"cloud upload\"\r\n                        }\r\n                        size=\"mini\"\r\n                        onClick={(e) => {\r\n                          e.stopPropagation();\r\n                          sendToSunat(venta.id, index);\r\n                        }}\r\n                        color={\r\n                          venta.sunat_code === \"0\"\r\n                            ? \"green\"\r\n                            : venta.sunat_code >= \"2000\"\r\n                            ? \"red\"\r\n                            : \"primary\"\r\n                        }\r\n                        loading={venta.send_status}\r\n                        disabled={venta.send_status || venta.sunat_code === \"0\"}\r\n                      />\r\n                    ) : (\r\n                      false\r\n                    )\r\n                  }\r\n                />\r\n                {venta?.is_nulled ? (\r\n                  <Label as=\"span\" content=\"Anulado\" color=\"red\" />\r\n                ) : (\r\n                  <> &nbsp;</>\r\n                )}\r\n              </List.Content>\r\n\r\n              {/* <List.Content floated=\"right\">\r\n                  <Button circular as=\"span\" size=\"mini\" icon=\"settings\" />\r\n                  <Button circular as=\"span\" size=\"mini\" icon=\"settings\" />\r\n                  <Button circular as=\"span\" size=\"mini\" icon=\"money\" />\r\n                </List.Content> */}\r\n\r\n              <List.Content>\r\n                <List.Header as=\"a\">\r\n                  {venta?.serie?.abbr} {venta?.serie?.serie}{\" \"}\r\n                  {venta?.correlativo}{\" \"}\r\n                  {updated(venta.updated_at) && <LabelUpdate index={index} />}\r\n                </List.Header>\r\n                <List.Item>\r\n                  <strong>{venta?.cliente?.nombre}</strong>\r\n                </List.Item>\r\n                <List.Item>\r\n                  Fecha Emision:{\" \"}\r\n                  <Moment format=\"DD/MM/YYYY\">{venta.fecha_emision}</Moment>\r\n                </List.Item>\r\n              </List.Content>\r\n              {/* <List.Content>\r\n                  {JSON.stringify(venta)}\r\n                </List.Content> */}\r\n            </List.Item>\r\n          ))}\r\n        </List>\r\n        {!!ventas.length && (\r\n          <Pagination\r\n            onPageChange={handlePaginationChange}\r\n            defaultActivePage={actualData.current_page}\r\n            pointing\r\n            secondary\r\n            totalPages={actualData.last_page}\r\n          />\r\n        )}\r\n      </Grid.Column>\r\n      <Grid.Column width={10}>\r\n        {!selected ? (\r\n          <Segment placeholder style={{ marginTop: \"6vh\" }}>\r\n            <Header icon>\r\n              <Icon name=\"file outline\" />\r\n              No tienes un documento seleccionado\r\n            </Header>\r\n          </Segment>\r\n        ) : (\r\n          <>\r\n            <List relaxed=\"very\" style={{ marginTop: \"1rem\" }}>\r\n              <List.Item>\r\n                <List.Content floated=\"right\">\r\n                  <Button\r\n                    size=\"mini\"\r\n                    content=\"Imprimir\"\r\n                    icon=\"print\"\r\n                    labelPosition=\"left\"\r\n                    style={{ marginRight: \"2px\", marginLeft: \"2px\" }}\r\n                    onClick={() => {\r\n                      viewPrintFormat(!formatPrint.status, \"A4\");\r\n                    }}\r\n                    active={formatPrint.status}\r\n                  />\r\n\r\n                  {!!!selected.is_nulled || !!!selected ? (\r\n                    <>\r\n                      <Button\r\n                        size=\"mini\"\r\n                        content=\"Editar\"\r\n                        icon=\"pencil\"\r\n                        labelPosition=\"left\"\r\n                        style={{ marginRight: \"2px\", marginLeft: \"2px\" }}\r\n                        active={editionMode}\r\n                        onClick={() => {\r\n                          setEditionMode(!editionMode);\r\n                        }}\r\n                      />\r\n                    </>\r\n                  ) : (\r\n                    <></>\r\n                  )}\r\n                </List.Content>\r\n              </List.Item>\r\n            </List>\r\n            <Button\r\n              circular\r\n              size=\"mini\"\r\n              icon\r\n              onClick={() => {\r\n                setSelected(null);\r\n              }}\r\n            >\r\n              <Icon name=\"times\" />\r\n            </Button>\r\n            <Link\r\n              to={`/space/compras/1`}\r\n              state={{\r\n                model: selected,\r\n              }}\r\n            >\r\n              <Button circular size=\"mini\" icon>\r\n                <Icon name=\"expand\" />\r\n              </Button>\r\n            </Link>\r\n            {selected.is_nulled ? (\r\n              <Label as=\"span\" content=\"Anulado\" icon=\"ban\" color=\"red\" />\r\n            ) : (\r\n              <></>\r\n            )}\r\n\r\n            <FormularioCompra\r\n              selected={selected}\r\n              handleChangeVenta={handleChangeVenta}\r\n              editionMode={editionMode}\r\n              formatPrint={formatPrint}\r\n              setFormatPrint={setFormatPrint}\r\n            />\r\n          </>\r\n        )}\r\n      </Grid.Column>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Compras;\r\n","const TestMobil = () => {\r\n  return (\r\n    <div\r\n      className=\"relative min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8  bg-no-repeat bg-cover relative items-center\"\r\n    >\r\n      <div className=\"absolute bg-black opacity-60 inset-0 z-0\"></div>\r\n      <div className=\"w-full sm:w-6/12 lg:w-4/12 xl:w-4/12  overflow-y-scroll space-y-3 border-8 rounded-3xl bg-white border-gray-800 shadow-2xl z-10\">\r\n        <div\r\n          className=\"realtive sticky top-0  h-36 w-full rounded-b-3xl bg-center cursor-pointer object-cover z-10 shadow-lg\"\r\n        >\r\n          <nav className=\"p-2 flex flex-grow relative justify-between z-10 items-center mx-auto h-18\">\r\n            <div className=\"inline relative\">\r\n              <button\r\n                type=\"button\"\r\n                className=\"inline-flex items-center relative text-gray-300 hover:text-white mr-3\"\r\n              >\r\n                <svg\r\n                  xmlns=\"http://www.w3.org/2000/svg\"\r\n                  className=\"h-8 w-8\"\r\n                  fill=\"none\"\r\n                  viewBox=\"0 0 24 24\"\r\n                  stroke=\"currentColor\"\r\n                >\r\n                  <path\r\n                    stroke-linecap=\"round\"\r\n                    stroke-linejoin=\"round\"\r\n                    stroke-width=\"2\"\r\n                    d=\"M4 6h16M4 12h8m-8 6h16\"\r\n                  ></path>\r\n                </svg>\r\n              </button>\r\n            </div>\r\n            <div className=\"inline-flex\">\r\n              <a href=\"/\">\r\n                <div className=\"hidden\">\r\n                  <svg\r\n                    width=\"102\"\r\n                    height=\"32\"\r\n                    fill=\"currentcolor\"\r\n                  >\r\n                    <path d=\"M29.24 22.68c-.16-.39-.31-.8-.47-1.15l-.74-1.67-.03-.03c-2.2-4.8-4.55-9.68-7.04-14.48l-.1-.2c-.25-.47-.5-.99-.76-1.47-.32-.57-.63-1.18-1.14-1.76a5.3 5.3 0 00-8.2 0c-.47.58-.82 1.19-1.14 1.76-.25.52-.5 1.03-.76 1.5l-.1.2c-2.45 4.8-4.84 9.68-7.04 14.48l-.06.06c-.22.52-.48 1.06-.73 1.64-.16.35-.32.73-.48 1.15a6.8 6.8 0 007.2 9.23 8.38 8.38 0 003.18-1.1c1.3-.73 2.55-1.79 3.95-3.32 1.4 1.53 2.68 2.59 3.95 3.33A8.38 8.38 0 0022.75 32a6.79 6.79 0 006.75-5.83 5.94 5.94 0 00-.26-3.5zm-14.36 1.66c-1.72-2.2-2.84-4.22-3.22-5.95a5.2 5.2 0 01-.1-1.96c.07-.51.26-.96.52-1.34.6-.87 1.65-1.41 2.8-1.41a3.3 3.3 0 012.8 1.4c.26.4.45.84.51 1.35.1.58.06 1.25-.1 1.96-.38 1.7-1.5 3.74-3.21 5.95zm12.74 1.48a4.76 4.76 0 01-2.9 3.75c-.76.32-1.6.41-2.42.32-.8-.1-1.6-.36-2.42-.84a15.64 15.64 0 01-3.63-3.1c2.1-2.6 3.37-4.97 3.85-7.08.23-1 .26-1.9.16-2.73a5.53 5.53 0 00-.86-2.2 5.36 5.36 0 00-4.49-2.28c-1.85 0-3.5.86-4.5 2.27a5.18 5.18 0 00-.85 2.21c-.13.84-.1 1.77.16 2.73.48 2.11 1.78 4.51 3.85 7.1a14.33 14.33 0 01-3.63 3.12c-.83.48-1.62.73-2.42.83a4.76 4.76 0 01-5.32-4.07c-.1-.8-.03-1.6.29-2.5.1-.32.25-.64.41-1.02.22-.52.48-1.06.73-1.6l.04-.07c2.16-4.77 4.52-9.64 6.97-14.41l.1-.2c.25-.48.5-.99.76-1.47.26-.51.54-1 .9-1.4a3.32 3.32 0 015.09 0c.35.4.64.89.9 1.4.25.48.5 1 .76 1.47l.1.2c2.44 4.77 4.8 9.64 7 14.41l.03.03c.26.52.48 1.1.73 1.6.16.39.32.7.42 1.03.19.9.29 1.7.19 2.5zM41.54 24.12a5.02 5.02 0 01-3.95-1.83 6.55 6.55 0 01-1.6-4.48 6.96 6.96 0 011.66-4.58 5.3 5.3 0 014.08-1.86 4.3 4.3 0 013.7 1.92l.1-1.57h2.92V23.8h-2.93l-.1-1.76a4.52 4.52 0 01-3.88 2.08zm.76-2.88c.58 0 1.09-.16 1.57-.45.44-.32.8-.74 1.08-1.25.25-.51.38-1.12.38-1.8a3.42 3.42 0 00-1.47-3.04 2.95 2.95 0 00-3.12 0c-.44.32-.8.74-1.08 1.25a4.01 4.01 0 00-.38 1.8 3.42 3.42 0 001.47 3.04c.47.29.98.45 1.55.45zM53.45 8.46c0 .35-.06.67-.22.93-.16.25-.38.48-.67.64-.29.16-.6.22-.92.22-.32 0-.64-.06-.93-.22a1.84 1.84 0 01-.67-.64 1.82 1.82 0 01-.22-.93c0-.36.07-.68.22-.93.16-.3.39-.48.67-.64.29-.16.6-.23.93-.23a1.84 1.84 0 011.6.86 2 2 0 01.21.94zm-3.4 15.3V11.7h3.18v12.08h-3.19zm11.68-8.9v.04c-.15-.07-.35-.1-.5-.13-.2-.04-.36-.04-.55-.04-.89 0-1.56.26-2 .8-.48.55-.7 1.32-.7 2.31v5.93h-3.19V11.69h2.93l.1 1.83c.32-.64.7-1.12 1.24-1.48a3.1 3.1 0 011.81-.5c.23 0 .45.02.64.06.1.03.16.03.22.06v3.2zm1.28 8.9V6.74h3.18v6.5c.45-.58.96-1.03 1.6-1.38a5.02 5.02 0 016.08 1.31 6.55 6.55 0 011.6 4.49 6.96 6.96 0 01-1.66 4.58 5.3 5.3 0 01-4.08 1.86 4.3 4.3 0 01-3.7-1.92l-.1 1.57-2.92.03zm6.15-2.52c.57 0 1.08-.16 1.56-.45.44-.32.8-.74 1.08-1.25.26-.51.38-1.12.38-1.8 0-.67-.12-1.28-.38-1.79a3.75 3.75 0 00-1.08-1.25 2.95 2.95 0 00-3.12 0c-.45.32-.8.74-1.09 1.25a4.01 4.01 0 00-.38 1.8 3.42 3.42 0 001.47 3.04c.47.29.98.45 1.56.45zm7.51 2.53V11.69h2.93l.1 1.57a3.96 3.96 0 013.54-1.89 4.1 4.1 0 013.82 2.44c.35.76.54 1.7.54 2.75v7.24h-3.19v-6.82c0-.84-.19-1.5-.57-1.99-.38-.48-.9-.74-1.56-.74-.48 0-.9.1-1.27.32-.35.23-.64.52-.86.93a2.7 2.7 0 00-.32 1.35v6.92h-3.16zm12.52 0V6.73h3.19v6.5a4.67 4.67 0 013.73-1.89 5.02 5.02 0 013.95 1.83 6.57 6.57 0 011.59 4.48 6.95 6.95 0 01-1.66 4.58 5.3 5.3 0 01-4.08 1.86 4.3 4.3 0 01-3.7-1.92l-.09 1.57-2.93.03zm6.18-2.53c.58 0 1.09-.16 1.56-.45.45-.32.8-.74 1.09-1.25.25-.51.38-1.12.38-1.8a3.42 3.42 0 00-1.47-3.04 2.95 2.95 0 00-3.12 0c-.44.32-.8.74-1.08 1.25a3.63 3.63 0 00-.38 1.8 3.42 3.42 0 001.47 3.04c.47.29.95.45 1.55.45z\"></path>\r\n                  </svg>\r\n                </div>\r\n              </a>\r\n            </div>\r\n            <div className=\"flex-initial\">\r\n              <div className=\"flex justify-end items-center relative\">\r\n                <div className=\"inline relative\">\r\n                  <div className=\"block flex-grow-0 flex-shrink-0\">\r\n                    <img\r\n                      className=\"rounded-xl w-8 h-8 border border-yellow-300 shadow\"\r\n                      src=\"https://media-exp1.licdn.com/dms/image/C5603AQGEQ6ydraNeww/profile-displayphoto-shrink_200_200/0/1623517758261?e=1629331200&v=beta&t=mhUiw4p21E9okkvInvM0ry8lmLsT6s5ppWMKo6kFs2M\"\r\n                      alt=''\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </nav>\r\n          <div className=\"px-3 rounded-lg  flex flex-col w-full\">\r\n            <h4 className=\"text-white text-xl font-semibold  leading-tight truncate\">\r\n              Loremipsum Title\r\n            </h4>\r\n            <div className=\"flex justify-between items-center \">\r\n              <div className=\"flex flex-col\">\r\n                <h2 className=\"text-sm flex items-center text-gray-100 font-normal\">\r\n                  <svg\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    className=\"h-4 w-4 mr-1\"\r\n                    fill=\"none\"\r\n                    viewBox=\"0 0 24 24\"\r\n                    stroke=\"currentColor\"\r\n                  >\r\n                    <path\r\n                      stroke-linecap=\"round\"\r\n                      stroke-linejoin=\"round\"\r\n                      stroke-width=\"2\"\r\n                      d=\"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z\"\r\n                    ></path>\r\n                    <path\r\n                      stroke-linecap=\"round\"\r\n                      stroke-linejoin=\"round\"\r\n                      stroke-width=\"2\"\r\n                      d=\"M15 11a3 3 0 11-6 0 3 3 0 016 0z\"\r\n                    ></path>\r\n                  </svg>\r\n                  Massive Dynamic\r\n                </h2>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"flex items-center justify-between mt-3 px-3 z-10\">\r\n            <div className=\"relative w-full\">\r\n              <input\r\n                type=\"text\"\r\n                className=\"bg-purple-white shadow rounded-xl border-0 p-3 w-full\"\r\n                placeholder=\"Search somthing...\"\r\n              />\r\n              <div className=\"absolute top-0 right-0 p-4 pr-3 text-purple-lighter\">\r\n                <svg\r\n                  xmlns=\"http://www.w3.org/2000/svg\"\r\n                  className=\"h-5 w-5\"\r\n                  fill=\"none\"\r\n                  viewBox=\"0 0 24 24\"\r\n                  stroke=\"currentColor\"\r\n                >\r\n                  <path\r\n                    stroke-linecap=\"round\"\r\n                    stroke-linejoin=\"round\"\r\n                    stroke-width=\"2\"\r\n                    d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\"\r\n                  ></path>\r\n                </svg>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\" p-3 space-y-4 z-0\">\r\n          <h4 className=\"font-semibold mt-2\">Category</h4>\r\n          <div className=\"flex items-center justify-between overflow-y-scroll text-gray-500 cursor-pointer space-x-3\">\r\n            <div className=\"flex flex-col items-center justify-center w-20  h-20  bg-green-200 rounded-2xl text-green-600 shadow hover:shadow-md cursor-pointer mb-2 p-1 bg-white transition ease-in duration-300\">\r\n              <i className=\"far fa-hotel\"></i>\r\n              <p className=\"text-sm mt-1\">Hotel</p>\r\n            </div>\r\n            <div className=\"flex flex-col items-center justify-center w-20  h-20  bg-yellow-200 rounded-2xl text-yellow-600  shadow hover:shadow-md cursor-pointer mb-2 p-1 bg-white transition ease-in duration-300\">\r\n              <i className=\"far fa-bus\"></i>\r\n              <p className=\"text-sm mt-1\">Bus</p>\r\n            </div>\r\n\r\n            <div className=\"flex flex-col items-center justify-center w-20  h-20  bg-indigo-200  rounded-2xl  text-indigo-500 shadow hover:shadow-md cursor-pointer mb-2 p-1 bg-white transition ease-in duration-300\">\r\n              <i className=\"far fa-mountains\"></i>\r\n              <p className=\"text-sm mt-1\">Hills</p>\r\n            </div>\r\n            <div className=\"flex flex-col items-center justify-center w-20  h-20  bg-pink-200   rounded-2xl text-pink-500 shadow hover:shadow-md cursor-pointer mb-2 p-1 bg-white transition ease-in duration-300\">\r\n              <i className=\"far fa-umbrella-beach\"></i>\r\n              <p className=\"text-sm mt-1\">Beach</p>\r\n            </div>\r\n          </div>\r\n          <h4 className=\"font-semibold\">Recomented Hotels</h4>\r\n          <div className=\"grid m-0  grid-cols-2  space-x-4 overflow-y-scroll flex justify-center items-center w-full \">\r\n            <div\r\n              className=\"relative flex flex-col justify-between   bg-white shadow-md rounded-3xl  bg-cover text-gray-800  overflow-hidden cursor-pointer w-full object-cover object-center rounded-lg shadow-md h-64 my-2\"\r\n            >\r\n              <div className=\"absolute bg-gradient-to-t from-green-400 to-blue-400  opacity-50 inset-0 z-0\"></div>\r\n              <div className=\"relative flex flex-row items-end  h-72 w-full \">\r\n                <div className=\"absolute right-0 top-0 m-2\">\r\n                  <svg\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    className=\"h-9 w-9 p-2 text-gray-200 hover:text-blue-400 rounded-full hover:bg-white transition ease-in duration-200 \"\r\n                    fill=\"none\"\r\n                    viewBox=\"0 0 24 24\"\r\n                    stroke=\"currentColor\"\r\n                  >\r\n                    <path\r\n                      stroke-linecap=\"round\"\r\n                      stroke-linejoin=\"round\"\r\n                      stroke-width=\"2\"\r\n                      d=\"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z\"\r\n                    ></path>\r\n                  </svg>\r\n                </div>\r\n                <div className=\"p-6 rounded-lg  flex flex-col w-full z-10 \">\r\n                  <h4 className=\"mt-1 text-white text-xl font-semibold  leading-tight truncate\">\r\n                    Loremipsum..\r\n                  </h4>\r\n                  <div className=\"flex justify-between items-center \">\r\n                    <div className=\"flex flex-col\">\r\n                      <h2 className=\"text-sm flex items-center text-gray-300 font-normal\">\r\n                        <svg\r\n                          xmlns=\"http://www.w3.org/2000/svg\"\r\n                          className=\"h-4 w-4 mr-1\"\r\n                          fill=\"none\"\r\n                          viewBox=\"0 0 24 24\"\r\n                          stroke=\"currentColor\"\r\n                        >\r\n                          <path\r\n                            stroke-linecap=\"round\"\r\n                            stroke-linejoin=\"round\"\r\n                            stroke-width=\"2\"\r\n                            d=\"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z\"\r\n                          ></path>\r\n                          <path\r\n                            stroke-linecap=\"round\"\r\n                            stroke-linejoin=\"round\"\r\n                            stroke-width=\"2\"\r\n                            d=\"M15 11a3 3 0 11-6 0 3 3 0 016 0z\"\r\n                          ></path>\r\n                        </svg>\r\n                        Dubai\r\n                      </h2>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"flex pt-4  text-sm text-gray-300\">\r\n                    <div className=\"flex items-center mr-auto\">\r\n                      <svg\r\n                        xmlns=\"http://www.w3.org/2000/svg\"\r\n                        className=\"h-5 w-5 text-yellow-500 mr-1\"\r\n                        viewBox=\"0 0 20 20\"\r\n                        fill=\"currentColor\"\r\n                      >\r\n                        <path d=\"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z\"></path>\r\n                      </svg>\r\n                      <p className=\"font-normal\">4.5</p>\r\n                    </div>\r\n                    <div className=\"flex items-center font-medium text-white \">\r\n                      $1800\r\n                      <span className=\"text-gray-300 text-sm font-normal\">\r\n                        {\" \"}\r\n                        /wk\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div\r\n              className=\"relative flex flex-col justify-between   bg-white shadow-md  rounded-3xl  bg-cover text-gray-800  overflow-hidden cursor-pointer w-full object-cover object-center rounded-lg shadow-md h-64 my-2\"\r\n            >\r\n              <div className=\"absolute bg-gradient-to-t from-blue-500 to-yellow-400  opacity-50 inset-0 z-0\"></div>\r\n              <div className=\"relative flex flex-row items-end  h-72 w-full \">\r\n                <div className=\"absolute right-0 top-0 m-2\">\r\n                  <svg\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    className=\"h-9 w-9 p-2 text-gray-200 hover:text-blue-400 rounded-full hover:bg-white transition ease-in duration-200 \"\r\n                    fill=\"none\"\r\n                    viewBox=\"0 0 24 24\"\r\n                    stroke=\"currentColor\"\r\n                  >\r\n                    <path\r\n                      stroke-linecap=\"round\"\r\n                      stroke-linejoin=\"round\"\r\n                      stroke-width=\"2\"\r\n                      d=\"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z\"\r\n                    ></path>\r\n                  </svg>\r\n                </div>\r\n                <div className=\"p-5 rounded-lg  flex flex-col w-full z-10 \">\r\n                  <h4 className=\"mt-1 text-white text-xl font-semibold  leading-tight truncate\">\r\n                    Loremipsum..\r\n                  </h4>\r\n                  <div className=\"flex justify-between items-center \">\r\n                    <div className=\"flex flex-col\">\r\n                      <h2 className=\"text-sm flex items-center text-gray-300 font-normal\">\r\n                        <svg\r\n                          xmlns=\"http://www.w3.org/2000/svg\"\r\n                          className=\"h-4 w-4 mr-1\"\r\n                          fill=\"none\"\r\n                          viewBox=\"0 0 24 24\"\r\n                          stroke=\"currentColor\"\r\n                        >\r\n                          <path\r\n                            stroke-linecap=\"round\"\r\n                            stroke-linejoin=\"round\"\r\n                            stroke-width=\"2\"\r\n                            d=\"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z\"\r\n                          ></path>\r\n                          <path\r\n                            stroke-linecap=\"round\"\r\n                            stroke-linejoin=\"round\"\r\n                            stroke-width=\"2\"\r\n                            d=\"M15 11a3 3 0 11-6 0 3 3 0 016 0z\"\r\n                          ></path>\r\n                        </svg>\r\n                        India\r\n                      </h2>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"flex pt-4  text-sm text-gray-300\">\r\n                    <div className=\"flex items-center mr-auto\">\r\n                      <svg\r\n                        xmlns=\"http://www.w3.org/2000/svg\"\r\n                        className=\"h-5 w-5 text-yellow-500 mr-1\"\r\n                        viewBox=\"0 0 20 20\"\r\n                        fill=\"currentColor\"\r\n                      >\r\n                        <path d=\"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z\"></path>\r\n                      </svg>\r\n                      <p className=\"font-normal\">4.5</p>\r\n                    </div>\r\n                    <div className=\"flex items-center font-medium text-white \">\r\n                      $1800\r\n                      <span className=\"text-gray-300 text-sm font-normal\">\r\n                        {\" \"}\r\n                        /wk\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <h4 className=\"font-semibold\">Suggested By</h4>\r\n          <div className=\"grid grid-cols-1\">\r\n            <div className=\"\">\r\n              <div className=\"flex  bg-white shadow-md  rounded-2xl p-2\">\r\n                <img\r\n                  src=\"https://images.unsplash.com/photo-1439130490301-25e322d88054?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1189&q=80\"\r\n                  alt=\"Just a flower\"\r\n                  className=\" w-16  object-cover  h-16 rounded-xl\"\r\n                />\r\n                <div className=\"flex flex-col justify-center w-full px-2 py-1\">\r\n                  <div className=\"flex justify-between items-center \">\r\n                    <div className=\"flex flex-col\">\r\n                      <h2 className=\"text-sm font-medium\">Massive Dynamic</h2>\r\n                    </div>\r\n                    <svg\r\n                      xmlns=\"http://www.w3.org/2000/svg\"\r\n                      className=\"h-5 w-5 text-gray-500 hover:text-blue-400 cursor-pointer\"\r\n                      fill=\"none\"\r\n                      viewBox=\"0 0 24 24\"\r\n                      stroke=\"currentColor\"\r\n                    >\r\n                      <path\r\n                        stroke-linecap=\"round\"\r\n                        stroke-linejoin=\"round\"\r\n                        stroke-width=\"2\"\r\n                        d=\"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z\"\r\n                      ></path>\r\n                    </svg>\r\n                  </div>\r\n                  <div className=\"flex pt-2  text-sm text-gray-400\">\r\n                    <div className=\"flex items-center mr-auto\">\r\n                      <svg\r\n                        xmlns=\"http://www.w3.org/2000/svg\"\r\n                        className=\"h-5 w-5 text-yellow-500 mr-1\"\r\n                        viewBox=\"0 0 20 20\"\r\n                        fill=\"currentColor\"\r\n                      >\r\n                        <path d=\"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z\"></path>\r\n                      </svg>\r\n                      <p className=\"font-normal\">4.5</p>\r\n                    </div>\r\n                    <div className=\"flex items-center font-medium text-gray-900 \">\r\n                      $1800\r\n                      <span className=\"text-gray-400 text-sm font-normal\">\r\n                        {\" \"}\r\n                        /wk\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"sticky bottom-2  p-5 px-6 m-2   flex items-center justify-between   bg-gray-900 shadow-3xl text-gray-400 rounded-2xl cursor-pointer\">\r\n          <div className=\"flex flex-col items-center transition ease-in duration-200 hover:text-blue-400 \">\r\n            <svg\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              className=\"h-6 w-6\"\r\n              fill=\"none\"\r\n              viewBox=\"0 0 24 24\"\r\n              stroke=\"currentColor\"\r\n            >\r\n              <path\r\n                stroke-linecap=\"round\"\r\n                stroke-linejoin=\"round\"\r\n                stroke-width=\"2\"\r\n                d=\"M17 14v6m-3-3h6M6 10h2a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v2a2 2 0 002 2zm10 0h2a2 2 0 002-2V6a2 2 0 00-2-2h-2a2 2 0 00-2 2v2a2 2 0 002 2zM6 20h2a2 2 0 002-2v-2a2 2 0 00-2-2H6a2 2 0 00-2 2v2a2 2 0 002 2z\"\r\n              ></path>\r\n            </svg>\r\n          </div>\r\n          <div className=\"flex flex-col items-center transition ease-in duration-200 hover:text-blue-400 \">\r\n            <svg\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              className=\"h-6 w-6\"\r\n              fill=\"none\"\r\n              viewBox=\"0 0 24 24\"\r\n              stroke=\"currentColor\"\r\n            >\r\n              <path\r\n                stroke-linecap=\"round\"\r\n                stroke-linejoin=\"round\"\r\n                stroke-width=\"2\"\r\n                d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\"\r\n              ></path>\r\n            </svg>\r\n          </div>\r\n          <div className=\"flex flex-col items-center transition ease-in duration-200 hover:text-blue-400 \">\r\n            <svg\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              className=\"h-6 w-6\"\r\n              fill=\"none\"\r\n              viewBox=\"0 0 24 24\"\r\n              stroke=\"currentColor\"\r\n            >\r\n              <path\r\n                stroke-linecap=\"round\"\r\n                stroke-linejoin=\"round\"\r\n                stroke-width=\"2\"\r\n                d=\"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z\"\r\n              ></path>\r\n            </svg>\r\n          </div>\r\n          <div className=\"flex flex-col items-center transition ease-in duration-200 hover:text-blue-400 \">\r\n            <svg\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              className=\"h-6 w-6\"\r\n              fill=\"none\"\r\n              viewBox=\"0 0 24 24\"\r\n              stroke=\"currentColor\"\r\n            >\r\n              <path\r\n                stroke-linecap=\"round\"\r\n                stroke-linejoin=\"round\"\r\n                stroke-width=\"2\"\r\n                d=\"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z\"\r\n              ></path>\r\n            </svg>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TestMobil;\r\n\r\n// <style>\r\n// \t::-webkit-scrollbar {\r\n// \t\twidth: 0;\r\n// \t}\r\n//\r\n// \t::-webkit-scrollbar-track {\r\n// \t\t-webkit-box-shadow: inset 0 0 0px rgba(0, 0, 0, 0.3);\r\n// \t}\r\n//\r\n// \t::-webkit-scrollbar-thumb {\r\n// \t\tbackground-color: transparent;\r\n// \t\toutline: 1px solid transparent;\r\n// \t}\r\n// </style>\r\n","    import instance from \"./_instance\";\r\n// Create instance called instance\r\n\r\nfunction show() {\r\n  return new Promise((ok, reject) => {\r\n    instance.get(\"/banco\").then(\r\n      (res) => {\r\n        ok(res.data);\r\n      },\r\n      (bad) => {\r\n        reject(new Error(\"bad request\"));\r\n      }\r\n    );\r\n  });\r\n}\r\n\r\nfunction find(id) {\r\n  return new Promise((resolve, reject) => {\r\n    instance.get(\"banco/\" + id).then((res) => {\r\n      resolve(res.data);\r\n    });\r\n  });\r\n}\r\n\r\nfunction create(data) {\r\n  return new Promise((resolve, reject) => {\r\n    instance\r\n      .post(\"banco\", data)\r\n      .then((res) => {\r\n        resolve(res.data);\r\n      })\r\n      .catch((error) => {\r\n        if (error.response) {\r\n          resolve(error.response.data);\r\n        }\r\n      });\r\n  });\r\n}\r\n\r\nfunction update(data, id) {\r\n  const empresa_id = data.empresa_id;\r\n  return new Promise((resolve, reject) => {\r\n    instance.put(\"banco/\" + empresa_id + \"/\" + id, data).then((res) => {\r\n      resolve(res.data);\r\n    });\r\n  });\r\n}\r\n\r\nexport default { show, find, create, update };\r\n","import * as yup from \"yup\";\r\n\r\nconst schema = yup\r\n  .object()\r\n  .required();\r\n\r\nexport default schema;\r\n","import React, { useEffect, useState, useContext } from \"react\";\r\nimport { useNavigate, useLocation } from \"react-router-dom\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { Form, Button, Message, Segment } from \"semantic-ui-react\";\r\nimport { yupResolver } from \"@hookform/resolvers/yup\";\r\nimport bancoService from \"../../services/bancos\";\r\nimport FormFielController from \"../FormFieldController\";\r\nimport schema from \"./schema\";\r\nimport handleBackendErrors from \"../../libs/handleBackendErrors\";\r\nimport EmpresaContext from \"../../context/EmpresaContext\";\r\nimport FormFielDropdownSarch from \"../DropdownSearch2\";\r\nimport setting from \"../../libs/settingDropdowns\";\r\n\r\nconst FormularioBanco = ({ state }) => {\r\n  let navigate = useNavigate();\r\n  let location = useLocation();\r\n  const { empresa } = useContext(EmpresaContext);\r\n\r\n  const [isLoadding, setIsloadding] = useState(false);\r\n  const [isBackendError, setIsBackendError] = useState(false);\r\n  const {\r\n    control,\r\n    handleSubmit,\r\n    formState: { errors },\r\n    reset,\r\n    setValue,\r\n    watch,\r\n  } = useForm({ resolver: yupResolver(schema), defaultValues: state });\r\n\r\n  const [data, setData] = useState();\r\n  const watcher = watch();\r\n  useEffect(() => {\r\n    (async () => {\r\n      if (!!state && state.id) {\r\n        let data = await bancoService.find(state.id);\r\n        return setData(data.data);\r\n      } else {\r\n        return false;\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  const close = (moneda) => {\r\n    navigate(location.state.backgroundLocation.pathname, {\r\n      state: { reload: { moneda_id: moneda } },\r\n    });\r\n  };\r\n\r\n  const onSubmit = async (data) => {\r\n    setIsloadding(true);\r\n    if (!!data && data.id) {\r\n      // update\r\n      const update = await bancoService.update(data, data.id);\r\n      close(update);\r\n      // verificar si es la empresa actual en el contexto del la instancia de local/empresa\r\n    } else {\r\n      //create\r\n      const create = await bancoService.create(data);\r\n      setIsloadding(false);\r\n      if (create?.errors) {\r\n        setIsBackendError(handleBackendErrors(create));\r\n      } else {\r\n        setIsBackendError(null);\r\n        close(create);\r\n      }\r\n      return create;\r\n    }\r\n  };\r\n  return (\r\n    <Form onSubmit={handleSubmit(onSubmit)} noValidate>\r\n      <Form.Group>\r\n        <FormFielDropdownSarch\r\n          model={setting.listado_bancos}\r\n          empresaContexto={empresa}\r\n          control={control}\r\n          setValue={setValue}\r\n          venta={watcher}\r\n          width={16}\r\n        />\r\n        <FormFielController\r\n          name={\"numero_cuenta\"}\r\n          title={\"Número de Cuenta\"}\r\n          control={control}\r\n          errors={errors}\r\n          width={16}\r\n        />\r\n      </Form.Group>\r\n\r\n      {Object.keys(errors)?.length ? (\r\n        <>\r\n          <Message\r\n            color=\"orange\"\r\n            header=\"Advertencia\"\r\n            list={[\r\n              \"Verifique que todos los campos requeridos esten completos.\",\r\n            ]}\r\n          />\r\n          <Segment>{JSON.stringify(errors, null, 2)}</Segment>\r\n        </>\r\n      ) : (\r\n        <></>\r\n      )}\r\n\r\n      {isBackendError?.length && (\r\n        <Message\r\n          color=\"red\"\r\n          header=\"Verifique los siguientes campos\"\r\n          list={isBackendError}\r\n        />\r\n      )}\r\n\r\n      <Button\r\n        loading={isLoadding}\r\n        disabled={isLoadding}\r\n        content=\"Guardar\"\r\n        primary\r\n      />\r\n      <Button\r\n        as=\"a\"\r\n        content=\"Deshacer Cambios\"\r\n        secondary\r\n        onClick={() => {\r\n          reset(state);\r\n        }}\r\n      />\r\n    </Form>\r\n  );\r\n};\r\n\r\nexport default FormularioBanco;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport {\r\n  Button,\r\n  Card,\r\n  Container,\r\n  Grid,\r\n  Header,\r\n  Label,\r\n  List,\r\n  Segment,\r\n} from \"semantic-ui-react\";\r\nimport moneda from \"../../services/moneda\";\r\n\r\nimport EmpresaContext from \"../../context/EmpresaContext\";\r\nimport { Link, useLocation } from \"react-router-dom\";\r\n\r\nconst Utilidades = () => {\r\n  const location = useLocation();\r\n  const { empresa } = useContext(EmpresaContext);\r\n  const [monedas, setMonedas] = useState([]);\r\n\r\n  let getMonedas = async (empresa_id) => {\r\n    let monedas = await moneda.show(empresa_id);\r\n    setMonedas(monedas.data);\r\n  };\r\n\r\n  useEffect(() => {\r\n    getMonedas(empresa.empresa.id);\r\n  }, [location.state?.reload?.moneda_id]);\r\n\r\n  return (\r\n    <>\r\n      <Container>\r\n        <Grid.Column width={16} style={{ marginTop: \"10px\", padding: 10 }}>\r\n          <Grid.Row>\r\n            <Header as=\"h1\">Utilidad</Header>\r\n          </Grid.Row>\r\n          <Grid.Row style={{ marginTop: \"10px\" }}>\r\n            <Card.Group>\r\n              <Card>\r\n                <Card.Content>\r\n                  <Card.Header>\r\n                    <Header>Monedas</Header>\r\n                    <Link\r\n                      className=\"button ui mini\"\r\n                      to={\"/welcome/moneda/create\"}\r\n                      state={{\r\n                        backgroundLocation: location,\r\n                        model: {\r\n                          local_id: empresa.id,\r\n                          empresa_id: empresa.empresa.id,\r\n                        },\r\n                      }}\r\n                    >\r\n                      Nuevo\r\n                    </Link>\r\n                  </Card.Header>\r\n                </Card.Content>\r\n                <Card.Content>\r\n                  <List divided verticalAlign=\"middle\">\r\n                    {monedas.map((v, index) => (\r\n                      <List.Item key={index}>\r\n                        <List.Content floated=\"right\">\r\n                          <Link\r\n                            className=\"button ui mini\"\r\n                            to={\"/welcome/moneda/\" + v.id}\r\n                            state={{\r\n                              backgroundLocation: location,\r\n                              model: v,\r\n                              empresaContexto: empresa,\r\n                            }}\r\n                          >\r\n                            Editar\r\n                          </Link>\r\n                        </List.Content>\r\n                        <List.Content>\r\n                          <Label circular color={\"\"}>\r\n                            {v.simbolo}\r\n                          </Label>\r\n                          &nbsp;&nbsp;\r\n                          {v.nombre}\r\n                        </List.Content>\r\n                      </List.Item>\r\n                    ))}\r\n                  </List>\r\n                </Card.Content>\r\n              </Card>\r\n            </Card.Group>\r\n          </Grid.Row>\r\n        </Grid.Column>\r\n      </Container>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Utilidades;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport Header from \"../partials/Header\";\r\n\r\nimport { useState } from \"react\";\r\nimport { Navigate } from \"react-router-dom\";\r\n\r\nimport useUser from \"../hooks/useUser\";\r\n\r\nfunction SignIn() {\r\n  const [form, setForm] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n  });\r\n\r\n  const { login, isLogged, isLoginLoading, hasLoginError } = useUser();\r\n\r\n  const handleForm = (e) => {\r\n    const input = {};\r\n    input[e.target.name] = e.target.value;\r\n    setForm({ ...form, ...input });\r\n  };\r\n\r\n  const handleLogin = (e) => {\r\n    e.preventDefault();\r\n    login(form);\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex flex-col min-h-screen overflow-hidden\">\r\n      {/*  Site header */}\r\n      <Header />\r\n\r\n      {/*  Page content */}\r\n      <main className=\"flex-grow\">\r\n        <section className=\"bg-gradient-to-b from-gray-100 to-white\">\r\n          <div className=\"max-w-6xl mx-auto px-4 sm:px-6\">\r\n            <div className=\"pt-32 pb-12 md:pt-40 md:pb-20\">\r\n              {/* Page header */}\r\n              <div className=\"max-w-3xl mx-auto text-center pb-12 md:pb-20\">\r\n                <h1 className=\"h1\">Inicia sesión </h1>\r\n              </div>\r\n\r\n              {/* Form */}\r\n              <div className=\"max-w-sm mx-auto\">\r\n                <form onSubmit={handleLogin}>\r\n                  <div className=\"flex flex-wrap -mx-3 mb-4\">\r\n                    <div className=\"w-full px-3\">\r\n                      <label\r\n                        className=\"block text-gray-800 text-sm font-medium mb-1\"\r\n                        htmlFor=\"email\"\r\n                      >\r\n                        Email\r\n                      </label>\r\n                      <input\r\n                        id=\"email\"\r\n                        type=\"email\"\r\n                        className=\"form-input w-full text-gray-800\"\r\n                        placeholder=\"Ingresa tu dirección de correo\"\r\n                        name=\"email\"\r\n                        onChange={handleForm}\r\n                        value={form?.email}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"flex flex-wrap -mx-3 mb-4\">\r\n                    <div className=\"w-full px-3\">\r\n                      <div className=\"flex justify-between\">\r\n                        <label\r\n                          className=\"block text-gray-800 text-sm font-medium mb-1\"\r\n                          htmlFor=\"password\"\r\n                        >\r\n                          Contraseña\r\n                        </label>\r\n                        <Link\r\n                          to=\"reset-password\"\r\n                          className=\"text-sm font-medium text-blue-600 hover:underline\"\r\n                        >\r\n                          Recuperar contraseña\r\n                        </Link>\r\n                      </div>\r\n                      <input\r\n                        id=\"password\"\r\n                        type=\"password\"\r\n                        className=\"form-input w-full text-gray-800\"\r\n                        placeholder=\"Ingresa tu contraseña\"\r\n                        name=\"password\"\r\n                        onChange={handleForm}\r\n                        value={form?.password}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n\r\n                  {isLogged && <Navigate to=\"/welcome/empresas\" />}\r\n\r\n                  <div className=\"flex flex-wrap -mx-3 mt-6\">\r\n                    <div className=\"w-full px-3\">\r\n                      <button className=\"btn text-white bg-blue-600 hover:bg-blue-700 w-full\">\r\n                        Ingresar\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </form>\r\n\r\n                <div className=\"text-gray-600 text-center mt-6\">\r\n                  ¿Aun no tienes cuenta?{\" \"}\r\n                  <Link\r\n                    to=\"/registro\"\r\n                    className=\"text-blue-600 hover:underline transition duration-150 ease-in-out\"\r\n                  >\r\n                    Registrate\r\n                  </Link>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </section>\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SignIn;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Link, Navigate } from \"react-router-dom\";\r\nimport Header from \"../partials/Header\";\r\nimport useUser from \"../hooks/useUser\";\r\nimport handleBackendErrors from \"../libs/handleBackendErrors\";\r\nimport { Message } from \"semantic-ui-react\";\r\n\r\nfunction SignUp() {\r\n  const { register, isLogged, logout, hasLoginError } = useUser();\r\n\r\n  const [form, setForm] = useState({\r\n    name: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n    password_confirmation: \"\",\r\n  });\r\n\r\n  const handleForm = (e) => {\r\n    const input = {};\r\n    input[e.target.name] = e.target.value;\r\n    setForm({ ...form, ...input });\r\n  };\r\n\r\n  const handleRegister = (e) => {\r\n    e.preventDefault();\r\n    register(form);\r\n  };\r\n\r\n  useEffect(() => {\r\n    logout();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"flex flex-col min-h-screen overflow-hidden\">\r\n      {/*  Site header */}\r\n      <Header />\r\n\r\n      {/*  Page content */}\r\n      <main className=\"flex-grow\">\r\n        <section className=\"bg-gradient-to-b from-gray-100 to-white\">\r\n          <div className=\"max-w-6xl mx-auto px-4 sm:px-6\">\r\n            <div className=\"pt-32 pb-12 md:pt-40 md:pb-20\">\r\n              {/* Page header */}\r\n              <div className=\"max-w-3xl mx-auto text-center pb-12 md:pb-20\">\r\n                <h1 className=\"h1\">\r\n                 Completa el formulario{\" \"}\r\n                </h1>\r\n              </div>\r\n\r\n              {/* <pre>{JSON.stringify(form, null, 2)}</pre> */}\r\n\r\n              {/* Form */}\r\n              <div className=\"max-w-sm mx-auto\">\r\n                <form onSubmit={handleRegister}>\r\n                  <div className=\"flex flex-wrap -mx-3 mb-4\">\r\n                    <div className=\"w-full px-3\">\r\n                      <label\r\n                        className=\"block text-gray-800 text-sm font-medium mb-1\"\r\n                        htmlFor=\"name\"\r\n                      >\r\n                        Nombre y Apellido{\" \"}\r\n                        <span className=\"text-red-600\">*</span>\r\n                      </label>\r\n                      <input\r\n                        id=\"name\"\r\n                        name=\"name\"\r\n                        type=\"text\"\r\n                        className=\"form-input w-full text-gray-800\"\r\n                        placeholder=\"Ingrese tu Nombre y Apellido\"\r\n                        required\r\n                        onChange={handleForm}\r\n                        value={form?.name}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"flex flex-wrap -mx-3 mb-4\">\r\n                    <div className=\"w-full px-3\">\r\n                      <label\r\n                        className=\"block text-gray-800 text-sm font-medium mb-1\"\r\n                        htmlFor=\"email\"\r\n                      >\r\n                        Correo Electrónico{\" \"}\r\n                        <span className=\"text-red-600\">*</span>\r\n                      </label>\r\n                      <input\r\n                        id=\"email\"\r\n                        name=\"email\"\r\n                        type=\"email\"\r\n                        className=\"form-input w-full text-gray-800\"\r\n                        placeholder=\"Ingresa tu Correo Electrónico\"\r\n                        required\r\n                        onChange={handleForm}\r\n                        value={form?.email}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"flex flex-wrap -mx-3 mb-4\">\r\n                    <div className=\"w-full px-3\">\r\n                      <label\r\n                        className=\"block text-gray-800 text-sm font-medium mb-1\"\r\n                        htmlFor=\"password\"\r\n                      >\r\n                        Contraseña <span className=\"text-red-600\">*</span>\r\n                      </label>\r\n                      <input\r\n                        id=\"password\"\r\n                        name=\"password\"\r\n                        type=\"password\"\r\n                        className=\"form-input w-full text-gray-800\"\r\n                        placeholder=\"Ingresa tu contraseña\"\r\n                        required\r\n                        onChange={handleForm}\r\n                        value={form?.password}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"flex flex-wrap -mx-3 mb-4\">\r\n                    <div className=\"w-full px-3\">\r\n                      <label\r\n                        className=\"block text-gray-800 text-sm font-medium mb-1\"\r\n                        htmlFor=\"password_confirmation\"\r\n                      >\r\n                        Confirma tu Contraseña{\" \"}\r\n                        <span className=\"text-red-600\">*</span>\r\n                      </label>\r\n                      <input\r\n                        id=\"password_confirmation\"\r\n                        name=\"password_confirmation\"\r\n                        type=\"password\"\r\n                        className=\"form-input w-full text-gray-800\"\r\n                        placeholder=\"Confirma tu contraseña\"\r\n                        required\r\n                        onChange={handleForm}\r\n                        value={form?.password_confirmation}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"flex flex-wrap -mx-3 mt-6\">\r\n                    <div className=\"w-full px-3\">\r\n                      <button className=\"btn text-white bg-blue-600 hover:bg-blue-700 w-full\">\r\n                        Registrar\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"text-sm text-gray-500 text-center mt-3\">\r\n                    Al crear la cuenta, estas aceptando los{\" \"}\r\n                    <a className=\"underline\" href=\"#0\">\r\n                      terminos & condiciones\r\n                    </a>\r\n                    , y nuestras{\" \"}\r\n                    <a className=\"underline\" href=\"#0\">\r\n                      politicas de privacidad\r\n                    </a>\r\n                    .\r\n                  </div>\r\n                </form>\r\n\r\n                {hasLoginError && (\r\n                  <Message\r\n                    color=\"red\"\r\n                    header=\"Verifique los siguientes campos\"\r\n                    list={[\r\n                      \"Verifique que las contraseñas coincidan.\",\r\n                      \"Verifique que su email no este en uso.\",\r\n                    ]}\r\n                  />\r\n                )}\r\n                {isLogged && <Navigate to=\"/welcome/empresas\" />}\r\n                <div className=\"text-gray-600 text-center mt-6\">\r\n                  Ya posees una cuenta?{\" \"}\r\n                  <Link\r\n                    to=\"/ingresar\"\r\n                    className=\"text-blue-600 hover:underline transition duration-150 ease-in-out\"\r\n                  >\r\n                    Ingresa\r\n                  </Link>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </section>\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SignUp;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Link, Navigate, useParams, useLocation } from \"react-router-dom\";\r\nimport Header from \"../partials/Header\";\r\nimport { Message } from \"semantic-ui-react\";\r\nimport CryptoJS from \"crypto-js\";\r\nimport ventas from \"../services/ventas\";\r\nimport Rating from \"../assets/rating.png\";\r\nimport { PDFDownloadLink } from \"@react-pdf/renderer\";\r\nimport ViewFormatA4 from \"../components/ViewFormatA4\";\r\nfunction useQuery() {\r\n  const { search } = useLocation();\r\n  return React.useMemo(() => new URLSearchParams(search), [search]);\r\n}\r\n\r\nfunction Comprobante() {\r\n  const [state, setState] = useState(false);\r\n  const [search, setSearch] = useState(false);\r\n  const [venta, setVenta] = useState(false);\r\n  const query = useQuery();\r\n  const token = query.get(\"tk\");\r\n\r\n  const [form, setForm] = useState({\r\n    ruc: \"\",\r\n    documento: \"\",\r\n    serie: \"\",\r\n    correlativo: \"\",\r\n    monto: \"\",\r\n  });\r\n\r\n  const handleForm = (e) => {\r\n    const input = {};\r\n    input[e.target.name] = e.target.value;\r\n    setForm({ ...form, ...input });\r\n  };\r\n\r\n  const reset = () => {\r\n    setSearch(true);\r\n    setVenta(false);\r\n    setState(false);\r\n    setForm({\r\n      ruc: \"\",\r\n      documento: \"\",\r\n      serie: \"\",\r\n      correlativo: \"\",\r\n      monto: \"\",\r\n    });\r\n  };\r\n\r\n  const searcher = async () => {\r\n    const res = await ventas.consultarSearch(form);\r\n    if (!!res.id) {\r\n      console.log(res);\r\n      setSearch(false);\r\n      setVenta(res);\r\n      setState(true);\r\n    }\r\n  };\r\n  const download = (selected, type) => {\r\n    ventas.downloadExternal(selected, type);\r\n  };\r\n\r\n  useState(() => {\r\n    if (!!token) {\r\n      setSearch(false);\r\n      try {\r\n        const tk = token.replaceAll(\" \", \"+\");\r\n        const bytes = CryptoJS.AES.decrypt(\r\n          tk,\r\n          \"S2bBho4gEUOok7o3IFiUu4BMcGhz5wR2Eu35YTks\"\r\n        );\r\n        const desifrado = JSON.parse(bytes.toString(CryptoJS.enc.Utf8));\r\n\r\n        (async () => {\r\n          try {\r\n            const res = await ventas.consultar(desifrado);\r\n            setState(true);\r\n            setVenta(res);\r\n          } catch (error) {\r\n            setState(false);\r\n          }\r\n        })();\r\n      } catch (error) {\r\n        setState(false);\r\n        setSearch(false);\r\n      }\r\n    } else {\r\n      setSearch(true);\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"flex flex-col min-h-screen overflow-hidden\">\r\n      {/*  Site header */}\r\n      <Header />\r\n      {/*  Page content */}\r\n      <main className=\"flex-grow\">\r\n        <section className=\"bg-gradient-to-b from-gray-100 to-white\">\r\n          <div className=\"max-w-6xl mx-auto px-4 sm:px-6\">\r\n            <div className=\"pt-32 pb-12 md:pt-40 md:pb-20\">\r\n\r\n            <div className=\"max-w-3xl mx-auto text-center pb-12 md:pb-20\">\r\n                <h1 className=\"h1\">\r\n                  Consulta de comprobante\r\n                </h1>\r\n              </div>\r\n              {/* Form */}\r\n\r\n              {search ? (\r\n                <SearchFormComprobante\r\n                  handleForm={handleForm}\r\n                  model={form}\r\n                  searcher={searcher}\r\n                />\r\n              ) : state ? (\r\n                <div className=\"max-w-sm mx-auto\">\r\n                  <div className=\"flex flex-wrap -mx-3 \">\r\n                    <div className=\"w-full px-3\">\r\n                      {/* 1st item */}\r\n                      <div className=\"relative flex flex-col items-center p-6 bg-white rounded shadow-xl\">\r\n                        <h4 className=\"text-xl font-bold leading-snug tracking-tight mb-1\">\r\n                          Comprobante Válido ✅\r\n                        </h4>\r\n                        <pre>\r\n                          Documento: {venta?.serie?.descripcion}{\" \"}\r\n                          {venta?.serie?.serie} {venta?.correlativo}\r\n                        </pre>\r\n                        <pre>Cliente: {venta?.cliente?.nombre_comercial}</pre>\r\n                        <pre>\r\n                          Monto Total: {venta?.moneda?.simbolo}{\" \"}\r\n                          {venta?.total_documento?.toFixed(2)} {\"(\"}\r\n                          {venta?.moneda?.iso}\r\n                          {\")\"}\r\n                        </pre>\r\n\r\n                        <pre>Observación:</pre>\r\n                        {/* <span className=\"text-gray-600\" dangerouslySetInnerHTML={{__html: venta?.detalle.replaceAll('<br/>', '\\n')}} ></span> */}\r\n                        <pre>{venta?.detalle}</pre>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  {venta.sunat_status === \"ACEPTADA\" && (\r\n                    <>\r\n                      <div className=\"flex flex-wrap -mx-3 mt-6\">\r\n                        <div className=\"w-full px-3\">\r\n                          <button\r\n                            onClick={() => {\r\n                              download(venta, \"xml\");\r\n                            }}\r\n                            className=\"btn text-white bg-blue-600 hover:bg-blue-700 w-full\"\r\n                          >\r\n                            Descargar XML\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div className=\"flex flex-wrap -mx-3 mt-6\">\r\n                        <div className=\"w-full px-3\">\r\n                          <button\r\n                            onClick={() => {\r\n                              download(venta, \"cdn\");\r\n                            }}\r\n                            className=\"btn text-white bg-blue-600 hover:bg-blue-700 w-full\"\r\n                          >\r\n                            Descargar CDN\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                    </>\r\n                  )}\r\n\r\n                  <div className=\"flex flex-wrap -mx-3 mt-6\">\r\n                    <div className=\"w-full px-3\">\r\n                      <button\r\n                        onClick={reset}\r\n                        className=\"btn text-white bg-green-600 hover:bg-green-700 w-full\"\r\n                      >\r\n                        Buscar otro Documento\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ) : (\r\n                <div className=\"max-w-sm mx-auto\">\r\n                  <div className=\"flex flex-wrap -mx-3 \">\r\n                    <div className=\"w-full px-3\">\r\n                      {/* 1st item */}\r\n                      <div className=\"relative flex flex-col items-center p-6 bg-white rounded shadow-xl\">\r\n                        <h4 className=\"text-xl font-bold leading-snug tracking-tight mb-1\">\r\n                          Comprobante Error ❌\r\n                        </h4>\r\n                        <pre>Documento no encontrado</pre>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"flex flex-wrap -mx-3 mt-6\">\r\n                    <div className=\"w-full px-3\">\r\n                      <button\r\n                        onClick={reset}\r\n                        className=\"btn text-white bg-green-600 hover:bg-green-700 w-full\"\r\n                      >\r\n                        Buscar Otro Documento\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </section>\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst SearchFormComprobante = ({ model, handleForm, searcher }) => {\r\n  return (\r\n    <div className=\"max-w-sm mx-auto\">\r\n      <div className=\"flex flex-wrap -mx-3 mb-4\">\r\n        <div className=\"w-full px-3\">\r\n          <label\r\n            className=\"block text-gray-800 text-sm font-medium mb-1\"\r\n            htmlFor=\"name\"\r\n          >\r\n            Nro Documento Empresa Emisora\r\n            <span className=\"text-red-600\">*</span>\r\n          </label>\r\n          <input\r\n            id=\"ruc\"\r\n            name=\"ruc\"\r\n            type=\"text\"\r\n            className=\"form-input w-full text-gray-800\"\r\n            placeholder=\"RUC/RIF/RUN Empresa emisora\"\r\n            required\r\n            onChange={handleForm}\r\n            value={model?.name}\r\n          />\r\n        </div>\r\n        <div className=\"w-full px-3\">\r\n          <label\r\n            className=\"block text-gray-800 text-sm font-medium mb-1\"\r\n            htmlFor=\"name\"\r\n          >\r\n            Tipo de Documento <span className=\"text-red-600\">*</span>\r\n          </label>\r\n          <input\r\n            id=\"documento\"\r\n            name=\"documento\"\r\n            type=\"text\"\r\n            className=\"form-input w-full text-gray-800\"\r\n            placeholder=\"FA/BO/CT/GR de tu documento a Consultar\"\r\n            required\r\n            onChange={handleForm}\r\n            value={model?.name}\r\n          />\r\n        </div>\r\n        <div className=\"w-full px-3\">\r\n          <label\r\n            className=\"block text-gray-800 text-sm font-medium mb-1\"\r\n            htmlFor=\"name\"\r\n          >\r\n            Serie<span className=\"text-red-600\">*</span>\r\n          </label>\r\n          <input\r\n            id=\"serie\"\r\n            name=\"serie\"\r\n            type=\"text\"\r\n            className=\"form-input w-full text-gray-800\"\r\n            placeholder=\"B001/F001/CT01/GR01 de tu documento a Consultar\"\r\n            required\r\n            onChange={handleForm}\r\n            value={model?.name}\r\n          />\r\n        </div>\r\n        <div className=\"w-full px-3\">\r\n          <label\r\n            className=\"block text-gray-800 text-sm font-medium mb-1\"\r\n            htmlFor=\"name\"\r\n          >\r\n            Correlativo<span className=\"text-red-600\">*</span>\r\n          </label>\r\n          <input\r\n            id=\"correlativo\"\r\n            name=\"correlativo\"\r\n            type=\"text\"\r\n            className=\"form-input w-full text-gray-800\"\r\n            placeholder=\"Ingresa el correlativo\"\r\n            required\r\n            onChange={handleForm}\r\n            value={model?.name}\r\n          />\r\n        </div>\r\n        <div className=\"w-full px-3\">\r\n          <label\r\n            className=\"block text-gray-800 text-sm font-medium mb-1\"\r\n            htmlFor=\"name\"\r\n          >\r\n            Monto Total<span className=\"text-red-600\">*</span>\r\n          </label>\r\n          <input\r\n            id=\"monto\"\r\n            name=\"monto\"\r\n            type=\"text\"\r\n            className=\"form-input w-full text-gray-800\"\r\n            placeholder=\"Ingresa el Monto Total\"\r\n            required\r\n            onChange={handleForm}\r\n            value={model?.name}\r\n          />\r\n        </div>\r\n      </div>\r\n      <div className=\"flex flex-wrap -mx-3 mt-6\">\r\n        <div className=\"w-full px-3\">\r\n          <button\r\n            onClick={() => searcher(model)}\r\n            className=\"btn text-white bg-blue-600 hover:bg-blue-700 w-full\"\r\n          >\r\n            Buscar Comprobante\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Comprobante;\r\n","import React, { useEffect } from \"react\";\r\n\r\nimport {\r\n  Routes,\r\n  Route,\r\n  Link,\r\n  useLocation,\r\n  useNavigate,\r\n} from \"react-router-dom\";\r\n\r\nimport Home from \"./pages/Home\";\r\nimport LayoutDashboard from \"./pages/Dashboard/_Layout\";\r\nimport LayoutWelcome from \"./pages/Welcome/Layout\";\r\nimport Login from \"./pages/Login.jsx\";\r\nimport Welcome from \"./pages/Welcome/Welcome.jsx\";\r\nimport ModalRouter from \"./components/ModalRouter.jsx\";\r\n\r\nimport Dashboard from \"./pages/Dashboard/Dashboard\";\r\nimport Ventas from \"./pages/Dashboard/Ventas\";\r\n\r\n/**\r\n * Modeles\r\n */\r\n\r\nimport FormularioEmpresa from \"./components/empresa/formulario\";\r\nimport FormularioLocal from \"./components/local/formulario\";\r\nimport FormularioCliente from \"./components/cliente/formulario\";\r\nimport FormularioMoneda from \"./components/moneda/formulario\";\r\nimport FormularioVehiculo from \"./components/vehiculo/formulario\";\r\nimport FormularioVenta from \"./components/ventas/formulario\";\r\nimport FormularioProducto from \"./components/producto/formulario\";\r\n\r\nimport LayoutFullScreen from \"./pages/Dashboard/_LayoutFullScreen\";\r\nimport Contactos from \"./pages/Dashboard/Contactos\";\r\nimport Productos from \"./pages/Dashboard/Productos\";\r\nimport FormularioPrecio from \"./components/precio/formulario\";\r\nimport { useState } from \"react\";\r\nimport { VentaContextProvider } from \"./context/VentaContext\";\r\nimport FormularioEmail from \"./components/email/formulario\";\r\nimport Reports from \"./pages/Dashboard/Reports\";\r\nimport FormularioReportVenta from \"./components/ventas/report\";\r\nimport Compras from \"./pages/Dashboard/Compras\";\r\nimport FormularioCompra from \"./components/compras/formulario\";\r\nimport TestMobil from \"./pages/Dashboard/TestMobil\";\r\nimport useUser from \"./hooks/useUser\";\r\nimport FormularioBanco from \"./components/banco/formulario\";\r\nimport Utilidades from \"./pages/Dashboard/Utilidades\";\r\n\r\nimport SignIn from \"./pages/SignIn\";\r\nimport SignUp from \"./pages/SignUp\";\r\nimport Comprobante from \"./pages/Comprobante\";\r\n\r\n/**\r\n * End Modeles\r\n */\r\n\r\nconst Routers = () => {\r\n  const [formatPrint, setFormatPrint] = useState({ status: false });\r\n  let location = useLocation();\r\n  let state = location.state || { backgroundLocation: location };\r\n  return (\r\n    <>\r\n      <Routes\r\n        location={\r\n          state?.backgroundLocation ? state?.backgroundLocation : location\r\n        }\r\n      >\r\n        <Route path=\"/\" element={<Home />} />\r\n        <Route path=\"/signup2\" element={<Login />} />\r\n\r\n        <Route path=\"/registro\" element={<SignUp />} />\r\n        <Route path=\"/ingresar\" element={<SignIn />} />\r\n        <Route path=\"/comprobante\" element={<Comprobante />} />\r\n\r\n        <Route path=\"/loginout\" element={<LoginOut />} />\r\n        <Route path=\"test-mobil\" element={<TestMobil />} />\r\n        <Route path=\"welcome\" element={<LayoutWelcome />}>\r\n          <Route path=\"empresas\" element={<Welcome />} />\r\n        </Route>\r\n        <Route path=\"/workspace\" element={<LayoutDashboard />}>\r\n          <Route path=\"app\" element={<Dashboard />} />\r\n          <Route path=\"ventas\" element={<Ventas />} />\r\n          <Route path=\"compras\" element={<Compras />} />\r\n\r\n          <Route\r\n            path=\"ventas/:id\"\r\n            fullwidth={true}\r\n            element={\r\n              <FormularioVenta state={state?.model} editionMode={true} />\r\n            }\r\n          />\r\n\r\n          <Route path=\"contactos\" element={<Contactos />} />\r\n          <Route path=\"productos\" element={<Productos />} />\r\n          <Route path=\"reportes\" element={<Reports />} />\r\n          <Route path=\"util\" element={<Utilidades />} />\r\n          <Route path=\"profile\" element={<Profile />} />\r\n        </Route>\r\n\r\n        <Route path=\"/space\" element={<LayoutFullScreen />}>\r\n          <Route\r\n            path=\"productos/create/:id\"\r\n            element={\r\n              <VentaContextProvider>\r\n                <FormularioVenta state={state?.model} editionMode={true} />\r\n              </VentaContextProvider>\r\n            }\r\n          />\r\n          <Route\r\n            path=\"productos/:id\"\r\n            element={\r\n              <VentaContextProvider>\r\n                <FormularioVenta state={state?.model} editionMode={true} />\r\n              </VentaContextProvider>\r\n            }\r\n          />\r\n\r\n          <Route\r\n            path=\"compras/create/:id\"\r\n            element={\r\n              <FormularioCompra\r\n                formatPrint={formatPrint}\r\n                setFormatPrint={setFormatPrint}\r\n                state={state?.model}\r\n                editionMode={true}\r\n              />\r\n            }\r\n          />\r\n          <Route\r\n            path=\"compras/:id\"\r\n            element={\r\n              <FormularioCompra\r\n                formatPrint={formatPrint}\r\n                setFormatPrint={setFormatPrint}\r\n                state={state?.model}\r\n                editionMode={true}\r\n              />\r\n            }\r\n          />\r\n\r\n          <Route\r\n            path=\"ventas/create/:id\"\r\n            element={\r\n              <FormularioVenta\r\n                formatPrint={formatPrint}\r\n                setFormatPrint={setFormatPrint}\r\n                state={state?.model}\r\n                editionMode={true}\r\n              />\r\n            }\r\n          />\r\n          <Route\r\n            path=\"ventas/:id\"\r\n            element={\r\n              <FormularioVenta\r\n                formatPrint={formatPrint}\r\n                setFormatPrint={setFormatPrint}\r\n                state={state?.model}\r\n                editionMode={true}\r\n              />\r\n            }\r\n          />\r\n        </Route>\r\n\r\n        <Route path=\"*\" element={<NoMatch />} />\r\n      </Routes>\r\n\r\n      {state?.backgroundLocation && (\r\n        <Routes>\r\n          <Route\r\n            path=\"reportes/ventas\"\r\n            element={\r\n              <ModalRouter size={\"large\"} setTitle=\"Reporte de Venta\">\r\n                <FormularioReportVenta state={state?.model} />\r\n              </ModalRouter>\r\n            }\r\n          />\r\n          <Route\r\n            path=\"reportes/productos\"\r\n            element={\r\n              <ModalRouter size={\"large\"} setTitle=\"Reporte de Productos\">\r\n                <FormularioReportVenta state={state?.model} />\r\n              </ModalRouter>\r\n            }\r\n          />\r\n          <Route\r\n            path=\"reportes/contactos\"\r\n            element={\r\n              <ModalRouter size={\"large\"} setTitle=\"Reporte de Contactos\">\r\n                <FormularioReportVenta state={state?.model} />\r\n              </ModalRouter>\r\n            }\r\n          />\r\n          <Route\r\n            path=\"welcome/email/create\"\r\n            element={\r\n              <ModalRouter size={\"large\"} setTitle=\"Nuevo Correo\">\r\n                <FormularioEmail state={state?.model} />\r\n              </ModalRouter>\r\n            }\r\n          />\r\n          <Route\r\n            path=\"welcome/empresas/create\"\r\n            element={\r\n              <ModalRouter size={\"large\"} setTitle=\"Crea Nueva Empresa\">\r\n                <FormularioEmpresa />\r\n              </ModalRouter>\r\n            }\r\n          />\r\n          <Route\r\n            path=\"welcome/empresas/:id\"\r\n            element={\r\n              <ModalRouter size={\"large\"} setTitle=\"Editar Empresa\">\r\n                <FormularioEmpresa state={state?.model} />\r\n              </ModalRouter>\r\n            }\r\n          />\r\n          <Route\r\n            path=\"welcome/locals/create\"\r\n            element={\r\n              <ModalRouter size={\"large\"} setTitle=\"Crea Nuevo Local\">\r\n                <FormularioLocal state={state?.model} />\r\n              </ModalRouter>\r\n            }\r\n          />\r\n          <Route\r\n            path=\"welcome/locals/:id\"\r\n            element={\r\n              <ModalRouter size={\"large\"} setTitle=\"Editar Local\">\r\n                <FormularioLocal state={state?.model} />\r\n              </ModalRouter>\r\n            }\r\n          />\r\n\r\n          <Route\r\n            path=\"welcome/clientes/create\"\r\n            element={\r\n              <ModalRouter size={\"large\"} setTitle=\"Crea Nuevo Cliente\">\r\n                <FormularioCliente state={state?.model} />\r\n              </ModalRouter>\r\n            }\r\n          />\r\n          <Route\r\n            path=\"welcome/clientes/:id\"\r\n            element={\r\n              <ModalRouter size={\"large\"} setTitle=\"Editar Contacto\">\r\n                <FormularioCliente state={state?.model} />\r\n              </ModalRouter>\r\n            }\r\n          />\r\n\r\n          <Route\r\n            path=\"welcome/moneda/create\"\r\n            element={\r\n              <ModalRouter size={\"small\"} setTitle=\"Crea Nueva Moneda\">\r\n                <FormularioMoneda state={state?.model} />\r\n              </ModalRouter>\r\n            }\r\n          />\r\n          <Route\r\n            path=\"welcome/moneda/:id\"\r\n            element={\r\n              <ModalRouter size={\"small\"} setTitle=\"Editar Moneda\">\r\n                <FormularioMoneda state={state?.model} />\r\n              </ModalRouter>\r\n            }\r\n          />\r\n\r\n          <Route\r\n            path=\"welcome/banco/create\"\r\n            element={\r\n              <ModalRouter size={\"small\"} setTitle=\"Crea Nuevo Banco\">\r\n                <FormularioBanco state={state?.model} />\r\n              </ModalRouter>\r\n            }\r\n          />\r\n          <Route\r\n            path=\"welcome/banco/:id\"\r\n            element={\r\n              <ModalRouter size={\"small\"} setTitle=\"Editar Banco\">\r\n                <FormularioBanco state={state?.model} />\r\n              </ModalRouter>\r\n            }\r\n          />\r\n\r\n          <Route\r\n            path=\"welcome/vehiculo/create\"\r\n            element={\r\n              <ModalRouter size={\"small\"} setTitle=\"Crea Nuevo Vehiculo\">\r\n                <FormularioVehiculo state={state?.model} />\r\n              </ModalRouter>\r\n            }\r\n          />\r\n          <Route\r\n            path=\"welcome/vehiculo/:id\"\r\n            element={\r\n              <ModalRouter size={\"small\"} setTitle=\"Editar Vehiculo\">\r\n                <FormularioVehiculo state={state?.model} />\r\n              </ModalRouter>\r\n            }\r\n          />\r\n\r\n          <Route\r\n            path=\"welcome/ventas/create\"\r\n            element={\r\n              <ModalRouter size={\"fullscreen\"} setTitle=\"Title\">\r\n                <FormularioMoneda state={state?.model} />\r\n              </ModalRouter>\r\n            }\r\n          />\r\n          <Route\r\n            path=\"welcome/ventas/:id\"\r\n            element={\r\n              <ModalRouter size={\"fullscreen\"} setTitle=\"Title\">\r\n                {/* <FormularioVenta state={state?.model} editionMode={true} /> */}\r\n              </ModalRouter>\r\n            }\r\n          />\r\n\r\n          <Route\r\n            path=\"welcome/productos/create\"\r\n            element={\r\n              <ModalRouter\r\n                size={\"large\"}\r\n                setTitle=\"Crea Nuevo Producto ó Servicio\"\r\n              >\r\n                <FormularioProducto state={state?.model} />\r\n              </ModalRouter>\r\n            }\r\n          />\r\n          <Route\r\n            path=\"welcome/productos/:id\"\r\n            element={\r\n              <ModalRouter size={\"large\"} setTitle=\"Editar Producto ó Servicio\">\r\n                <FormularioProducto state={state?.model} />\r\n              </ModalRouter>\r\n            }\r\n          />\r\n\r\n          <Route\r\n            path=\"welcome/precios/create\"\r\n            element={\r\n              <ModalRouter size={\"small\"} setTitle=\"Crea Nuevo Precio\">\r\n                <FormularioPrecio state={state?.model} />\r\n              </ModalRouter>\r\n            }\r\n          />\r\n          <Route\r\n            path=\"welcome/precios/:id\"\r\n            element={\r\n              <ModalRouter size={\"small\"} setTitle=\"Editar Precio\">\r\n                <FormularioPrecio state={state?.model} />\r\n              </ModalRouter>\r\n            }\r\n          />\r\n        </Routes>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nfunction Profile() {\r\n  return (\r\n    <div>\r\n      <h2>Profile</h2>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction NoMatch() {\r\n  return (\r\n    <div>\r\n      <h2>Nothing to see here!</h2>\r\n      <p>\r\n        <Link to=\"/\">Go to the home page</Link>\r\n      </p>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction LoginOut() {\r\n  const navigate = useNavigate();\r\n  const { logout } = useUser();\r\n\r\n  useEffect(() => {\r\n    logout();\r\n    navigate({ pathname: \"/ingresar\" });\r\n  });\r\n\r\n  return true;\r\n}\r\n\r\nexport default Routers;\r\n","import React, { useEffect } from \"react\";\r\nimport AOS from \"aos\";\r\n\r\n/**\r\n * Router\r\n */\r\nimport { BrowserRouter as Router } from \"react-router-dom\";\r\n\r\n/**\r\n * Styles\r\n */\r\nimport \"./styles.js\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n// import { focusHandling } from 'cruip-js-toolkit';\r\nimport { ToastContainer } from \"react-toastify\";\r\n/**\r\n * Context\r\n */\r\nimport { UserContextProvider } from \"./context/UserContext\";\r\nimport { EmpresaContextProvider } from \"./context/EmpresaContext\";\r\n\r\n/**\r\n * Context Use\r\n */\r\n\r\n/**\r\n * Middleware\r\n */\r\n\r\n/**\r\n * Pages\r\n */\r\n\r\nimport Routers from \"./Routes.jsx\";\r\nimport { VentaContextProvider } from \"./context/VentaContext.jsx\";\r\n\r\n// if (process.env.NODE_ENV !== \"development\") {\r\n//   console.log = function no_console() { };\r\n// }\r\n\r\n/**\r\n * Components\r\n */\r\n\r\nfunction App() {\r\n  useEffect(() => {\r\n    AOS.init({\r\n      once: true,\r\n      disable: \"phone\",\r\n      duration: 700,\r\n      easing: \"ease-out-cubic\",\r\n    });\r\n  });\r\n\r\n  return (\r\n    <UserContextProvider>\r\n      <EmpresaContextProvider>\r\n        <VentaContextProvider>\r\n          <Router>\r\n            <Routers />\r\n          </Router>\r\n        </VentaContextProvider>\r\n      </EmpresaContextProvider>\r\n      <ToastContainer\r\n        position=\"bottom-left\"\r\n        autoClose={2000}\r\n        hideProgressBar\r\n        newestOnTop={false}\r\n        closeOnClick\r\n        rtl={false}\r\n        pauseOnFocusLoss\r\n        draggable\r\n        pauseOnHover\r\n      />\r\n    </UserContextProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://cra.link/PWA\r\n\r\n// const isLocalhost = Boolean(\r\n//   window.location.hostname === 'localhost' ||\r\n//   // [::1] is the IPv6 localhost address.\r\n//   window.location.hostname === '[::1]' ||\r\n//   // 127.0.0.0/8 are considered localhost for IPv4.\r\n//   window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\r\n// );\r\n\r\nexport function register(config) {\r\n\r\n\r\n  window.addEventListener('load', () => {\r\n\r\n    const swUrl = `${process.env.REACT_APP_PUBLIC_URL}/service-worker.js`;\r\n    // Is not localhost. Just register service worker\r\n    registerValidSW(swUrl, config);\r\n  });\r\n\r\n}\r\n// }\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then((registration) => {\r\n      console.log({registration})\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n\r\n          console.log({installingWorker});\r\n          console.log(installingWorker.state);\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                'tabs for this page are closed. See https://cra.link/PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n\r\n\r\n\r\n          \r\n        };\r\n      };\r\n    })\r\n    .catch((error) => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then((registration) => {\r\n        registration.unregister();\r\n      })\r\n      .catch((error) => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://cra.link/PWA\nserviceWorkerRegistration.register();\n"],"sourceRoot":""}